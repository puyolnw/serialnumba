function cb(s,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Fp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var kc={exports:{}},Yr={},Cc={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function db(){if(Wf)return je;Wf=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function N(A,K,me){this.props=A,this.context=K,this.refs=j,this.updater=me||v}N.prototype.isReactComponent={},N.prototype.setState=function(A,K){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,K,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function _(){}_.prototype=N.prototype;function C(A,K,me){this.props=A,this.context=K,this.refs=j,this.updater=me||v}var P=C.prototype=new _;P.constructor=C,w(P,N.prototype),P.isPureReactComponent=!0;var W=Array.isArray,L=Object.prototype.hasOwnProperty,Y={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function M(A,K,me){var pe,ve={},xe=null,Pe=null;if(K!=null)for(pe in K.ref!==void 0&&(Pe=K.ref),K.key!==void 0&&(xe=""+K.key),K)L.call(K,pe)&&!k.hasOwnProperty(pe)&&(ve[pe]=K[pe]);var Ee=arguments.length-2;if(Ee===1)ve.children=me;else if(1<Ee){for(var Oe=Array(Ee),Ct=0;Ct<Ee;Ct++)Oe[Ct]=arguments[Ct+2];ve.children=Oe}if(A&&A.defaultProps)for(pe in Ee=A.defaultProps,Ee)ve[pe]===void 0&&(ve[pe]=Ee[pe]);return{$$typeof:s,type:A,key:xe,ref:Pe,props:ve,_owner:Y.current}}function B(A,K){return{$$typeof:s,type:A.type,key:K,ref:A.ref,props:A.props,_owner:A._owner}}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function q(A){var K={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(me){return K[me]})}var z=/\/+/g;function ne(A,K){return typeof A=="object"&&A!==null&&A.key!=null?q(""+A.key):K.toString(36)}function ee(A,K,me,pe,ve){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var Pe=!1;if(A===null)Pe=!0;else switch(xe){case"string":case"number":Pe=!0;break;case"object":switch(A.$$typeof){case s:case e:Pe=!0}}if(Pe)return Pe=A,ve=ve(Pe),A=pe===""?"."+ne(Pe,0):pe,W(ve)?(me="",A!=null&&(me=A.replace(z,"$&/")+"/"),ee(ve,K,me,"",function(Ct){return Ct})):ve!=null&&($(ve)&&(ve=B(ve,me+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(z,"$&/")+"/")+A)),K.push(ve)),1;if(Pe=0,pe=pe===""?".":pe+":",W(A))for(var Ee=0;Ee<A.length;Ee++){xe=A[Ee];var Oe=pe+ne(xe,Ee);Pe+=ee(xe,K,me,Oe,ve)}else if(Oe=y(A),typeof Oe=="function")for(A=Oe.call(A),Ee=0;!(xe=A.next()).done;)xe=xe.value,Oe=pe+ne(xe,Ee++),Pe+=ee(xe,K,me,Oe,ve);else if(xe==="object")throw K=String(A),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Pe}function U(A,K,me){if(A==null)return A;var pe=[],ve=0;return ee(A,pe,"","",function(xe){return K.call(me,xe,ve++)}),pe}function F(A){if(A._status===-1){var K=A._result;K=K(),K.then(function(me){(A._status===0||A._status===-1)&&(A._status=1,A._result=me)},function(me){(A._status===0||A._status===-1)&&(A._status=2,A._result=me)}),A._status===-1&&(A._status=0,A._result=K)}if(A._status===1)return A._result.default;throw A._result}var Q={current:null},X={transition:null},re={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:X,ReactCurrentOwner:Y};function te(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:U,forEach:function(A,K,me){U(A,function(){K.apply(this,arguments)},me)},count:function(A){var K=0;return U(A,function(){K++}),K},toArray:function(A){return U(A,function(K){return K})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},je.Component=N,je.Fragment=n,je.Profiler=o,je.PureComponent=C,je.StrictMode=i,je.Suspense=h,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,je.act=te,je.cloneElement=function(A,K,me){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var pe=w({},A.props),ve=A.key,xe=A.ref,Pe=A._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,Pe=Y.current),K.key!==void 0&&(ve=""+K.key),A.type&&A.type.defaultProps)var Ee=A.type.defaultProps;for(Oe in K)L.call(K,Oe)&&!k.hasOwnProperty(Oe)&&(pe[Oe]=K[Oe]===void 0&&Ee!==void 0?Ee[Oe]:K[Oe])}var Oe=arguments.length-2;if(Oe===1)pe.children=me;else if(1<Oe){Ee=Array(Oe);for(var Ct=0;Ct<Oe;Ct++)Ee[Ct]=arguments[Ct+2];pe.children=Ee}return{$$typeof:s,type:A.type,key:ve,ref:xe,props:pe,_owner:Pe}},je.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},je.createElement=M,je.createFactory=function(A){var K=M.bind(null,A);return K.type=A,K},je.createRef=function(){return{current:null}},je.forwardRef=function(A){return{$$typeof:u,render:A}},je.isValidElement=$,je.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:F}},je.memo=function(A,K){return{$$typeof:m,type:A,compare:K===void 0?null:K}},je.startTransition=function(A){var K=X.transition;X.transition={};try{A()}finally{X.transition=K}},je.unstable_act=te,je.useCallback=function(A,K){return Q.current.useCallback(A,K)},je.useContext=function(A){return Q.current.useContext(A)},je.useDebugValue=function(){},je.useDeferredValue=function(A){return Q.current.useDeferredValue(A)},je.useEffect=function(A,K){return Q.current.useEffect(A,K)},je.useId=function(){return Q.current.useId()},je.useImperativeHandle=function(A,K,me){return Q.current.useImperativeHandle(A,K,me)},je.useInsertionEffect=function(A,K){return Q.current.useInsertionEffect(A,K)},je.useLayoutEffect=function(A,K){return Q.current.useLayoutEffect(A,K)},je.useMemo=function(A,K){return Q.current.useMemo(A,K)},je.useReducer=function(A,K,me){return Q.current.useReducer(A,K,me)},je.useRef=function(A){return Q.current.useRef(A)},je.useState=function(A){return Q.current.useState(A)},je.useSyncExternalStore=function(A,K,me){return Q.current.useSyncExternalStore(A,K,me)},je.useTransition=function(){return Q.current.useTransition()},je.version="18.3.1",je}var $f;function gd(){return $f||($f=1,Cc.exports=db()),Cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function ub(){if(Hf)return Yr;Hf=1;var s=gd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,m){var p,x={},y=null,v=null;m!==void 0&&(y=""+m),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(v=h.ref);for(p in h)i.call(h,p)&&!l.hasOwnProperty(p)&&(x[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)x[p]===void 0&&(x[p]=h[p]);return{$$typeof:e,type:u,key:y,ref:v,props:x,_owner:o.current}}return Yr.Fragment=n,Yr.jsx=c,Yr.jsxs=c,Yr}var Uf;function hb(){return Uf||(Uf=1,kc.exports=ub()),kc.exports}var t=hb(),E=gd();const uo=Fp(E),fb=cb({__proto__:null,default:uo},[E]);var Da={},Ec={exports:{}},vt={},Rc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function mb(){return Vf||(Vf=1,(function(s){function e(X,re){var te=X.length;X.push(re);e:for(;0<te;){var A=te-1>>>1,K=X[A];if(0<o(K,re))X[A]=re,X[te]=K,te=A;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var re=X[0],te=X.pop();if(te!==re){X[0]=te;e:for(var A=0,K=X.length,me=K>>>1;A<me;){var pe=2*(A+1)-1,ve=X[pe],xe=pe+1,Pe=X[xe];if(0>o(ve,te))xe<K&&0>o(Pe,ve)?(X[A]=Pe,X[xe]=te,A=xe):(X[A]=ve,X[pe]=te,A=pe);else if(xe<K&&0>o(Pe,te))X[A]=Pe,X[xe]=te,A=xe;else break e}}return re}function o(X,re){var te=X.sortIndex-re.sortIndex;return te!==0?te:X.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();s.unstable_now=function(){return c.now()-u}}var h=[],m=[],p=1,x=null,y=3,v=!1,w=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(X){for(var re=n(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=X)i(m),re.sortIndex=re.expirationTime,e(h,re);else break;re=n(m)}}function W(X){if(j=!1,P(X),!w)if(n(h)!==null)w=!0,F(L);else{var re=n(m);re!==null&&Q(W,re.startTime-X)}}function L(X,re){w=!1,j&&(j=!1,_(M),M=-1),v=!0;var te=y;try{for(P(re),x=n(h);x!==null&&(!(x.expirationTime>re)||X&&!q());){var A=x.callback;if(typeof A=="function"){x.callback=null,y=x.priorityLevel;var K=A(x.expirationTime<=re);re=s.unstable_now(),typeof K=="function"?x.callback=K:x===n(h)&&i(h),P(re)}else i(h);x=n(h)}if(x!==null)var me=!0;else{var pe=n(m);pe!==null&&Q(W,pe.startTime-re),me=!1}return me}finally{x=null,y=te,v=!1}}var Y=!1,k=null,M=-1,B=5,$=-1;function q(){return!(s.unstable_now()-$<B)}function z(){if(k!==null){var X=s.unstable_now();$=X;var re=!0;try{re=k(!0,X)}finally{re?ne():(Y=!1,k=null)}}else Y=!1}var ne;if(typeof C=="function")ne=function(){C(z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,U=ee.port2;ee.port1.onmessage=z,ne=function(){U.postMessage(null)}}else ne=function(){N(z,0)};function F(X){k=X,Y||(Y=!0,ne())}function Q(X,re){M=N(function(){X(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_continueExecution=function(){w||v||(w=!0,F(L))},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_getFirstCallbackNode=function(){return n(h)},s.unstable_next=function(X){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var te=y;y=re;try{return X()}finally{y=te}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=y;y=X;try{return re()}finally{y=te}},s.unstable_scheduleCallback=function(X,re,te){var A=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?A+te:A):te=A,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=te+K,X={id:p++,callback:re,priorityLevel:X,startTime:te,expirationTime:K,sortIndex:-1},te>A?(X.sortIndex=te,e(m,X),n(h)===null&&X===n(m)&&(j?(_(M),M=-1):j=!0,Q(W,te-A))):(X.sortIndex=K,e(h,X),w||v||(w=!0,F(L))),X},s.unstable_shouldYield=q,s.unstable_wrapCallback=function(X){var re=y;return function(){var te=y;y=re;try{return X.apply(this,arguments)}finally{y=te}}}})(Tc)),Tc}var qf;function pb(){return qf||(qf=1,Rc.exports=mb()),Rc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf;function gb(){if(Yf)return vt;Yf=1;var s=gd(),e=pb();function n(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,a){c(r,a),c(r+"Capture",a)}function c(r,a){for(o[r]=a,r=0;r<a.length;r++)i.add(a[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function y(r){return h.call(x,r)?!0:h.call(p,r)?!1:m.test(r)?x[r]=!0:(p[r]=!0,!1)}function v(r,a,d,f){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:d!==null?!d.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,a,d,f){if(a===null||typeof a>"u"||v(r,a,d,f))return!0;if(f)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(r,a,d,f,g,b,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=d,this.propertyName=r,this.type=a,this.sanitizeURL=b,this.removeEmptyString=S}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];N[a]=new j(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(_,C);N[a]=new j(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(_,C);N[a]=new j(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(_,C);N[a]=new j(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function P(r,a,d,f){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,d,g,f)&&(d=null),f||g===null?y(a)&&(d===null?r.removeAttribute(a):r.setAttribute(a,""+d)):g.mustUseProperty?r[g.propertyName]=d===null?g.type===3?!1:"":d:(a=g.attributeName,f=g.attributeNamespace,d===null?r.removeAttribute(a):(g=g.type,d=g===3||g===4&&d===!0?"":""+d,f?r.setAttributeNS(f,a,d):r.setAttribute(a,d))))}var W=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),Y=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),q=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),X=Symbol.iterator;function re(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var te=Object.assign,A;function K(r){if(A===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);A=a&&a[1]||""}return`
`+A+r}var me=!1;function pe(r,a){if(!r||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(H){var f=H}Reflect.construct(r,[],a)}else{try{a.call()}catch(H){f=H}r.call(a.prototype)}else{try{throw Error()}catch(H){f=H}r()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var g=H.stack.split(`
`),b=f.stack.split(`
`),S=g.length-1,R=b.length-1;1<=S&&0<=R&&g[S]!==b[R];)R--;for(;1<=S&&0<=R;S--,R--)if(g[S]!==b[R]){if(S!==1||R!==1)do if(S--,R--,0>R||g[S]!==b[R]){var T=`
`+g[S].replace(" at new "," at ");return r.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",r.displayName)),T}while(1<=S&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=d}return(r=r?r.displayName||r.name:"")?K(r):""}function ve(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function xe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case Y:return"Portal";case B:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case q:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case z:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return a=r.displayName||null,a!==null?a:xe(r.type)||"Memo";case F:a=r._payload,r=r._init;try{return xe(r(a))}catch{}}return null}function Pe(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(a);case 8:return a===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ct(r){var a=Oe(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,b.call(this,S)}}),Object.defineProperty(r,a,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ni(r){r._valueTracker||(r._valueTracker=Ct(r))}function qd(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var d=a.getValue(),f="";return r&&(f=Oe(r)?r.checked?"true":"false":r.value),r=f,r!==d?(a.setValue(r),!0):!1}function wi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Mo(r,a){var d=a.checked;return te({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??r._wrapperState.initialChecked})}function Yd(r,a){var d=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;d=Ee(a.value!=null?a.value:d),r._wrapperState={initialChecked:f,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xd(r,a){a=a.checked,a!=null&&P(r,"checked",a,!1)}function Ao(r,a){Xd(r,a);var d=Ee(a.value),f=a.type;if(d!=null)f==="number"?(d===0&&r.value===""||r.value!=d)&&(r.value=""+d):r.value!==""+d&&(r.value=""+d);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Lo(r,a.type,d):a.hasOwnProperty("defaultValue")&&Lo(r,a.type,Ee(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Kd(r,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,d||a===r.value||(r.value=a),r.defaultValue=a}d=r.name,d!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,d!==""&&(r.name=d)}function Lo(r,a,d){(a!=="number"||wi(r.ownerDocument)!==r)&&(d==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+d&&(r.defaultValue=""+d))}var lr=Array.isArray;function _n(r,a,d,f){if(r=r.options,a){a={};for(var g=0;g<d.length;g++)a["$"+d[g]]=!0;for(d=0;d<r.length;d++)g=a.hasOwnProperty("$"+r[d].value),r[d].selected!==g&&(r[d].selected=g),g&&f&&(r[d].defaultSelected=!0)}else{for(d=""+Ee(d),a=null,g=0;g<r.length;g++){if(r[g].value===d){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Oo(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qd(r,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(lr(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}r._wrapperState={initialValue:Ee(d)}}function Gd(r,a){var d=Ee(a.value),f=Ee(a.defaultValue);d!=null&&(d=""+d,d!==r.value&&(r.value=d),a.defaultValue==null&&r.defaultValue!==d&&(r.defaultValue=d)),f!=null&&(r.defaultValue=""+f)}function Jd(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Zd(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Zd(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Si,eu=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,f,g){MSApp.execUnsafeLocalFunction(function(){return r(a,d,f,g)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(Si=Si||document.createElement("div"),Si.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Si.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function cr(r,a){if(a){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=a;return}}r.textContent=a}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fx=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(r){fx.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),dr[a]=dr[r]})});function tu(r,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||dr.hasOwnProperty(r)&&dr[r]?(""+a).trim():a+"px"}function su(r,a){r=r.style;for(var d in a)if(a.hasOwnProperty(d)){var f=d.indexOf("--")===0,g=tu(d,a[d],f);d==="float"&&(d="cssFloat"),f?r.setProperty(d,g):r[d]=g}}var mx=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(r,a){if(a){if(mx[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Bo(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Wo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var $o=null,kn=null,Cn=null;function nu(r){if(r=Dr(r)){if(typeof $o!="function")throw Error(n(280));var a=r.stateNode;a&&(a=Yi(a),$o(r.stateNode,r.type,a))}}function ru(r){kn?Cn?Cn.push(r):Cn=[r]:kn=r}function iu(){if(kn){var r=kn,a=Cn;if(Cn=kn=null,nu(r),a)for(r=0;r<a.length;r++)nu(a[r])}}function au(r,a){return r(a)}function ou(){}var Ho=!1;function lu(r,a,d){if(Ho)return r(a,d);Ho=!0;try{return au(r,a,d)}finally{Ho=!1,(kn!==null||Cn!==null)&&(ou(),iu())}}function ur(r,a){var d=r.stateNode;if(d===null)return null;var f=Yi(d);if(f===null)return null;d=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Uo=!1;if(u)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Uo=!1}function px(r,a,d,f,g,b,S,R,T){var H=Array.prototype.slice.call(arguments,3);try{a.apply(d,H)}catch(J){this.onError(J)}}var fr=!1,_i=null,ki=!1,Vo=null,gx={onError:function(r){fr=!0,_i=r}};function xx(r,a,d,f,g,b,S,R,T){fr=!1,_i=null,px.apply(gx,arguments)}function bx(r,a,d,f,g,b,S,R,T){if(xx.apply(this,arguments),fr){if(fr){var H=_i;fr=!1,_i=null}else throw Error(n(198));ki||(ki=!0,Vo=H)}}function Ks(r){var a=r,d=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(d=a.return),r=a.return;while(r)}return a.tag===3?d:null}function cu(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function du(r){if(Ks(r)!==r)throw Error(n(188))}function yx(r){var a=r.alternate;if(!a){if(a=Ks(r),a===null)throw Error(n(188));return a!==r?null:r}for(var d=r,f=a;;){var g=d.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){d=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===d)return du(g),r;if(b===f)return du(g),a;b=b.sibling}throw Error(n(188))}if(d.return!==f.return)d=g,f=b;else{for(var S=!1,R=g.child;R;){if(R===d){S=!0,d=g,f=b;break}if(R===f){S=!0,f=g,d=b;break}R=R.sibling}if(!S){for(R=b.child;R;){if(R===d){S=!0,d=b,f=g;break}if(R===f){S=!0,f=b,d=g;break}R=R.sibling}if(!S)throw Error(n(189))}}if(d.alternate!==f)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:a}function uu(r){return r=yx(r),r!==null?hu(r):null}function hu(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=hu(r);if(a!==null)return a;r=r.sibling}return null}var fu=e.unstable_scheduleCallback,mu=e.unstable_cancelCallback,vx=e.unstable_shouldYield,jx=e.unstable_requestPaint,Ve=e.unstable_now,Nx=e.unstable_getCurrentPriorityLevel,qo=e.unstable_ImmediatePriority,pu=e.unstable_UserBlockingPriority,Ci=e.unstable_NormalPriority,wx=e.unstable_LowPriority,gu=e.unstable_IdlePriority,Ei=null,Kt=null;function Sx(r){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ei,r,void 0,(r.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Cx,_x=Math.log,kx=Math.LN2;function Cx(r){return r>>>=0,r===0?32:31-(_x(r)/kx|0)|0}var Ri=64,Ti=4194304;function mr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Pi(r,a){var d=r.pendingLanes;if(d===0)return 0;var f=0,g=r.suspendedLanes,b=r.pingedLanes,S=d&268435455;if(S!==0){var R=S&~g;R!==0?f=mr(R):(b&=S,b!==0&&(f=mr(b)))}else S=d&~g,S!==0?f=mr(S):b!==0&&(f=mr(b));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,b=a&-a,g>=b||g===16&&(b&4194240)!==0))return a;if((f&4)!==0&&(f|=d&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=f;0<a;)d=31-It(a),g=1<<d,f|=r[d],a&=~g;return f}function Ex(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(r,a){for(var d=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes;0<b;){var S=31-It(b),R=1<<S,T=g[S];T===-1?((R&d)===0||(R&f)!==0)&&(g[S]=Ex(R,a)):T<=a&&(r.expiredLanes|=R),b&=~R}}function Yo(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xu(){var r=Ri;return Ri<<=1,(Ri&4194240)===0&&(Ri=64),r}function Xo(r){for(var a=[],d=0;31>d;d++)a.push(r);return a}function pr(r,a,d){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-It(a),r[a]=d}function Tx(r,a){var d=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<d;){var g=31-It(d),b=1<<g;a[g]=0,f[g]=-1,r[g]=-1,d&=~b}}function Ko(r,a){var d=r.entangledLanes|=a;for(r=r.entanglements;d;){var f=31-It(d),g=1<<f;g&a|r[f]&a&&(r[f]|=a),d&=~g}}var Re=0;function bu(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var yu,Qo,vu,ju,Nu,Go=!1,Di=[],js=null,Ns=null,ws=null,gr=new Map,xr=new Map,Ss=[],Px="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(r,a){switch(r){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":gr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(a.pointerId)}}function br(r,a,d,f,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:d,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},a!==null&&(a=Dr(a),a!==null&&Qo(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function Dx(r,a,d,f,g){switch(a){case"focusin":return js=br(js,r,a,d,f,g),!0;case"dragenter":return Ns=br(Ns,r,a,d,f,g),!0;case"mouseover":return ws=br(ws,r,a,d,f,g),!0;case"pointerover":var b=g.pointerId;return gr.set(b,br(gr.get(b)||null,r,a,d,f,g)),!0;case"gotpointercapture":return b=g.pointerId,xr.set(b,br(xr.get(b)||null,r,a,d,f,g)),!0}return!1}function Su(r){var a=Qs(r.target);if(a!==null){var d=Ks(a);if(d!==null){if(a=d.tag,a===13){if(a=cu(d),a!==null){r.blockedOn=a,Nu(r.priority,function(){vu(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Mi(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var d=Zo(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(d===null){d=r.nativeEvent;var f=new d.constructor(d.type,d);Io=f,d.target.dispatchEvent(f),Io=null}else return a=Dr(d),a!==null&&Qo(a),r.blockedOn=d,!1;a.shift()}return!0}function _u(r,a,d){Mi(r)&&d.delete(a)}function Mx(){Go=!1,js!==null&&Mi(js)&&(js=null),Ns!==null&&Mi(Ns)&&(Ns=null),ws!==null&&Mi(ws)&&(ws=null),gr.forEach(_u),xr.forEach(_u)}function yr(r,a){r.blockedOn===a&&(r.blockedOn=null,Go||(Go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mx)))}function vr(r){function a(g){return yr(g,r)}if(0<Di.length){yr(Di[0],r);for(var d=1;d<Di.length;d++){var f=Di[d];f.blockedOn===r&&(f.blockedOn=null)}}for(js!==null&&yr(js,r),Ns!==null&&yr(Ns,r),ws!==null&&yr(ws,r),gr.forEach(a),xr.forEach(a),d=0;d<Ss.length;d++)f=Ss[d],f.blockedOn===r&&(f.blockedOn=null);for(;0<Ss.length&&(d=Ss[0],d.blockedOn===null);)Su(d),d.blockedOn===null&&Ss.shift()}var En=W.ReactCurrentBatchConfig,Ai=!0;function Ax(r,a,d,f){var g=Re,b=En.transition;En.transition=null;try{Re=1,Jo(r,a,d,f)}finally{Re=g,En.transition=b}}function Lx(r,a,d,f){var g=Re,b=En.transition;En.transition=null;try{Re=4,Jo(r,a,d,f)}finally{Re=g,En.transition=b}}function Jo(r,a,d,f){if(Ai){var g=Zo(r,a,d,f);if(g===null)gl(r,a,f,Li,d),wu(r,f);else if(Dx(g,r,a,d,f))f.stopPropagation();else if(wu(r,f),a&4&&-1<Px.indexOf(r)){for(;g!==null;){var b=Dr(g);if(b!==null&&yu(b),b=Zo(r,a,d,f),b===null&&gl(r,a,f,Li,d),b===g)break;g=b}g!==null&&f.stopPropagation()}else gl(r,a,f,null,d)}}var Li=null;function Zo(r,a,d,f){if(Li=null,r=Wo(f),r=Qs(r),r!==null)if(a=Ks(r),a===null)r=null;else if(d=a.tag,d===13){if(r=cu(a),r!==null)return r;r=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Li=r,null}function ku(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nx()){case qo:return 1;case pu:return 4;case Ci:case wx:return 16;case gu:return 536870912;default:return 16}default:return 16}}var _s=null,el=null,Oi=null;function Cu(){if(Oi)return Oi;var r,a=el,d=a.length,f,g="value"in _s?_s.value:_s.textContent,b=g.length;for(r=0;r<d&&a[r]===g[r];r++);var S=d-r;for(f=1;f<=S&&a[d-f]===g[b-f];f++);return Oi=g.slice(r,1<f?1-f:void 0)}function Fi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function zi(){return!0}function Eu(){return!1}function Et(r){function a(d,f,g,b,S){this._reactName=d,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(d=r[R],this[R]=d?d(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?zi:Eu,this.isPropagationStopped=Eu,this}return te(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),a}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=Et(Rn),jr=te({},Rn,{view:0,detail:0}),Ox=Et(jr),sl,nl,Nr,Bi=te({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:il,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Nr&&(Nr&&r.type==="mousemove"?(sl=r.screenX-Nr.screenX,nl=r.screenY-Nr.screenY):nl=sl=0,Nr=r),sl)},movementY:function(r){return"movementY"in r?r.movementY:nl}}),Ru=Et(Bi),Fx=te({},Bi,{dataTransfer:0}),zx=Et(Fx),Bx=te({},jr,{relatedTarget:0}),rl=Et(Bx),Ix=te({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wx=Et(Ix),$x=te({},Rn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hx=Et($x),Ux=te({},Rn,{data:0}),Tu=Et(Ux),Vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Yx[r])?!!a[r]:!1}function il(){return Xx}var Kx=te({},jr,{key:function(r){if(r.key){var a=Vx[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Fi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:il,charCode:function(r){return r.type==="keypress"?Fi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qx=Et(Kx),Gx=te({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=Et(Gx),Jx=te({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:il}),Zx=Et(Jx),e0=te({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),t0=Et(e0),s0=te({},Bi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),n0=Et(s0),r0=[9,13,27,32],al=u&&"CompositionEvent"in window,wr=null;u&&"documentMode"in document&&(wr=document.documentMode);var i0=u&&"TextEvent"in window&&!wr,Du=u&&(!al||wr&&8<wr&&11>=wr),Mu=" ",Au=!1;function Lu(r,a){switch(r){case"keyup":return r0.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Tn=!1;function a0(r,a){switch(r){case"compositionend":return Ou(a);case"keypress":return a.which!==32?null:(Au=!0,Mu);case"textInput":return r=a.data,r===Mu&&Au?null:r;default:return null}}function o0(r,a){if(Tn)return r==="compositionend"||!al&&Lu(r,a)?(r=Cu(),Oi=el=_s=null,Tn=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Du&&a.locale!=="ko"?null:a.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!l0[r.type]:a==="textarea"}function zu(r,a,d,f){ru(f),a=Ui(a,"onChange"),0<a.length&&(d=new tl("onChange","change",null,d,f),r.push({event:d,listeners:a}))}var Sr=null,_r=null;function c0(r){sh(r,0)}function Ii(r){var a=Ln(r);if(qd(a))return r}function d0(r,a){if(r==="change")return a}var Bu=!1;if(u){var ol;if(u){var ll="oninput"in document;if(!ll){var Iu=document.createElement("div");Iu.setAttribute("oninput","return;"),ll=typeof Iu.oninput=="function"}ol=ll}else ol=!1;Bu=ol&&(!document.documentMode||9<document.documentMode)}function Wu(){Sr&&(Sr.detachEvent("onpropertychange",$u),_r=Sr=null)}function $u(r){if(r.propertyName==="value"&&Ii(_r)){var a=[];zu(a,_r,r,Wo(r)),lu(c0,a)}}function u0(r,a,d){r==="focusin"?(Wu(),Sr=a,_r=d,Sr.attachEvent("onpropertychange",$u)):r==="focusout"&&Wu()}function h0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ii(_r)}function f0(r,a){if(r==="click")return Ii(a)}function m0(r,a){if(r==="input"||r==="change")return Ii(a)}function p0(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Wt=typeof Object.is=="function"?Object.is:p0;function kr(r,a){if(Wt(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var d=Object.keys(r),f=Object.keys(a);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var g=d[f];if(!h.call(a,g)||!Wt(r[g],a[g]))return!1}return!0}function Hu(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uu(r,a){var d=Hu(r);r=0;for(var f;d;){if(d.nodeType===3){if(f=r+d.textContent.length,r<=a&&f>=a)return{node:d,offset:a-r};r=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hu(d)}}function Vu(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Vu(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function qu(){for(var r=window,a=wi();a instanceof r.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)r=a.contentWindow;else break;a=wi(r.document)}return a}function cl(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function g0(r){var a=qu(),d=r.focusedElem,f=r.selectionRange;if(a!==d&&d&&d.ownerDocument&&Vu(d.ownerDocument.documentElement,d)){if(f!==null&&cl(d)){if(a=f.start,r=f.end,r===void 0&&(r=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(r,d.value.length);else if(r=(a=d.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=d.textContent.length,b=Math.min(f.start,g);f=f.end===void 0?b:Math.min(f.end,g),!r.extend&&b>f&&(g=f,f=b,b=g),g=Uu(d,b);var S=Uu(d,f);g&&S&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),b>f?(r.addRange(a),r.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),r.addRange(a)))}}for(a=[],r=d;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)r=a[d],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var x0=u&&"documentMode"in document&&11>=document.documentMode,Pn=null,dl=null,Cr=null,ul=!1;function Yu(r,a,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ul||Pn==null||Pn!==wi(f)||(f=Pn,"selectionStart"in f&&cl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cr&&kr(Cr,f)||(Cr=f,f=Ui(dl,"onSelect"),0<f.length&&(a=new tl("onSelect","select",null,a,d),r.push({event:a,listeners:f}),a.target=Pn)))}function Wi(r,a){var d={};return d[r.toLowerCase()]=a.toLowerCase(),d["Webkit"+r]="webkit"+a,d["Moz"+r]="moz"+a,d}var Dn={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},hl={},Xu={};u&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function $i(r){if(hl[r])return hl[r];if(!Dn[r])return r;var a=Dn[r],d;for(d in a)if(a.hasOwnProperty(d)&&d in Xu)return hl[r]=a[d];return r}var Ku=$i("animationend"),Qu=$i("animationiteration"),Gu=$i("animationstart"),Ju=$i("transitionend"),Zu=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(r,a){Zu.set(r,a),l(a,[r])}for(var fl=0;fl<eh.length;fl++){var ml=eh[fl],b0=ml.toLowerCase(),y0=ml[0].toUpperCase()+ml.slice(1);ks(b0,"on"+y0)}ks(Ku,"onAnimationEnd"),ks(Qu,"onAnimationIteration"),ks(Gu,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(Ju,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function th(r,a,d){var f=r.type||"unknown-event";r.currentTarget=d,bx(f,a,void 0,r),r.currentTarget=null}function sh(r,a){a=(a&4)!==0;for(var d=0;d<r.length;d++){var f=r[d],g=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var S=f.length-1;0<=S;S--){var R=f[S],T=R.instance,H=R.currentTarget;if(R=R.listener,T!==b&&g.isPropagationStopped())break e;th(g,R,H),b=T}else for(S=0;S<f.length;S++){if(R=f[S],T=R.instance,H=R.currentTarget,R=R.listener,T!==b&&g.isPropagationStopped())break e;th(g,R,H),b=T}}}if(ki)throw r=Vo,ki=!1,Vo=null,r}function Ae(r,a){var d=a[Nl];d===void 0&&(d=a[Nl]=new Set);var f=r+"__bubble";d.has(f)||(nh(a,r,2,!1),d.add(f))}function pl(r,a,d){var f=0;a&&(f|=4),nh(d,r,f,a)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Rr(r){if(!r[Hi]){r[Hi]=!0,i.forEach(function(d){d!=="selectionchange"&&(v0.has(d)||pl(d,!1,r),pl(d,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Hi]||(a[Hi]=!0,pl("selectionchange",!1,a))}}function nh(r,a,d,f){switch(ku(a)){case 1:var g=Ax;break;case 4:g=Lx;break;default:g=Jo}d=g.bind(null,a,d,r),g=void 0,!Uo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(a,d,{capture:!0,passive:g}):r.addEventListener(a,d,!0):g!==void 0?r.addEventListener(a,d,{passive:g}):r.addEventListener(a,d,!1)}function gl(r,a,d,f,g){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var T=S.tag;if((T===3||T===4)&&(T=S.stateNode.containerInfo,T===g||T.nodeType===8&&T.parentNode===g))return;S=S.return}for(;R!==null;){if(S=Qs(R),S===null)return;if(T=S.tag,T===5||T===6){f=b=S;continue e}R=R.parentNode}}f=f.return}lu(function(){var H=b,J=Wo(d),Z=[];e:{var G=Zu.get(r);if(G!==void 0){var ae=tl,le=r;switch(r){case"keypress":if(Fi(d)===0)break e;case"keydown":case"keyup":ae=Qx;break;case"focusin":le="focus",ae=rl;break;case"focusout":le="blur",ae=rl;break;case"beforeblur":case"afterblur":ae=rl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Zx;break;case Ku:case Qu:case Gu:ae=Wx;break;case Ju:ae=t0;break;case"scroll":ae=Ox;break;case"wheel":ae=n0;break;case"copy":case"cut":case"paste":ae=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Pu}var ce=(a&4)!==0,qe=!ce&&r==="scroll",O=ce?G!==null?G+"Capture":null:G;ce=[];for(var D=H,I;D!==null;){I=D;var se=I.stateNode;if(I.tag===5&&se!==null&&(I=se,O!==null&&(se=ur(D,O),se!=null&&ce.push(Tr(D,se,I)))),qe)break;D=D.return}0<ce.length&&(G=new ae(G,le,null,d,J),Z.push({event:G,listeners:ce}))}}if((a&7)===0){e:{if(G=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",G&&d!==Io&&(le=d.relatedTarget||d.fromElement)&&(Qs(le)||le[os]))break e;if((ae||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,ae?(le=d.relatedTarget||d.toElement,ae=H,le=le?Qs(le):null,le!==null&&(qe=Ks(le),le!==qe||le.tag!==5&&le.tag!==6)&&(le=null)):(ae=null,le=H),ae!==le)){if(ce=Ru,se="onMouseLeave",O="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ce=Pu,se="onPointerLeave",O="onPointerEnter",D="pointer"),qe=ae==null?G:Ln(ae),I=le==null?G:Ln(le),G=new ce(se,D+"leave",ae,d,J),G.target=qe,G.relatedTarget=I,se=null,Qs(J)===H&&(ce=new ce(O,D+"enter",le,d,J),ce.target=I,ce.relatedTarget=qe,se=ce),qe=se,ae&&le)t:{for(ce=ae,O=le,D=0,I=ce;I;I=Mn(I))D++;for(I=0,se=O;se;se=Mn(se))I++;for(;0<D-I;)ce=Mn(ce),D--;for(;0<I-D;)O=Mn(O),I--;for(;D--;){if(ce===O||O!==null&&ce===O.alternate)break t;ce=Mn(ce),O=Mn(O)}ce=null}else ce=null;ae!==null&&rh(Z,G,ae,ce,!1),le!==null&&qe!==null&&rh(Z,qe,le,ce,!0)}}e:{if(G=H?Ln(H):window,ae=G.nodeName&&G.nodeName.toLowerCase(),ae==="select"||ae==="input"&&G.type==="file")var de=d0;else if(Fu(G))if(Bu)de=m0;else{de=h0;var ue=u0}else(ae=G.nodeName)&&ae.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(de=f0);if(de&&(de=de(r,H))){zu(Z,de,d,J);break e}ue&&ue(r,G,H),r==="focusout"&&(ue=G._wrapperState)&&ue.controlled&&G.type==="number"&&Lo(G,"number",G.value)}switch(ue=H?Ln(H):window,r){case"focusin":(Fu(ue)||ue.contentEditable==="true")&&(Pn=ue,dl=H,Cr=null);break;case"focusout":Cr=dl=Pn=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,Yu(Z,d,J);break;case"selectionchange":if(x0)break;case"keydown":case"keyup":Yu(Z,d,J)}var he;if(al)e:{switch(r){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Tn?Lu(r,d)&&(fe="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(fe="onCompositionStart");fe&&(Du&&d.locale!=="ko"&&(Tn||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Tn&&(he=Cu()):(_s=J,el="value"in _s?_s.value:_s.textContent,Tn=!0)),ue=Ui(H,fe),0<ue.length&&(fe=new Tu(fe,r,null,d,J),Z.push({event:fe,listeners:ue}),he?fe.data=he:(he=Ou(d),he!==null&&(fe.data=he)))),(he=i0?a0(r,d):o0(r,d))&&(H=Ui(H,"onBeforeInput"),0<H.length&&(J=new Tu("onBeforeInput","beforeinput",null,d,J),Z.push({event:J,listeners:H}),J.data=he))}sh(Z,a)})}function Tr(r,a,d){return{instance:r,listener:a,currentTarget:d}}function Ui(r,a){for(var d=a+"Capture",f=[];r!==null;){var g=r,b=g.stateNode;g.tag===5&&b!==null&&(g=b,b=ur(r,d),b!=null&&f.unshift(Tr(r,b,g)),b=ur(r,a),b!=null&&f.push(Tr(r,b,g))),r=r.return}return f}function Mn(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function rh(r,a,d,f,g){for(var b=a._reactName,S=[];d!==null&&d!==f;){var R=d,T=R.alternate,H=R.stateNode;if(T!==null&&T===f)break;R.tag===5&&H!==null&&(R=H,g?(T=ur(d,b),T!=null&&S.unshift(Tr(d,T,R))):g||(T=ur(d,b),T!=null&&S.push(Tr(d,T,R)))),d=d.return}S.length!==0&&r.push({event:a,listeners:S})}var j0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function ih(r){return(typeof r=="string"?r:""+r).replace(j0,`
`).replace(N0,"")}function Vi(r,a,d){if(a=ih(a),ih(r)!==a&&d)throw Error(n(425))}function qi(){}var xl=null,bl=null;function yl(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vl=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(r){return ah.resolve(null).then(r).catch(_0)}:vl;function _0(r){setTimeout(function(){throw r})}function jl(r,a){var d=a,f=0;do{var g=d.nextSibling;if(r.removeChild(d),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(f===0){r.removeChild(g),vr(a);return}f--}else d!=="$"&&d!=="$?"&&d!=="$!"||f++;d=g}while(d);vr(a)}function Cs(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function oh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return r;a--}else d==="/$"&&a++}r=r.previousSibling}return null}var An=Math.random().toString(36).slice(2),Qt="__reactFiber$"+An,Pr="__reactProps$"+An,os="__reactContainer$"+An,Nl="__reactEvents$"+An,k0="__reactListeners$"+An,C0="__reactHandles$"+An;function Qs(r){var a=r[Qt];if(a)return a;for(var d=r.parentNode;d;){if(a=d[os]||d[Qt]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(r=oh(r);r!==null;){if(d=r[Qt])return d;r=oh(r)}return a}r=d,d=r.parentNode}return null}function Dr(r){return r=r[Qt]||r[os],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ln(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Yi(r){return r[Pr]||null}var wl=[],On=-1;function Es(r){return{current:r}}function Le(r){0>On||(r.current=wl[On],wl[On]=null,On--)}function De(r,a){On++,wl[On]=r.current,r.current=a}var Rs={},it=Es(Rs),pt=Es(!1),Gs=Rs;function Fn(r,a){var d=r.type.contextTypes;if(!d)return Rs;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},b;for(b in d)g[b]=a[b];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function gt(r){return r=r.childContextTypes,r!=null}function Xi(){Le(pt),Le(it)}function lh(r,a,d){if(it.current!==Rs)throw Error(n(168));De(it,a),De(pt,d)}function ch(r,a,d){var f=r.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return d;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(n(108,Pe(r)||"Unknown",g));return te({},d,f)}function Ki(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Rs,Gs=it.current,De(it,r),De(pt,pt.current),!0}function dh(r,a,d){var f=r.stateNode;if(!f)throw Error(n(169));d?(r=ch(r,a,Gs),f.__reactInternalMemoizedMergedChildContext=r,Le(pt),Le(it),De(it,r)):Le(pt),De(pt,d)}var ls=null,Qi=!1,Sl=!1;function uh(r){ls===null?ls=[r]:ls.push(r)}function E0(r){Qi=!0,uh(r)}function Ts(){if(!Sl&&ls!==null){Sl=!0;var r=0,a=Re;try{var d=ls;for(Re=1;r<d.length;r++){var f=d[r];do f=f(!0);while(f!==null)}ls=null,Qi=!1}catch(g){throw ls!==null&&(ls=ls.slice(r+1)),fu(qo,Ts),g}finally{Re=a,Sl=!1}}return null}var zn=[],Bn=0,Gi=null,Ji=0,Dt=[],Mt=0,Js=null,cs=1,ds="";function Zs(r,a){zn[Bn++]=Ji,zn[Bn++]=Gi,Gi=r,Ji=a}function hh(r,a,d){Dt[Mt++]=cs,Dt[Mt++]=ds,Dt[Mt++]=Js,Js=r;var f=cs;r=ds;var g=32-It(f)-1;f&=~(1<<g),d+=1;var b=32-It(a)+g;if(30<b){var S=g-g%5;b=(f&(1<<S)-1).toString(32),f>>=S,g-=S,cs=1<<32-It(a)+g|d<<g|f,ds=b+r}else cs=1<<b|d<<g|f,ds=r}function _l(r){r.return!==null&&(Zs(r,1),hh(r,1,0))}function kl(r){for(;r===Gi;)Gi=zn[--Bn],zn[Bn]=null,Ji=zn[--Bn],zn[Bn]=null;for(;r===Js;)Js=Dt[--Mt],Dt[Mt]=null,ds=Dt[--Mt],Dt[Mt]=null,cs=Dt[--Mt],Dt[Mt]=null}var Rt=null,Tt=null,Fe=!1,$t=null;function fh(r,a){var d=Ft(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=r,a=r.deletions,a===null?(r.deletions=[d],r.flags|=16):a.push(d)}function mh(r,a){switch(r.tag){case 5:var d=r.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Rt=r,Tt=Cs(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Rt=r,Tt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Js!==null?{id:cs,overflow:ds}:null,r.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Ft(18,null,null,0),d.stateNode=a,d.return=r,r.child=d,Rt=r,Tt=null,!0):!1;default:return!1}}function Cl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function El(r){if(Fe){var a=Tt;if(a){var d=a;if(!mh(r,a)){if(Cl(r))throw Error(n(418));a=Cs(d.nextSibling);var f=Rt;a&&mh(r,a)?fh(f,d):(r.flags=r.flags&-4097|2,Fe=!1,Rt=r)}}else{if(Cl(r))throw Error(n(418));r.flags=r.flags&-4097|2,Fe=!1,Rt=r}}}function ph(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Rt=r}function Zi(r){if(r!==Rt)return!1;if(!Fe)return ph(r),Fe=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!yl(r.type,r.memoizedProps)),a&&(a=Tt)){if(Cl(r))throw gh(),Error(n(418));for(;a;)fh(r,a),a=Cs(a.nextSibling)}if(ph(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"){if(a===0){Tt=Cs(r.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}r=r.nextSibling}Tt=null}}else Tt=Rt?Cs(r.stateNode.nextSibling):null;return!0}function gh(){for(var r=Tt;r;)r=Cs(r.nextSibling)}function In(){Tt=Rt=null,Fe=!1}function Rl(r){$t===null?$t=[r]:$t.push(r)}var R0=W.ReactCurrentBatchConfig;function Mr(r,a,d){if(r=d.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var f=d.stateNode}if(!f)throw Error(n(147,r));var g=f,b=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===b?a.ref:(a=function(S){var R=g.refs;S===null?delete R[b]:R[b]=S},a._stringRef=b,a)}if(typeof r!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,r))}return r}function ea(r,a){throw r=Object.prototype.toString.call(a),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function xh(r){var a=r._init;return a(r._payload)}function bh(r){function a(O,D){if(r){var I=O.deletions;I===null?(O.deletions=[D],O.flags|=16):I.push(D)}}function d(O,D){if(!r)return null;for(;D!==null;)a(O,D),D=D.sibling;return null}function f(O,D){for(O=new Map;D!==null;)D.key!==null?O.set(D.key,D):O.set(D.index,D),D=D.sibling;return O}function g(O,D){return O=zs(O,D),O.index=0,O.sibling=null,O}function b(O,D,I){return O.index=I,r?(I=O.alternate,I!==null?(I=I.index,I<D?(O.flags|=2,D):I):(O.flags|=2,D)):(O.flags|=1048576,D)}function S(O){return r&&O.alternate===null&&(O.flags|=2),O}function R(O,D,I,se){return D===null||D.tag!==6?(D=vc(I,O.mode,se),D.return=O,D):(D=g(D,I),D.return=O,D)}function T(O,D,I,se){var de=I.type;return de===k?J(O,D,I.props.children,se,I.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&xh(de)===D.type)?(se=g(D,I.props),se.ref=Mr(O,D,I),se.return=O,se):(se=Sa(I.type,I.key,I.props,null,O.mode,se),se.ref=Mr(O,D,I),se.return=O,se)}function H(O,D,I,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==I.containerInfo||D.stateNode.implementation!==I.implementation?(D=jc(I,O.mode,se),D.return=O,D):(D=g(D,I.children||[]),D.return=O,D)}function J(O,D,I,se,de){return D===null||D.tag!==7?(D=ln(I,O.mode,se,de),D.return=O,D):(D=g(D,I),D.return=O,D)}function Z(O,D,I){if(typeof D=="string"&&D!==""||typeof D=="number")return D=vc(""+D,O.mode,I),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return I=Sa(D.type,D.key,D.props,null,O.mode,I),I.ref=Mr(O,null,D),I.return=O,I;case Y:return D=jc(D,O.mode,I),D.return=O,D;case F:var se=D._init;return Z(O,se(D._payload),I)}if(lr(D)||re(D))return D=ln(D,O.mode,I,null),D.return=O,D;ea(O,D)}return null}function G(O,D,I,se){var de=D!==null?D.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return de!==null?null:R(O,D,""+I,se);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return I.key===de?T(O,D,I,se):null;case Y:return I.key===de?H(O,D,I,se):null;case F:return de=I._init,G(O,D,de(I._payload),se)}if(lr(I)||re(I))return de!==null?null:J(O,D,I,se,null);ea(O,I)}return null}function ae(O,D,I,se,de){if(typeof se=="string"&&se!==""||typeof se=="number")return O=O.get(I)||null,R(D,O,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case L:return O=O.get(se.key===null?I:se.key)||null,T(D,O,se,de);case Y:return O=O.get(se.key===null?I:se.key)||null,H(D,O,se,de);case F:var ue=se._init;return ae(O,D,I,ue(se._payload),de)}if(lr(se)||re(se))return O=O.get(I)||null,J(D,O,se,de,null);ea(D,se)}return null}function le(O,D,I,se){for(var de=null,ue=null,he=D,fe=D=0,st=null;he!==null&&fe<I.length;fe++){he.index>fe?(st=he,he=null):st=he.sibling;var ke=G(O,he,I[fe],se);if(ke===null){he===null&&(he=st);break}r&&he&&ke.alternate===null&&a(O,he),D=b(ke,D,fe),ue===null?de=ke:ue.sibling=ke,ue=ke,he=st}if(fe===I.length)return d(O,he),Fe&&Zs(O,fe),de;if(he===null){for(;fe<I.length;fe++)he=Z(O,I[fe],se),he!==null&&(D=b(he,D,fe),ue===null?de=he:ue.sibling=he,ue=he);return Fe&&Zs(O,fe),de}for(he=f(O,he);fe<I.length;fe++)st=ae(he,O,fe,I[fe],se),st!==null&&(r&&st.alternate!==null&&he.delete(st.key===null?fe:st.key),D=b(st,D,fe),ue===null?de=st:ue.sibling=st,ue=st);return r&&he.forEach(function(Bs){return a(O,Bs)}),Fe&&Zs(O,fe),de}function ce(O,D,I,se){var de=re(I);if(typeof de!="function")throw Error(n(150));if(I=de.call(I),I==null)throw Error(n(151));for(var ue=de=null,he=D,fe=D=0,st=null,ke=I.next();he!==null&&!ke.done;fe++,ke=I.next()){he.index>fe?(st=he,he=null):st=he.sibling;var Bs=G(O,he,ke.value,se);if(Bs===null){he===null&&(he=st);break}r&&he&&Bs.alternate===null&&a(O,he),D=b(Bs,D,fe),ue===null?de=Bs:ue.sibling=Bs,ue=Bs,he=st}if(ke.done)return d(O,he),Fe&&Zs(O,fe),de;if(he===null){for(;!ke.done;fe++,ke=I.next())ke=Z(O,ke.value,se),ke!==null&&(D=b(ke,D,fe),ue===null?de=ke:ue.sibling=ke,ue=ke);return Fe&&Zs(O,fe),de}for(he=f(O,he);!ke.done;fe++,ke=I.next())ke=ae(he,O,fe,ke.value,se),ke!==null&&(r&&ke.alternate!==null&&he.delete(ke.key===null?fe:ke.key),D=b(ke,D,fe),ue===null?de=ke:ue.sibling=ke,ue=ke);return r&&he.forEach(function(lb){return a(O,lb)}),Fe&&Zs(O,fe),de}function qe(O,D,I,se){if(typeof I=="object"&&I!==null&&I.type===k&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case L:e:{for(var de=I.key,ue=D;ue!==null;){if(ue.key===de){if(de=I.type,de===k){if(ue.tag===7){d(O,ue.sibling),D=g(ue,I.props.children),D.return=O,O=D;break e}}else if(ue.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===F&&xh(de)===ue.type){d(O,ue.sibling),D=g(ue,I.props),D.ref=Mr(O,ue,I),D.return=O,O=D;break e}d(O,ue);break}else a(O,ue);ue=ue.sibling}I.type===k?(D=ln(I.props.children,O.mode,se,I.key),D.return=O,O=D):(se=Sa(I.type,I.key,I.props,null,O.mode,se),se.ref=Mr(O,D,I),se.return=O,O=se)}return S(O);case Y:e:{for(ue=I.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===I.containerInfo&&D.stateNode.implementation===I.implementation){d(O,D.sibling),D=g(D,I.children||[]),D.return=O,O=D;break e}else{d(O,D);break}else a(O,D);D=D.sibling}D=jc(I,O.mode,se),D.return=O,O=D}return S(O);case F:return ue=I._init,qe(O,D,ue(I._payload),se)}if(lr(I))return le(O,D,I,se);if(re(I))return ce(O,D,I,se);ea(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,D!==null&&D.tag===6?(d(O,D.sibling),D=g(D,I),D.return=O,O=D):(d(O,D),D=vc(I,O.mode,se),D.return=O,O=D),S(O)):d(O,D)}return qe}var Wn=bh(!0),yh=bh(!1),ta=Es(null),sa=null,$n=null,Tl=null;function Pl(){Tl=$n=sa=null}function Dl(r){var a=ta.current;Le(ta),r._currentValue=a}function Ml(r,a,d){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===d)break;r=r.return}}function Hn(r,a){sa=r,Tl=$n=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(xt=!0),r.firstContext=null)}function At(r){var a=r._currentValue;if(Tl!==r)if(r={context:r,memoizedValue:a,next:null},$n===null){if(sa===null)throw Error(n(308));$n=r,sa.dependencies={lanes:0,firstContext:r}}else $n=$n.next=r;return a}var en=null;function Al(r){en===null?en=[r]:en.push(r)}function vh(r,a,d,f){var g=a.interleaved;return g===null?(d.next=d,Al(a)):(d.next=g.next,g.next=d),a.interleaved=d,us(r,f)}function us(r,a){r.lanes|=a;var d=r.alternate;for(d!==null&&(d.lanes|=a),d=r,r=r.return;r!==null;)r.childLanes|=a,d=r.alternate,d!==null&&(d.childLanes|=a),d=r,r=r.return;return d.tag===3?d.stateNode:null}var Ps=!1;function Ll(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function hs(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Ds(r,a,d){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(we&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,us(r,d)}return g=f.interleaved,g===null?(a.next=a,Al(f)):(a.next=g.next,g.next=a),f.interleaved=a,us(r,d)}function na(r,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var f=a.lanes;f&=r.pendingLanes,d|=f,a.lanes=d,Ko(r,d)}}function Nh(r,a){var d=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var g=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var S={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?g=b=S:b=b.next=S,d=d.next}while(d!==null);b===null?g=b=a:b=b.next=a}else g=b=a;d={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,effects:f.effects},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=a:r.next=a,d.lastBaseUpdate=a}function ra(r,a,d,f){var g=r.updateQueue;Ps=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var T=R,H=T.next;T.next=null,S===null?b=H:S.next=H,S=T;var J=r.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==S&&(R===null?J.firstBaseUpdate=H:R.next=H,J.lastBaseUpdate=T))}if(b!==null){var Z=g.baseState;S=0,J=H=T=null,R=b;do{var G=R.lane,ae=R.eventTime;if((f&G)===G){J!==null&&(J=J.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var le=r,ce=R;switch(G=a,ae=d,ce.tag){case 1:if(le=ce.payload,typeof le=="function"){Z=le.call(ae,Z,G);break e}Z=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ce.payload,G=typeof le=="function"?le.call(ae,Z,G):le,G==null)break e;Z=te({},Z,G);break e;case 2:Ps=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,G=g.effects,G===null?g.effects=[R]:G.push(R))}else ae={eventTime:ae,lane:G,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(H=J=ae,T=Z):J=J.next=ae,S|=G;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;G=R,R=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);if(J===null&&(T=Z),g.baseState=T,g.firstBaseUpdate=H,g.lastBaseUpdate=J,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else b===null&&(g.shared.lanes=0);nn|=S,r.lanes=S,r.memoizedState=Z}}function wh(r,a,d){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var f=r[a],g=f.callback;if(g!==null){if(f.callback=null,f=d,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Ar={},Gt=Es(Ar),Lr=Es(Ar),Or=Es(Ar);function tn(r){if(r===Ar)throw Error(n(174));return r}function Ol(r,a){switch(De(Or,a),De(Lr,r),De(Gt,Ar),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fo(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Fo(a,r)}Le(Gt),De(Gt,a)}function Un(){Le(Gt),Le(Lr),Le(Or)}function Sh(r){tn(Or.current);var a=tn(Gt.current),d=Fo(a,r.type);a!==d&&(De(Lr,r),De(Gt,d))}function Fl(r){Lr.current===r&&(Le(Gt),Le(Lr))}var Be=Es(0);function ia(r){for(var a=r;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var zl=[];function Bl(){for(var r=0;r<zl.length;r++)zl[r]._workInProgressVersionPrimary=null;zl.length=0}var aa=W.ReactCurrentDispatcher,Il=W.ReactCurrentBatchConfig,sn=0,Ie=null,Qe=null,et=null,oa=!1,Fr=!1,zr=0,T0=0;function at(){throw Error(n(321))}function Wl(r,a){if(a===null)return!1;for(var d=0;d<a.length&&d<r.length;d++)if(!Wt(r[d],a[d]))return!1;return!0}function $l(r,a,d,f,g,b){if(sn=b,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,aa.current=r===null||r.memoizedState===null?A0:L0,r=d(f,g),Fr){b=0;do{if(Fr=!1,zr=0,25<=b)throw Error(n(301));b+=1,et=Qe=null,a.updateQueue=null,aa.current=O0,r=d(f,g)}while(Fr)}if(aa.current=da,a=Qe!==null&&Qe.next!==null,sn=0,et=Qe=Ie=null,oa=!1,a)throw Error(n(300));return r}function Hl(){var r=zr!==0;return zr=0,r}function Jt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ie.memoizedState=et=r:et=et.next=r,et}function Lt(){if(Qe===null){var r=Ie.alternate;r=r!==null?r.memoizedState:null}else r=Qe.next;var a=et===null?Ie.memoizedState:et.next;if(a!==null)et=a,Qe=r;else{if(r===null)throw Error(n(310));Qe=r,r={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?Ie.memoizedState=et=r:et=et.next=r}return et}function Br(r,a){return typeof a=="function"?a(r):a}function Ul(r){var a=Lt(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var f=Qe,g=f.baseQueue,b=d.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}f.baseQueue=g=b,d.pending=null}if(g!==null){b=g.next,f=f.baseState;var R=S=null,T=null,H=b;do{var J=H.lane;if((sn&J)===J)T!==null&&(T=T.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:r(f,H.action);else{var Z={lane:J,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};T===null?(R=T=Z,S=f):T=T.next=Z,Ie.lanes|=J,nn|=J}H=H.next}while(H!==null&&H!==b);T===null?S=f:T.next=R,Wt(f,a.memoizedState)||(xt=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=T,d.lastRenderedState=f}if(r=d.interleaved,r!==null){g=r;do b=g.lane,Ie.lanes|=b,nn|=b,g=g.next;while(g!==r)}else g===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Vl(r){var a=Lt(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var f=d.dispatch,g=d.pending,b=a.memoizedState;if(g!==null){d.pending=null;var S=g=g.next;do b=r(b,S.action),S=S.next;while(S!==g);Wt(b,a.memoizedState)||(xt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),d.lastRenderedState=b}return[b,f]}function _h(){}function kh(r,a){var d=Ie,f=Lt(),g=a(),b=!Wt(f.memoizedState,g);if(b&&(f.memoizedState=g,xt=!0),f=f.queue,ql(Rh.bind(null,d,f,r),[r]),f.getSnapshot!==a||b||et!==null&&et.memoizedState.tag&1){if(d.flags|=2048,Ir(9,Eh.bind(null,d,f,g,a),void 0,null),tt===null)throw Error(n(349));(sn&30)!==0||Ch(d,a,g)}return g}function Ch(r,a,d){r.flags|=16384,r={getSnapshot:a,value:d},a=Ie.updateQueue,a===null?(a={lastEffect:null,stores:null},Ie.updateQueue=a,a.stores=[r]):(d=a.stores,d===null?a.stores=[r]:d.push(r))}function Eh(r,a,d,f){a.value=d,a.getSnapshot=f,Th(a)&&Ph(r)}function Rh(r,a,d){return d(function(){Th(a)&&Ph(r)})}function Th(r){var a=r.getSnapshot;r=r.value;try{var d=a();return!Wt(r,d)}catch{return!0}}function Ph(r){var a=us(r,1);a!==null&&qt(a,r,1,-1)}function Dh(r){var a=Jt();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:r},a.queue=r,r=r.dispatch=M0.bind(null,Ie,r),[a.memoizedState,r]}function Ir(r,a,d,f){return r={tag:r,create:a,destroy:d,deps:f,next:null},a=Ie.updateQueue,a===null?(a={lastEffect:null,stores:null},Ie.updateQueue=a,a.lastEffect=r.next=r):(d=a.lastEffect,d===null?a.lastEffect=r.next=r:(f=d.next,d.next=r,r.next=f,a.lastEffect=r)),r}function Mh(){return Lt().memoizedState}function la(r,a,d,f){var g=Jt();Ie.flags|=r,g.memoizedState=Ir(1|a,d,void 0,f===void 0?null:f)}function ca(r,a,d,f){var g=Lt();f=f===void 0?null:f;var b=void 0;if(Qe!==null){var S=Qe.memoizedState;if(b=S.destroy,f!==null&&Wl(f,S.deps)){g.memoizedState=Ir(a,d,b,f);return}}Ie.flags|=r,g.memoizedState=Ir(1|a,d,b,f)}function Ah(r,a){return la(8390656,8,r,a)}function ql(r,a){return ca(2048,8,r,a)}function Lh(r,a){return ca(4,2,r,a)}function Oh(r,a){return ca(4,4,r,a)}function Fh(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function zh(r,a,d){return d=d!=null?d.concat([r]):null,ca(4,4,Fh.bind(null,a,r),d)}function Yl(){}function Bh(r,a){var d=Lt();a=a===void 0?null:a;var f=d.memoizedState;return f!==null&&a!==null&&Wl(a,f[1])?f[0]:(d.memoizedState=[r,a],r)}function Ih(r,a){var d=Lt();a=a===void 0?null:a;var f=d.memoizedState;return f!==null&&a!==null&&Wl(a,f[1])?f[0]:(r=r(),d.memoizedState=[r,a],r)}function Wh(r,a,d){return(sn&21)===0?(r.baseState&&(r.baseState=!1,xt=!0),r.memoizedState=d):(Wt(d,a)||(d=xu(),Ie.lanes|=d,nn|=d,r.baseState=!0),a)}function P0(r,a){var d=Re;Re=d!==0&&4>d?d:4,r(!0);var f=Il.transition;Il.transition={};try{r(!1),a()}finally{Re=d,Il.transition=f}}function $h(){return Lt().memoizedState}function D0(r,a,d){var f=Os(r);if(d={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null},Hh(r))Uh(a,d);else if(d=vh(r,a,d,f),d!==null){var g=mt();qt(d,r,f,g),Vh(d,a,f)}}function M0(r,a,d){var f=Os(r),g={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null};if(Hh(r))Uh(a,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var S=a.lastRenderedState,R=b(S,d);if(g.hasEagerState=!0,g.eagerState=R,Wt(R,S)){var T=a.interleaved;T===null?(g.next=g,Al(a)):(g.next=T.next,T.next=g),a.interleaved=g;return}}catch{}finally{}d=vh(r,a,g,f),d!==null&&(g=mt(),qt(d,r,f,g),Vh(d,a,f))}}function Hh(r){var a=r.alternate;return r===Ie||a!==null&&a===Ie}function Uh(r,a){Fr=oa=!0;var d=r.pending;d===null?a.next=a:(a.next=d.next,d.next=a),r.pending=a}function Vh(r,a,d){if((d&4194240)!==0){var f=a.lanes;f&=r.pendingLanes,d|=f,a.lanes=d,Ko(r,d)}}var da={readContext:At,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},A0={readContext:At,useCallback:function(r,a){return Jt().memoizedState=[r,a===void 0?null:a],r},useContext:At,useEffect:Ah,useImperativeHandle:function(r,a,d){return d=d!=null?d.concat([r]):null,la(4194308,4,Fh.bind(null,a,r),d)},useLayoutEffect:function(r,a){return la(4194308,4,r,a)},useInsertionEffect:function(r,a){return la(4,2,r,a)},useMemo:function(r,a){var d=Jt();return a=a===void 0?null:a,r=r(),d.memoizedState=[r,a],r},useReducer:function(r,a,d){var f=Jt();return a=d!==void 0?d(a):a,f.memoizedState=f.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},f.queue=r,r=r.dispatch=D0.bind(null,Ie,r),[f.memoizedState,r]},useRef:function(r){var a=Jt();return r={current:r},a.memoizedState=r},useState:Dh,useDebugValue:Yl,useDeferredValue:function(r){return Jt().memoizedState=r},useTransition:function(){var r=Dh(!1),a=r[0];return r=P0.bind(null,r[1]),Jt().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,d){var f=Ie,g=Jt();if(Fe){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),tt===null)throw Error(n(349));(sn&30)!==0||Ch(f,a,d)}g.memoizedState=d;var b={value:d,getSnapshot:a};return g.queue=b,Ah(Rh.bind(null,f,b,r),[r]),f.flags|=2048,Ir(9,Eh.bind(null,f,b,d,a),void 0,null),d},useId:function(){var r=Jt(),a=tt.identifierPrefix;if(Fe){var d=ds,f=cs;d=(f&~(1<<32-It(f)-1)).toString(32)+d,a=":"+a+"R"+d,d=zr++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=T0++,a=":"+a+"r"+d.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},L0={readContext:At,useCallback:Bh,useContext:At,useEffect:ql,useImperativeHandle:zh,useInsertionEffect:Lh,useLayoutEffect:Oh,useMemo:Ih,useReducer:Ul,useRef:Mh,useState:function(){return Ul(Br)},useDebugValue:Yl,useDeferredValue:function(r){var a=Lt();return Wh(a,Qe.memoizedState,r)},useTransition:function(){var r=Ul(Br)[0],a=Lt().memoizedState;return[r,a]},useMutableSource:_h,useSyncExternalStore:kh,useId:$h,unstable_isNewReconciler:!1},O0={readContext:At,useCallback:Bh,useContext:At,useEffect:ql,useImperativeHandle:zh,useInsertionEffect:Lh,useLayoutEffect:Oh,useMemo:Ih,useReducer:Vl,useRef:Mh,useState:function(){return Vl(Br)},useDebugValue:Yl,useDeferredValue:function(r){var a=Lt();return Qe===null?a.memoizedState=r:Wh(a,Qe.memoizedState,r)},useTransition:function(){var r=Vl(Br)[0],a=Lt().memoizedState;return[r,a]},useMutableSource:_h,useSyncExternalStore:kh,useId:$h,unstable_isNewReconciler:!1};function Ht(r,a){if(r&&r.defaultProps){a=te({},a),r=r.defaultProps;for(var d in r)a[d]===void 0&&(a[d]=r[d]);return a}return a}function Xl(r,a,d,f){a=r.memoizedState,d=d(f,a),d=d==null?a:te({},a,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var ua={isMounted:function(r){return(r=r._reactInternals)?Ks(r)===r:!1},enqueueSetState:function(r,a,d){r=r._reactInternals;var f=mt(),g=Os(r),b=hs(f,g);b.payload=a,d!=null&&(b.callback=d),a=Ds(r,b,g),a!==null&&(qt(a,r,g,f),na(a,r,g))},enqueueReplaceState:function(r,a,d){r=r._reactInternals;var f=mt(),g=Os(r),b=hs(f,g);b.tag=1,b.payload=a,d!=null&&(b.callback=d),a=Ds(r,b,g),a!==null&&(qt(a,r,g,f),na(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var d=mt(),f=Os(r),g=hs(d,f);g.tag=2,a!=null&&(g.callback=a),a=Ds(r,g,f),a!==null&&(qt(a,r,f,d),na(a,r,f))}};function qh(r,a,d,f,g,b,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,S):a.prototype&&a.prototype.isPureReactComponent?!kr(d,f)||!kr(g,b):!0}function Yh(r,a,d){var f=!1,g=Rs,b=a.contextType;return typeof b=="object"&&b!==null?b=At(b):(g=gt(a)?Gs:it.current,f=a.contextTypes,b=(f=f!=null)?Fn(r,g):Rs),a=new a(d,b),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ua,r.stateNode=a,a._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=b),a}function Xh(r,a,d,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,f),a.state!==r&&ua.enqueueReplaceState(a,a.state,null)}function Kl(r,a,d,f){var g=r.stateNode;g.props=d,g.state=r.memoizedState,g.refs={},Ll(r);var b=a.contextType;typeof b=="object"&&b!==null?g.context=At(b):(b=gt(a)?Gs:it.current,g.context=Fn(r,b)),g.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Xl(r,a,b,d),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&ua.enqueueReplaceState(g,g.state,null),ra(r,d,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Vn(r,a){try{var d="",f=a;do d+=ve(f),f=f.return;while(f);var g=d}catch(b){g=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:a,stack:g,digest:null}}function Ql(r,a,d){return{value:r,source:null,stack:d??null,digest:a??null}}function Gl(r,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function Kh(r,a,d){d=hs(-1,d),d.tag=3,d.payload={element:null};var f=a.value;return d.callback=function(){ba||(ba=!0,hc=f),Gl(r,a)},d}function Qh(r,a,d){d=hs(-1,d),d.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;d.payload=function(){return f(g)},d.callback=function(){Gl(r,a)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Gl(r,a),typeof f!="function"&&(As===null?As=new Set([this]):As.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),d}function Gh(r,a,d){var f=r.pingCache;if(f===null){f=r.pingCache=new F0;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(d)||(g.add(d),r=G0.bind(null,r,a,d),a.then(r,r))}function Jh(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function Zh(r,a,d,f,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=hs(-1,1),a.tag=2,Ds(d,a,1))),d.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var z0=W.ReactCurrentOwner,xt=!1;function ft(r,a,d,f){a.child=r===null?yh(a,null,d,f):Wn(a,r.child,d,f)}function ef(r,a,d,f,g){d=d.render;var b=a.ref;return Hn(a,g),f=$l(r,a,d,f,b,g),d=Hl(),r!==null&&!xt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,fs(r,a,g)):(Fe&&d&&_l(a),a.flags|=1,ft(r,a,f,g),a.child)}function tf(r,a,d,f,g){if(r===null){var b=d.type;return typeof b=="function"&&!yc(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=b,sf(r,a,b,f,g)):(r=Sa(d.type,null,f,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,(r.lanes&g)===0){var S=b.memoizedProps;if(d=d.compare,d=d!==null?d:kr,d(S,f)&&r.ref===a.ref)return fs(r,a,g)}return a.flags|=1,r=zs(b,f),r.ref=a.ref,r.return=a,a.child=r}function sf(r,a,d,f,g){if(r!==null){var b=r.memoizedProps;if(kr(b,f)&&r.ref===a.ref)if(xt=!1,a.pendingProps=f=b,(r.lanes&g)!==0)(r.flags&131072)!==0&&(xt=!0);else return a.lanes=r.lanes,fs(r,a,g)}return Jl(r,a,d,f,g)}function nf(r,a,d){var f=a.pendingProps,g=f.children,b=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Yn,Pt),Pt|=d;else{if((d&1073741824)===0)return r=b!==null?b.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,De(Yn,Pt),Pt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=b!==null?b.baseLanes:d,De(Yn,Pt),Pt|=f}else b!==null?(f=b.baseLanes|d,a.memoizedState=null):f=d,De(Yn,Pt),Pt|=f;return ft(r,a,g,d),a.child}function rf(r,a){var d=a.ref;(r===null&&d!==null||r!==null&&r.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Jl(r,a,d,f,g){var b=gt(d)?Gs:it.current;return b=Fn(a,b),Hn(a,g),d=$l(r,a,d,f,b,g),f=Hl(),r!==null&&!xt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,fs(r,a,g)):(Fe&&f&&_l(a),a.flags|=1,ft(r,a,d,g),a.child)}function af(r,a,d,f,g){if(gt(d)){var b=!0;Ki(a)}else b=!1;if(Hn(a,g),a.stateNode===null)fa(r,a),Yh(a,d,f),Kl(a,d,f,g),f=!0;else if(r===null){var S=a.stateNode,R=a.memoizedProps;S.props=R;var T=S.context,H=d.contextType;typeof H=="object"&&H!==null?H=At(H):(H=gt(d)?Gs:it.current,H=Fn(a,H));var J=d.getDerivedStateFromProps,Z=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function";Z||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==f||T!==H)&&Xh(a,S,f,H),Ps=!1;var G=a.memoizedState;S.state=G,ra(a,f,S,g),T=a.memoizedState,R!==f||G!==T||pt.current||Ps?(typeof J=="function"&&(Xl(a,d,J,f),T=a.memoizedState),(R=Ps||qh(a,d,R,f,G,T,H))?(Z||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=T),S.props=f,S.state=T,S.context=H,f=R):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,jh(r,a),R=a.memoizedProps,H=a.type===a.elementType?R:Ht(a.type,R),S.props=H,Z=a.pendingProps,G=S.context,T=d.contextType,typeof T=="object"&&T!==null?T=At(T):(T=gt(d)?Gs:it.current,T=Fn(a,T));var ae=d.getDerivedStateFromProps;(J=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==Z||G!==T)&&Xh(a,S,f,T),Ps=!1,G=a.memoizedState,S.state=G,ra(a,f,S,g);var le=a.memoizedState;R!==Z||G!==le||pt.current||Ps?(typeof ae=="function"&&(Xl(a,d,ae,f),le=a.memoizedState),(H=Ps||qh(a,d,H,f,G,le,T)||!1)?(J||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,le,T),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,le,T)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=le),S.props=f,S.state=le,S.context=T,f=H):(typeof S.componentDidUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&G===r.memoizedState||(a.flags|=1024),f=!1)}return Zl(r,a,d,f,b,g)}function Zl(r,a,d,f,g,b){rf(r,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&dh(a,d,!1),fs(r,a,b);f=a.stateNode,z0.current=a;var R=S&&typeof d.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,r!==null&&S?(a.child=Wn(a,r.child,null,b),a.child=Wn(a,null,R,b)):ft(r,a,R,b),a.memoizedState=f.state,g&&dh(a,d,!0),a.child}function of(r){var a=r.stateNode;a.pendingContext?lh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&lh(r,a.context,!1),Ol(r,a.containerInfo)}function lf(r,a,d,f,g){return In(),Rl(g),a.flags|=256,ft(r,a,d,f),a.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(r){return{baseLanes:r,cachePool:null,transitions:null}}function cf(r,a,d){var f=a.pendingProps,g=Be.current,b=!1,S=(a.flags&128)!==0,R;if((R=S)||(R=r!==null&&r.memoizedState===null?!1:(g&2)!==0),R?(b=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),De(Be,g&1),r===null)return El(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,r=f.fallback,b?(f=a.mode,b=a.child,S={mode:"hidden",children:S},(f&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=S):b=_a(S,f,0,null),r=ln(r,f,d,null),b.return=a,r.return=a,b.sibling=r,a.child=b,a.child.memoizedState=tc(d),a.memoizedState=ec,r):sc(a,S));if(g=r.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return B0(r,a,S,f,R,g,d);if(b){b=f.fallback,S=a.mode,g=r.child,R=g.sibling;var T={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=T,a.deletions=null):(f=zs(g,T),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?b=zs(R,b):(b=ln(b,S,d,null),b.flags|=2),b.return=a,f.return=a,f.sibling=b,a.child=f,f=b,b=a.child,S=r.child.memoizedState,S=S===null?tc(d):{baseLanes:S.baseLanes|d,cachePool:null,transitions:S.transitions},b.memoizedState=S,b.childLanes=r.childLanes&~d,a.memoizedState=ec,f}return b=r.child,r=b.sibling,f=zs(b,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=d),f.return=a,f.sibling=null,r!==null&&(d=a.deletions,d===null?(a.deletions=[r],a.flags|=16):d.push(r)),a.child=f,a.memoizedState=null,f}function sc(r,a){return a=_a({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function ha(r,a,d,f){return f!==null&&Rl(f),Wn(a,r.child,null,d),r=sc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function B0(r,a,d,f,g,b,S){if(d)return a.flags&256?(a.flags&=-257,f=Ql(Error(n(422))),ha(r,a,S,f)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(b=f.fallback,g=a.mode,f=_a({mode:"visible",children:f.children},g,0,null),b=ln(b,g,S,null),b.flags|=2,f.return=a,b.return=a,f.sibling=b,a.child=f,(a.mode&1)!==0&&Wn(a,r.child,null,S),a.child.memoizedState=tc(S),a.memoizedState=ec,b);if((a.mode&1)===0)return ha(r,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,b=Error(n(419)),f=Ql(b,f,void 0),ha(r,a,S,f)}if(R=(S&r.childLanes)!==0,xt||R){if(f=tt,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==b.retryLane&&(b.retryLane=g,us(r,g),qt(f,r,g,-1))}return bc(),f=Ql(Error(n(421))),ha(r,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=J0.bind(null,r),g._reactRetry=a,null):(r=b.treeContext,Tt=Cs(g.nextSibling),Rt=a,Fe=!0,$t=null,r!==null&&(Dt[Mt++]=cs,Dt[Mt++]=ds,Dt[Mt++]=Js,cs=r.id,ds=r.overflow,Js=a),a=sc(a,f.children),a.flags|=4096,a)}function df(r,a,d){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),Ml(r.return,a,d)}function nc(r,a,d,f,g){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:g}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=d,b.tailMode=g)}function uf(r,a,d){var f=a.pendingProps,g=f.revealOrder,b=f.tail;if(ft(r,a,f.children,d),f=Be.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&df(r,d,a);else if(r.tag===19)df(r,d,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(De(Be,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(d=a.child,g=null;d!==null;)r=d.alternate,r!==null&&ia(r)===null&&(g=d),d=d.sibling;d=g,d===null?(g=a.child,a.child=null):(g=d.sibling,d.sibling=null),nc(a,!1,g,d,b);break;case"backwards":for(d=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&ia(r)===null){a.child=g;break}r=g.sibling,g.sibling=d,d=g,g=r}nc(a,!0,d,null,b);break;case"together":nc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fa(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function fs(r,a,d){if(r!==null&&(a.dependencies=r.dependencies),nn|=a.lanes,(d&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(n(153));if(a.child!==null){for(r=a.child,d=zs(r,r.pendingProps),a.child=d,d.return=a;r.sibling!==null;)r=r.sibling,d=d.sibling=zs(r,r.pendingProps),d.return=a;d.sibling=null}return a.child}function I0(r,a,d){switch(a.tag){case 3:of(a),In();break;case 5:Sh(a);break;case 1:gt(a.type)&&Ki(a);break;case 4:Ol(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;De(ta,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(De(Be,Be.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?cf(r,a,d):(De(Be,Be.current&1),r=fs(r,a,d),r!==null?r.sibling:null);De(Be,Be.current&1);break;case 19:if(f=(d&a.childLanes)!==0,(r.flags&128)!==0){if(f)return uf(r,a,d);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),De(Be,Be.current),f)break;return null;case 22:case 23:return a.lanes=0,nf(r,a,d)}return fs(r,a,d)}var hf,rc,ff,mf;hf=function(r,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},rc=function(){},ff=function(r,a,d,f){var g=r.memoizedProps;if(g!==f){r=a.stateNode,tn(Gt.current);var b=null;switch(d){case"input":g=Mo(r,g),f=Mo(r,f),b=[];break;case"select":g=te({},g,{value:void 0}),f=te({},f,{value:void 0}),b=[];break;case"textarea":g=Oo(r,g),f=Oo(r,f),b=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=qi)}zo(d,f);var S;d=null;for(H in g)if(!f.hasOwnProperty(H)&&g.hasOwnProperty(H)&&g[H]!=null)if(H==="style"){var R=g[H];for(S in R)R.hasOwnProperty(S)&&(d||(d={}),d[S]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?b||(b=[]):(b=b||[]).push(H,null));for(H in f){var T=f[H];if(R=g?.[H],f.hasOwnProperty(H)&&T!==R&&(T!=null||R!=null))if(H==="style")if(R){for(S in R)!R.hasOwnProperty(S)||T&&T.hasOwnProperty(S)||(d||(d={}),d[S]="");for(S in T)T.hasOwnProperty(S)&&R[S]!==T[S]&&(d||(d={}),d[S]=T[S])}else d||(b||(b=[]),b.push(H,d)),d=T;else H==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,R=R?R.__html:void 0,T!=null&&R!==T&&(b=b||[]).push(H,T)):H==="children"?typeof T!="string"&&typeof T!="number"||(b=b||[]).push(H,""+T):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(T!=null&&H==="onScroll"&&Ae("scroll",r),b||R===T||(b=[])):(b=b||[]).push(H,T))}d&&(b=b||[]).push("style",d);var H=b;(a.updateQueue=H)&&(a.flags|=4)}},mf=function(r,a,d,f){d!==f&&(a.flags|=4)};function Wr(r,a){if(!Fe)switch(r.tailMode){case"hidden":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function ot(r){var a=r.alternate!==null&&r.alternate.child===r.child,d=0,f=0;if(a)for(var g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=d,a}function W0(r,a,d){var f=a.pendingProps;switch(kl(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return gt(a.type)&&Xi(),ot(a),null;case 3:return f=a.stateNode,Un(),Le(pt),Le(it),Bl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Zi(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$t!==null&&(pc($t),$t=null))),rc(r,a),ot(a),null;case 5:Fl(a);var g=tn(Or.current);if(d=a.type,r!==null&&a.stateNode!=null)ff(r,a,d,f,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(n(166));return ot(a),null}if(r=tn(Gt.current),Zi(a)){f=a.stateNode,d=a.type;var b=a.memoizedProps;switch(f[Qt]=a,f[Pr]=b,r=(a.mode&1)!==0,d){case"dialog":Ae("cancel",f),Ae("close",f);break;case"iframe":case"object":case"embed":Ae("load",f);break;case"video":case"audio":for(g=0;g<Er.length;g++)Ae(Er[g],f);break;case"source":Ae("error",f);break;case"img":case"image":case"link":Ae("error",f),Ae("load",f);break;case"details":Ae("toggle",f);break;case"input":Yd(f,b),Ae("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!b.multiple},Ae("invalid",f);break;case"textarea":Qd(f,b),Ae("invalid",f)}zo(d,b),g=null;for(var S in b)if(b.hasOwnProperty(S)){var R=b[S];S==="children"?typeof R=="string"?f.textContent!==R&&(b.suppressHydrationWarning!==!0&&Vi(f.textContent,R,r),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(b.suppressHydrationWarning!==!0&&Vi(f.textContent,R,r),g=["children",""+R]):o.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&Ae("scroll",f)}switch(d){case"input":Ni(f),Kd(f,b,!0);break;case"textarea":Ni(f),Jd(f);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(f.onclick=qi)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Zd(d)),r==="http://www.w3.org/1999/xhtml"?d==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=S.createElement(d,{is:f.is}):(r=S.createElement(d),d==="select"&&(S=r,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):r=S.createElementNS(r,d),r[Qt]=a,r[Pr]=f,hf(r,a,!1,!1),a.stateNode=r;e:{switch(S=Bo(d,f),d){case"dialog":Ae("cancel",r),Ae("close",r),g=f;break;case"iframe":case"object":case"embed":Ae("load",r),g=f;break;case"video":case"audio":for(g=0;g<Er.length;g++)Ae(Er[g],r);g=f;break;case"source":Ae("error",r),g=f;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),g=f;break;case"details":Ae("toggle",r),g=f;break;case"input":Yd(r,f),g=Mo(r,f),Ae("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=te({},f,{value:void 0}),Ae("invalid",r);break;case"textarea":Qd(r,f),g=Oo(r,f),Ae("invalid",r);break;default:g=f}zo(d,g),R=g;for(b in R)if(R.hasOwnProperty(b)){var T=R[b];b==="style"?su(r,T):b==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&eu(r,T)):b==="children"?typeof T=="string"?(d!=="textarea"||T!=="")&&cr(r,T):typeof T=="number"&&cr(r,""+T):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?T!=null&&b==="onScroll"&&Ae("scroll",r):T!=null&&P(r,b,T,S))}switch(d){case"input":Ni(r),Kd(r,f,!1);break;case"textarea":Ni(r),Jd(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Ee(f.value));break;case"select":r.multiple=!!f.multiple,b=f.value,b!=null?_n(r,!!f.multiple,b,!1):f.defaultValue!=null&&_n(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=qi)}switch(d){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ot(a),null;case 6:if(r&&a.stateNode!=null)mf(r,a,r.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(n(166));if(d=tn(Or.current),tn(Gt.current),Zi(a)){if(f=a.stateNode,d=a.memoizedProps,f[Qt]=a,(b=f.nodeValue!==d)&&(r=Rt,r!==null))switch(r.tag){case 3:Vi(f.nodeValue,d,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vi(f.nodeValue,d,(r.mode&1)!==0)}b&&(a.flags|=4)}else f=(d.nodeType===9?d:d.ownerDocument).createTextNode(f),f[Qt]=a,a.stateNode=f}return ot(a),null;case 13:if(Le(Be),f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Fe&&Tt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)gh(),In(),a.flags|=98560,b=!1;else if(b=Zi(a),f!==null&&f.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Qt]=a}else In(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),b=!1}else $t!==null&&(pc($t),$t=null),b=!0;if(!b)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Be.current&1)!==0?Ge===0&&(Ge=3):bc())),a.updateQueue!==null&&(a.flags|=4),ot(a),null);case 4:return Un(),rc(r,a),r===null&&Rr(a.stateNode.containerInfo),ot(a),null;case 10:return Dl(a.type._context),ot(a),null;case 17:return gt(a.type)&&Xi(),ot(a),null;case 19:if(Le(Be),b=a.memoizedState,b===null)return ot(a),null;if(f=(a.flags&128)!==0,S=b.rendering,S===null)if(f)Wr(b,!1);else{if(Ge!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(S=ia(r),S!==null){for(a.flags|=128,Wr(b,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=d,d=a.child;d!==null;)b=d,r=f,b.flags&=14680066,S=b.alternate,S===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=S.childLanes,b.lanes=S.lanes,b.child=S.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=S.memoizedProps,b.memoizedState=S.memoizedState,b.updateQueue=S.updateQueue,b.type=S.type,r=S.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),d=d.sibling;return De(Be,Be.current&1|2),a.child}r=r.sibling}b.tail!==null&&Ve()>Xn&&(a.flags|=128,f=!0,Wr(b,!1),a.lanes=4194304)}else{if(!f)if(r=ia(S),r!==null){if(a.flags|=128,f=!0,d=r.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Wr(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!Fe)return ot(a),null}else 2*Ve()-b.renderingStartTime>Xn&&d!==1073741824&&(a.flags|=128,f=!0,Wr(b,!1),a.lanes=4194304);b.isBackwards?(S.sibling=a.child,a.child=S):(d=b.last,d!==null?d.sibling=S:a.child=S,b.last=S)}return b.tail!==null?(a=b.tail,b.rendering=a,b.tail=a.sibling,b.renderingStartTime=Ve(),a.sibling=null,d=Be.current,De(Be,f?d&1|2:d&1),a):(ot(a),null);case 22:case 23:return xc(),f=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Pt&1073741824)!==0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function $0(r,a){switch(kl(a),a.tag){case 1:return gt(a.type)&&Xi(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Un(),Le(pt),Le(it),Bl(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Fl(a),null;case 13:if(Le(Be),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(n(340));In()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Le(Be),null;case 4:return Un(),null;case 10:return Dl(a.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var ma=!1,lt=!1,H0=typeof WeakSet=="function"?WeakSet:Set,oe=null;function qn(r,a){var d=r.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(f){$e(r,a,f)}else d.current=null}function ic(r,a,d){try{d()}catch(f){$e(r,a,f)}}var pf=!1;function U0(r,a){if(xl=Ai,r=qu(),cl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var S=0,R=-1,T=-1,H=0,J=0,Z=r,G=null;t:for(;;){for(var ae;Z!==d||g!==0&&Z.nodeType!==3||(R=S+g),Z!==b||f!==0&&Z.nodeType!==3||(T=S+f),Z.nodeType===3&&(S+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)G=Z,Z=ae;for(;;){if(Z===r)break t;if(G===d&&++H===g&&(R=S),G===b&&++J===f&&(T=S),(ae=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=ae}d=R===-1||T===-1?null:{start:R,end:T}}else d=null}d=d||{start:0,end:0}}else d=null;for(bl={focusedElem:r,selectionRange:d},Ai=!1,oe=a;oe!==null;)if(a=oe,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,oe=r;else for(;oe!==null;){a=oe;try{var le=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ce=le.memoizedProps,qe=le.memoizedState,O=a.stateNode,D=O.getSnapshotBeforeUpdate(a.elementType===a.type?ce:Ht(a.type,ce),qe);O.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var I=a.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){$e(a,a.return,se)}if(r=a.sibling,r!==null){r.return=a.return,oe=r;break}oe=a.return}return le=pf,pf=!1,le}function $r(r,a,d){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var b=g.destroy;g.destroy=void 0,b!==void 0&&ic(a,d,b)}g=g.next}while(g!==f)}}function pa(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&r)===r){var f=d.create;d.destroy=f()}d=d.next}while(d!==a)}}function ac(r){var a=r.ref;if(a!==null){var d=r.stateNode;switch(r.tag){case 5:r=d;break;default:r=d}typeof a=="function"?a(r):a.current=r}}function gf(r){var a=r.alternate;a!==null&&(r.alternate=null,gf(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Qt],delete a[Pr],delete a[Nl],delete a[k0],delete a[C0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function xf(r){return r.tag===5||r.tag===3||r.tag===4}function bf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xf(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function oc(r,a,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(r,a):d.insertBefore(r,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(r,d)):(a=d,a.appendChild(r)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=qi));else if(f!==4&&(r=r.child,r!==null))for(oc(r,a,d),r=r.sibling;r!==null;)oc(r,a,d),r=r.sibling}function lc(r,a,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?d.insertBefore(r,a):d.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(lc(r,a,d),r=r.sibling;r!==null;)lc(r,a,d),r=r.sibling}var nt=null,Ut=!1;function Ms(r,a,d){for(d=d.child;d!==null;)yf(r,a,d),d=d.sibling}function yf(r,a,d){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ei,d)}catch{}switch(d.tag){case 5:lt||qn(d,a);case 6:var f=nt,g=Ut;nt=null,Ms(r,a,d),nt=f,Ut=g,nt!==null&&(Ut?(r=nt,d=d.stateNode,r.nodeType===8?r.parentNode.removeChild(d):r.removeChild(d)):nt.removeChild(d.stateNode));break;case 18:nt!==null&&(Ut?(r=nt,d=d.stateNode,r.nodeType===8?jl(r.parentNode,d):r.nodeType===1&&jl(r,d),vr(r)):jl(nt,d.stateNode));break;case 4:f=nt,g=Ut,nt=d.stateNode.containerInfo,Ut=!0,Ms(r,a,d),nt=f,Ut=g;break;case 0:case 11:case 14:case 15:if(!lt&&(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var b=g,S=b.destroy;b=b.tag,S!==void 0&&((b&2)!==0||(b&4)!==0)&&ic(d,a,S),g=g.next}while(g!==f)}Ms(r,a,d);break;case 1:if(!lt&&(qn(d,a),f=d.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(R){$e(d,a,R)}Ms(r,a,d);break;case 21:Ms(r,a,d);break;case 22:d.mode&1?(lt=(f=lt)||d.memoizedState!==null,Ms(r,a,d),lt=f):Ms(r,a,d);break;default:Ms(r,a,d)}}function vf(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var d=r.stateNode;d===null&&(d=r.stateNode=new H0),a.forEach(function(f){var g=Z0.bind(null,r,f);d.has(f)||(d.add(f),f.then(g,g))})}}function Vt(r,a){var d=a.deletions;if(d!==null)for(var f=0;f<d.length;f++){var g=d[f];try{var b=r,S=a,R=S;e:for(;R!==null;){switch(R.tag){case 5:nt=R.stateNode,Ut=!1;break e;case 3:nt=R.stateNode.containerInfo,Ut=!0;break e;case 4:nt=R.stateNode.containerInfo,Ut=!0;break e}R=R.return}if(nt===null)throw Error(n(160));yf(b,S,g),nt=null,Ut=!1;var T=g.alternate;T!==null&&(T.return=null),g.return=null}catch(H){$e(g,a,H)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)jf(a,r),a=a.sibling}function jf(r,a){var d=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vt(a,r),Zt(r),f&4){try{$r(3,r,r.return),pa(3,r)}catch(ce){$e(r,r.return,ce)}try{$r(5,r,r.return)}catch(ce){$e(r,r.return,ce)}}break;case 1:Vt(a,r),Zt(r),f&512&&d!==null&&qn(d,d.return);break;case 5:if(Vt(a,r),Zt(r),f&512&&d!==null&&qn(d,d.return),r.flags&32){var g=r.stateNode;try{cr(g,"")}catch(ce){$e(r,r.return,ce)}}if(f&4&&(g=r.stateNode,g!=null)){var b=r.memoizedProps,S=d!==null?d.memoizedProps:b,R=r.type,T=r.updateQueue;if(r.updateQueue=null,T!==null)try{R==="input"&&b.type==="radio"&&b.name!=null&&Xd(g,b),Bo(R,S);var H=Bo(R,b);for(S=0;S<T.length;S+=2){var J=T[S],Z=T[S+1];J==="style"?su(g,Z):J==="dangerouslySetInnerHTML"?eu(g,Z):J==="children"?cr(g,Z):P(g,J,Z,H)}switch(R){case"input":Ao(g,b);break;case"textarea":Gd(g,b);break;case"select":var G=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!b.multiple;var ae=b.value;ae!=null?_n(g,!!b.multiple,ae,!1):G!==!!b.multiple&&(b.defaultValue!=null?_n(g,!!b.multiple,b.defaultValue,!0):_n(g,!!b.multiple,b.multiple?[]:"",!1))}g[Pr]=b}catch(ce){$e(r,r.return,ce)}}break;case 6:if(Vt(a,r),Zt(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,b=r.memoizedProps;try{g.nodeValue=b}catch(ce){$e(r,r.return,ce)}}break;case 3:if(Vt(a,r),Zt(r),f&4&&d!==null&&d.memoizedState.isDehydrated)try{vr(a.containerInfo)}catch(ce){$e(r,r.return,ce)}break;case 4:Vt(a,r),Zt(r);break;case 13:Vt(a,r),Zt(r),g=r.child,g.flags&8192&&(b=g.memoizedState!==null,g.stateNode.isHidden=b,!b||g.alternate!==null&&g.alternate.memoizedState!==null||(uc=Ve())),f&4&&vf(r);break;case 22:if(J=d!==null&&d.memoizedState!==null,r.mode&1?(lt=(H=lt)||J,Vt(a,r),lt=H):Vt(a,r),Zt(r),f&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!J&&(r.mode&1)!==0)for(oe=r,J=r.child;J!==null;){for(Z=oe=J;oe!==null;){switch(G=oe,ae=G.child,G.tag){case 0:case 11:case 14:case 15:$r(4,G,G.return);break;case 1:qn(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){f=G,d=G.return;try{a=f,le.props=a.memoizedProps,le.state=a.memoizedState,le.componentWillUnmount()}catch(ce){$e(f,d,ce)}}break;case 5:qn(G,G.return);break;case 22:if(G.memoizedState!==null){Sf(Z);continue}}ae!==null?(ae.return=G,oe=ae):Sf(Z)}J=J.sibling}e:for(J=null,Z=r;;){if(Z.tag===5){if(J===null){J=Z;try{g=Z.stateNode,H?(b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(R=Z.stateNode,T=Z.memoizedProps.style,S=T!=null&&T.hasOwnProperty("display")?T.display:null,R.style.display=tu("display",S))}catch(ce){$e(r,r.return,ce)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=H?"":Z.memoizedProps}catch(ce){$e(r,r.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Vt(a,r),Zt(r),f&4&&vf(r);break;case 21:break;default:Vt(a,r),Zt(r)}}function Zt(r){var a=r.flags;if(a&2){try{e:{for(var d=r.return;d!==null;){if(xf(d)){var f=d;break e}d=d.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(cr(g,""),f.flags&=-33);var b=bf(r);lc(r,b,g);break;case 3:case 4:var S=f.stateNode.containerInfo,R=bf(r);oc(r,R,S);break;default:throw Error(n(161))}}catch(T){$e(r,r.return,T)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function V0(r,a,d){oe=r,Nf(r)}function Nf(r,a,d){for(var f=(r.mode&1)!==0;oe!==null;){var g=oe,b=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||ma;if(!S){var R=g.alternate,T=R!==null&&R.memoizedState!==null||lt;R=ma;var H=lt;if(ma=S,(lt=T)&&!H)for(oe=g;oe!==null;)S=oe,T=S.child,S.tag===22&&S.memoizedState!==null?_f(g):T!==null?(T.return=S,oe=T):_f(g);for(;b!==null;)oe=b,Nf(b),b=b.sibling;oe=g,ma=R,lt=H}wf(r)}else(g.subtreeFlags&8772)!==0&&b!==null?(b.return=g,oe=b):wf(r)}}function wf(r){for(;oe!==null;){var a=oe;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:lt||pa(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!lt)if(d===null)f.componentDidMount();else{var g=a.elementType===a.type?d.memoizedProps:Ht(a.type,d.memoizedProps);f.componentDidUpdate(g,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var b=a.updateQueue;b!==null&&wh(a,b,f);break;case 3:var S=a.updateQueue;if(S!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}wh(a,S,d)}break;case 5:var R=a.stateNode;if(d===null&&a.flags&4){d=R;var T=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&d.focus();break;case"img":T.src&&(d.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var H=a.alternate;if(H!==null){var J=H.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&vr(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lt||a.flags&512&&ac(a)}catch(G){$e(a,a.return,G)}}if(a===r){oe=null;break}if(d=a.sibling,d!==null){d.return=a.return,oe=d;break}oe=a.return}}function Sf(r){for(;oe!==null;){var a=oe;if(a===r){oe=null;break}var d=a.sibling;if(d!==null){d.return=a.return,oe=d;break}oe=a.return}}function _f(r){for(;oe!==null;){var a=oe;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{pa(4,a)}catch(T){$e(a,d,T)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(T){$e(a,g,T)}}var b=a.return;try{ac(a)}catch(T){$e(a,b,T)}break;case 5:var S=a.return;try{ac(a)}catch(T){$e(a,S,T)}}}catch(T){$e(a,a.return,T)}if(a===r){oe=null;break}var R=a.sibling;if(R!==null){R.return=a.return,oe=R;break}oe=a.return}}var q0=Math.ceil,ga=W.ReactCurrentDispatcher,cc=W.ReactCurrentOwner,Ot=W.ReactCurrentBatchConfig,we=0,tt=null,Ke=null,rt=0,Pt=0,Yn=Es(0),Ge=0,Hr=null,nn=0,xa=0,dc=0,Ur=null,bt=null,uc=0,Xn=1/0,ms=null,ba=!1,hc=null,As=null,ya=!1,Ls=null,va=0,Vr=0,fc=null,ja=-1,Na=0;function mt(){return(we&6)!==0?Ve():ja!==-1?ja:ja=Ve()}function Os(r){return(r.mode&1)===0?1:(we&2)!==0&&rt!==0?rt&-rt:R0.transition!==null?(Na===0&&(Na=xu()),Na):(r=Re,r!==0||(r=window.event,r=r===void 0?16:ku(r.type)),r)}function qt(r,a,d,f){if(50<Vr)throw Vr=0,fc=null,Error(n(185));pr(r,d,f),((we&2)===0||r!==tt)&&(r===tt&&((we&2)===0&&(xa|=d),Ge===4&&Fs(r,rt)),yt(r,f),d===1&&we===0&&(a.mode&1)===0&&(Xn=Ve()+500,Qi&&Ts()))}function yt(r,a){var d=r.callbackNode;Rx(r,a);var f=Pi(r,r===tt?rt:0);if(f===0)d!==null&&mu(d),r.callbackNode=null,r.callbackPriority=0;else if(a=f&-f,r.callbackPriority!==a){if(d!=null&&mu(d),a===1)r.tag===0?E0(Cf.bind(null,r)):uh(Cf.bind(null,r)),S0(function(){(we&6)===0&&Ts()}),d=null;else{switch(bu(f)){case 1:d=qo;break;case 4:d=pu;break;case 16:d=Ci;break;case 536870912:d=gu;break;default:d=Ci}d=Lf(d,kf.bind(null,r))}r.callbackPriority=a,r.callbackNode=d}}function kf(r,a){if(ja=-1,Na=0,(we&6)!==0)throw Error(n(327));var d=r.callbackNode;if(Kn()&&r.callbackNode!==d)return null;var f=Pi(r,r===tt?rt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||a)a=wa(r,f);else{a=f;var g=we;we|=2;var b=Rf();(tt!==r||rt!==a)&&(ms=null,Xn=Ve()+500,an(r,a));do try{K0();break}catch(R){Ef(r,R)}while(!0);Pl(),ga.current=b,we=g,Ke!==null?a=0:(tt=null,rt=0,a=Ge)}if(a!==0){if(a===2&&(g=Yo(r),g!==0&&(f=g,a=mc(r,g))),a===1)throw d=Hr,an(r,0),Fs(r,f),yt(r,Ve()),d;if(a===6)Fs(r,f);else{if(g=r.current.alternate,(f&30)===0&&!Y0(g)&&(a=wa(r,f),a===2&&(b=Yo(r),b!==0&&(f=b,a=mc(r,b))),a===1))throw d=Hr,an(r,0),Fs(r,f),yt(r,Ve()),d;switch(r.finishedWork=g,r.finishedLanes=f,a){case 0:case 1:throw Error(n(345));case 2:on(r,bt,ms);break;case 3:if(Fs(r,f),(f&130023424)===f&&(a=uc+500-Ve(),10<a)){if(Pi(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){mt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=vl(on.bind(null,r,bt,ms),a);break}on(r,bt,ms);break;case 4:if(Fs(r,f),(f&4194240)===f)break;for(a=r.eventTimes,g=-1;0<f;){var S=31-It(f);b=1<<S,S=a[S],S>g&&(g=S),f&=~b}if(f=g,f=Ve()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*q0(f/1960))-f,10<f){r.timeoutHandle=vl(on.bind(null,r,bt,ms),f);break}on(r,bt,ms);break;case 5:on(r,bt,ms);break;default:throw Error(n(329))}}}return yt(r,Ve()),r.callbackNode===d?kf.bind(null,r):null}function mc(r,a){var d=Ur;return r.current.memoizedState.isDehydrated&&(an(r,a).flags|=256),r=wa(r,a),r!==2&&(a=bt,bt=d,a!==null&&pc(a)),r}function pc(r){bt===null?bt=r:bt.push.apply(bt,r)}function Y0(r){for(var a=r;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var f=0;f<d.length;f++){var g=d[f],b=g.getSnapshot;g=g.value;try{if(!Wt(b(),g))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Fs(r,a){for(a&=~dc,a&=~xa,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var d=31-It(a),f=1<<d;r[d]=-1,a&=~f}}function Cf(r){if((we&6)!==0)throw Error(n(327));Kn();var a=Pi(r,0);if((a&1)===0)return yt(r,Ve()),null;var d=wa(r,a);if(r.tag!==0&&d===2){var f=Yo(r);f!==0&&(a=f,d=mc(r,f))}if(d===1)throw d=Hr,an(r,0),Fs(r,a),yt(r,Ve()),d;if(d===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,on(r,bt,ms),yt(r,Ve()),null}function gc(r,a){var d=we;we|=1;try{return r(a)}finally{we=d,we===0&&(Xn=Ve()+500,Qi&&Ts())}}function rn(r){Ls!==null&&Ls.tag===0&&(we&6)===0&&Kn();var a=we;we|=1;var d=Ot.transition,f=Re;try{if(Ot.transition=null,Re=1,r)return r()}finally{Re=f,Ot.transition=d,we=a,(we&6)===0&&Ts()}}function xc(){Pt=Yn.current,Le(Yn)}function an(r,a){r.finishedWork=null,r.finishedLanes=0;var d=r.timeoutHandle;if(d!==-1&&(r.timeoutHandle=-1,w0(d)),Ke!==null)for(d=Ke.return;d!==null;){var f=d;switch(kl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Xi();break;case 3:Un(),Le(pt),Le(it),Bl();break;case 5:Fl(f);break;case 4:Un();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:Dl(f.type._context);break;case 22:case 23:xc()}d=d.return}if(tt=r,Ke=r=zs(r.current,null),rt=Pt=a,Ge=0,Hr=null,dc=xa=nn=0,bt=Ur=null,en!==null){for(a=0;a<en.length;a++)if(d=en[a],f=d.interleaved,f!==null){d.interleaved=null;var g=f.next,b=d.pending;if(b!==null){var S=b.next;b.next=g,f.next=S}d.pending=f}en=null}return r}function Ef(r,a){do{var d=Ke;try{if(Pl(),aa.current=da,oa){for(var f=Ie.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}oa=!1}if(sn=0,et=Qe=Ie=null,Fr=!1,zr=0,cc.current=null,d===null||d.return===null){Ge=1,Hr=a,Ke=null;break}e:{var b=r,S=d.return,R=d,T=a;if(a=rt,R.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=T,J=R,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var G=J.alternate;G?(J.updateQueue=G.updateQueue,J.memoizedState=G.memoizedState,J.lanes=G.lanes):(J.updateQueue=null,J.memoizedState=null)}var ae=Jh(S);if(ae!==null){ae.flags&=-257,Zh(ae,S,R,b,a),ae.mode&1&&Gh(b,H,a),a=ae,T=H;var le=a.updateQueue;if(le===null){var ce=new Set;ce.add(T),a.updateQueue=ce}else le.add(T);break e}else{if((a&1)===0){Gh(b,H,a),bc();break e}T=Error(n(426))}}else if(Fe&&R.mode&1){var qe=Jh(S);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Zh(qe,S,R,b,a),Rl(Vn(T,R));break e}}b=T=Vn(T,R),Ge!==4&&(Ge=2),Ur===null?Ur=[b]:Ur.push(b),b=S;do{switch(b.tag){case 3:b.flags|=65536,a&=-a,b.lanes|=a;var O=Kh(b,T,a);Nh(b,O);break e;case 1:R=T;var D=b.type,I=b.stateNode;if((b.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(As===null||!As.has(I)))){b.flags|=65536,a&=-a,b.lanes|=a;var se=Qh(b,R,a);Nh(b,se);break e}}b=b.return}while(b!==null)}Pf(d)}catch(de){a=de,Ke===d&&d!==null&&(Ke=d=d.return);continue}break}while(!0)}function Rf(){var r=ga.current;return ga.current=da,r===null?da:r}function bc(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),tt===null||(nn&268435455)===0&&(xa&268435455)===0||Fs(tt,rt)}function wa(r,a){var d=we;we|=2;var f=Rf();(tt!==r||rt!==a)&&(ms=null,an(r,a));do try{X0();break}catch(g){Ef(r,g)}while(!0);if(Pl(),we=d,ga.current=f,Ke!==null)throw Error(n(261));return tt=null,rt=0,Ge}function X0(){for(;Ke!==null;)Tf(Ke)}function K0(){for(;Ke!==null&&!vx();)Tf(Ke)}function Tf(r){var a=Af(r.alternate,r,Pt);r.memoizedProps=r.pendingProps,a===null?Pf(r):Ke=a,cc.current=null}function Pf(r){var a=r;do{var d=a.alternate;if(r=a.return,(a.flags&32768)===0){if(d=W0(d,a,Pt),d!==null){Ke=d;return}}else{if(d=$0(d,a),d!==null){d.flags&=32767,Ke=d;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ge=6,Ke=null;return}}if(a=a.sibling,a!==null){Ke=a;return}Ke=a=r}while(a!==null);Ge===0&&(Ge=5)}function on(r,a,d){var f=Re,g=Ot.transition;try{Ot.transition=null,Re=1,Q0(r,a,d,f)}finally{Ot.transition=g,Re=f}return null}function Q0(r,a,d,f){do Kn();while(Ls!==null);if((we&6)!==0)throw Error(n(327));d=r.finishedWork;var g=r.finishedLanes;if(d===null)return null;if(r.finishedWork=null,r.finishedLanes=0,d===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=d.lanes|d.childLanes;if(Tx(r,b),r===tt&&(Ke=tt=null,rt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ya||(ya=!0,Lf(Ci,function(){return Kn(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=Ot.transition,Ot.transition=null;var S=Re;Re=1;var R=we;we|=4,cc.current=null,U0(r,d),jf(d,r),g0(bl),Ai=!!xl,bl=xl=null,r.current=d,V0(d),jx(),we=R,Re=S,Ot.transition=b}else r.current=d;if(ya&&(ya=!1,Ls=r,va=g),b=r.pendingLanes,b===0&&(As=null),Sx(d.stateNode),yt(r,Ve()),a!==null)for(f=r.onRecoverableError,d=0;d<a.length;d++)g=a[d],f(g.value,{componentStack:g.stack,digest:g.digest});if(ba)throw ba=!1,r=hc,hc=null,r;return(va&1)!==0&&r.tag!==0&&Kn(),b=r.pendingLanes,(b&1)!==0?r===fc?Vr++:(Vr=0,fc=r):Vr=0,Ts(),null}function Kn(){if(Ls!==null){var r=bu(va),a=Ot.transition,d=Re;try{if(Ot.transition=null,Re=16>r?16:r,Ls===null)var f=!1;else{if(r=Ls,Ls=null,va=0,(we&6)!==0)throw Error(n(331));var g=we;for(we|=4,oe=r.current;oe!==null;){var b=oe,S=b.child;if((oe.flags&16)!==0){var R=b.deletions;if(R!==null){for(var T=0;T<R.length;T++){var H=R[T];for(oe=H;oe!==null;){var J=oe;switch(J.tag){case 0:case 11:case 15:$r(8,J,b)}var Z=J.child;if(Z!==null)Z.return=J,oe=Z;else for(;oe!==null;){J=oe;var G=J.sibling,ae=J.return;if(gf(J),J===H){oe=null;break}if(G!==null){G.return=ae,oe=G;break}oe=ae}}}var le=b.alternate;if(le!==null){var ce=le.child;if(ce!==null){le.child=null;do{var qe=ce.sibling;ce.sibling=null,ce=qe}while(ce!==null)}}oe=b}}if((b.subtreeFlags&2064)!==0&&S!==null)S.return=b,oe=S;else e:for(;oe!==null;){if(b=oe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:$r(9,b,b.return)}var O=b.sibling;if(O!==null){O.return=b.return,oe=O;break e}oe=b.return}}var D=r.current;for(oe=D;oe!==null;){S=oe;var I=S.child;if((S.subtreeFlags&2064)!==0&&I!==null)I.return=S,oe=I;else e:for(S=D;oe!==null;){if(R=oe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:pa(9,R)}}catch(de){$e(R,R.return,de)}if(R===S){oe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,oe=se;break e}oe=R.return}}if(we=g,Ts(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ei,r)}catch{}f=!0}return f}finally{Re=d,Ot.transition=a}}return!1}function Df(r,a,d){a=Vn(d,a),a=Kh(r,a,1),r=Ds(r,a,1),a=mt(),r!==null&&(pr(r,1,a),yt(r,a))}function $e(r,a,d){if(r.tag===3)Df(r,r,d);else for(;a!==null;){if(a.tag===3){Df(a,r,d);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(As===null||!As.has(f))){r=Vn(d,r),r=Qh(a,r,1),a=Ds(a,r,1),r=mt(),a!==null&&(pr(a,1,r),yt(a,r));break}}a=a.return}}function G0(r,a,d){var f=r.pingCache;f!==null&&f.delete(a),a=mt(),r.pingedLanes|=r.suspendedLanes&d,tt===r&&(rt&d)===d&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Ve()-uc?an(r,0):dc|=d),yt(r,a)}function Mf(r,a){a===0&&((r.mode&1)===0?a=1:(a=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var d=mt();r=us(r,a),r!==null&&(pr(r,a,d),yt(r,d))}function J0(r){var a=r.memoizedState,d=0;a!==null&&(d=a.retryLane),Mf(r,d)}function Z0(r,a){var d=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(d=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(a),Mf(r,d)}var Af;Af=function(r,a,d){if(r!==null)if(r.memoizedProps!==a.pendingProps||pt.current)xt=!0;else{if((r.lanes&d)===0&&(a.flags&128)===0)return xt=!1,I0(r,a,d);xt=(r.flags&131072)!==0}else xt=!1,Fe&&(a.flags&1048576)!==0&&hh(a,Ji,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;fa(r,a),r=a.pendingProps;var g=Fn(a,it.current);Hn(a,d),g=$l(null,a,f,r,g,d);var b=Hl();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,gt(f)?(b=!0,Ki(a)):b=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ll(a),g.updater=ua,a.stateNode=g,g._reactInternals=a,Kl(a,f,r,d),a=Zl(null,a,f,!0,b,d)):(a.tag=0,Fe&&b&&_l(a),ft(null,a,g,d),a=a.child),a;case 16:f=a.elementType;e:{switch(fa(r,a),r=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=tb(f),r=Ht(f,r),g){case 0:a=Jl(null,a,f,r,d);break e;case 1:a=af(null,a,f,r,d);break e;case 11:a=ef(null,a,f,r,d);break e;case 14:a=tf(null,a,f,Ht(f.type,r),d);break e}throw Error(n(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ht(f,g),Jl(r,a,f,g,d);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ht(f,g),af(r,a,f,g,d);case 3:e:{if(of(a),r===null)throw Error(n(387));f=a.pendingProps,b=a.memoizedState,g=b.element,jh(r,a),ra(a,f,null,d);var S=a.memoizedState;if(f=S.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){g=Vn(Error(n(423)),a),a=lf(r,a,f,d,g);break e}else if(f!==g){g=Vn(Error(n(424)),a),a=lf(r,a,f,d,g);break e}else for(Tt=Cs(a.stateNode.containerInfo.firstChild),Rt=a,Fe=!0,$t=null,d=yh(a,null,f,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(In(),f===g){a=fs(r,a,d);break e}ft(r,a,f,d)}a=a.child}return a;case 5:return Sh(a),r===null&&El(a),f=a.type,g=a.pendingProps,b=r!==null?r.memoizedProps:null,S=g.children,yl(f,g)?S=null:b!==null&&yl(f,b)&&(a.flags|=32),rf(r,a),ft(r,a,S,d),a.child;case 6:return r===null&&El(a),null;case 13:return cf(r,a,d);case 4:return Ol(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=Wn(a,null,f,d):ft(r,a,f,d),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ht(f,g),ef(r,a,f,g,d);case 7:return ft(r,a,a.pendingProps,d),a.child;case 8:return ft(r,a,a.pendingProps.children,d),a.child;case 12:return ft(r,a,a.pendingProps.children,d),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,b=a.memoizedProps,S=g.value,De(ta,f._currentValue),f._currentValue=S,b!==null)if(Wt(b.value,S)){if(b.children===g.children&&!pt.current){a=fs(r,a,d);break e}}else for(b=a.child,b!==null&&(b.return=a);b!==null;){var R=b.dependencies;if(R!==null){S=b.child;for(var T=R.firstContext;T!==null;){if(T.context===f){if(b.tag===1){T=hs(-1,d&-d),T.tag=2;var H=b.updateQueue;if(H!==null){H=H.shared;var J=H.pending;J===null?T.next=T:(T.next=J.next,J.next=T),H.pending=T}}b.lanes|=d,T=b.alternate,T!==null&&(T.lanes|=d),Ml(b.return,d,a),R.lanes|=d;break}T=T.next}}else if(b.tag===10)S=b.type===a.type?null:b.child;else if(b.tag===18){if(S=b.return,S===null)throw Error(n(341));S.lanes|=d,R=S.alternate,R!==null&&(R.lanes|=d),Ml(S,d,a),S=b.sibling}else S=b.child;if(S!==null)S.return=b;else for(S=b;S!==null;){if(S===a){S=null;break}if(b=S.sibling,b!==null){b.return=S.return,S=b;break}S=S.return}b=S}ft(r,a,g.children,d),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Hn(a,d),g=At(g),f=f(g),a.flags|=1,ft(r,a,f,d),a.child;case 14:return f=a.type,g=Ht(f,a.pendingProps),g=Ht(f.type,g),tf(r,a,f,g,d);case 15:return sf(r,a,a.type,a.pendingProps,d);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ht(f,g),fa(r,a),a.tag=1,gt(f)?(r=!0,Ki(a)):r=!1,Hn(a,d),Yh(a,f,g),Kl(a,f,g,d),Zl(null,a,f,!0,r,d);case 19:return uf(r,a,d);case 22:return nf(r,a,d)}throw Error(n(156,a.tag))};function Lf(r,a){return fu(r,a)}function eb(r,a,d,f){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(r,a,d,f){return new eb(r,a,d,f)}function yc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tb(r){if(typeof r=="function")return yc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===z)return 11;if(r===U)return 14}return 2}function zs(r,a){var d=r.alternate;return d===null?(d=Ft(r.tag,a,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=a,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&14680064,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,a=r.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d}function Sa(r,a,d,f,g,b){var S=2;if(f=r,typeof r=="function")yc(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case k:return ln(d.children,g,b,a);case M:S=8,g|=8;break;case B:return r=Ft(12,d,a,g|2),r.elementType=B,r.lanes=b,r;case ne:return r=Ft(13,d,a,g),r.elementType=ne,r.lanes=b,r;case ee:return r=Ft(19,d,a,g),r.elementType=ee,r.lanes=b,r;case Q:return _a(d,g,b,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:S=10;break e;case q:S=9;break e;case z:S=11;break e;case U:S=14;break e;case F:S=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return a=Ft(S,d,a,g),a.elementType=r,a.type=f,a.lanes=b,a}function ln(r,a,d,f){return r=Ft(7,r,f,a),r.lanes=d,r}function _a(r,a,d,f){return r=Ft(22,r,f,a),r.elementType=Q,r.lanes=d,r.stateNode={isHidden:!1},r}function vc(r,a,d){return r=Ft(6,r,null,a),r.lanes=d,r}function jc(r,a,d){return a=Ft(4,r.children!==null?r.children:[],r.key,a),a.lanes=d,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function sb(r,a,d,f,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Nc(r,a,d,f,g,b,S,R,T){return r=new sb(r,a,d,R,T),a===1?(a=1,b===!0&&(a|=8)):a=0,b=Ft(3,null,null,a),r.current=b,b.stateNode=r,b.memoizedState={element:f,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(b),r}function nb(r,a,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:f==null?null:""+f,children:r,containerInfo:a,implementation:d}}function Of(r){if(!r)return Rs;r=r._reactInternals;e:{if(Ks(r)!==r||r.tag!==1)throw Error(n(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(gt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(r.tag===1){var d=r.type;if(gt(d))return ch(r,d,a)}return a}function Ff(r,a,d,f,g,b,S,R,T){return r=Nc(d,f,!0,r,g,b,S,R,T),r.context=Of(null),d=r.current,f=mt(),g=Os(d),b=hs(f,g),b.callback=a??null,Ds(d,b,g),r.current.lanes=g,pr(r,g,f),yt(r,f),r}function ka(r,a,d,f){var g=a.current,b=mt(),S=Os(g);return d=Of(d),a.context===null?a.context=d:a.pendingContext=d,a=hs(b,S),a.payload={element:r},f=f===void 0?null:f,f!==null&&(a.callback=f),r=Ds(g,a,S),r!==null&&(qt(r,g,S,b),na(r,g,S)),S}function Ca(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zf(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<a?d:a}}function wc(r,a){zf(r,a),(r=r.alternate)&&zf(r,a)}function rb(){return null}var Bf=typeof reportError=="function"?reportError:function(r){console.error(r)};function Sc(r){this._internalRoot=r}Ea.prototype.render=Sc.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(n(409));ka(r,a,null,null)},Ea.prototype.unmount=Sc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;rn(function(){ka(null,r,null,null)}),a[os]=null}};function Ea(r){this._internalRoot=r}Ea.prototype.unstable_scheduleHydration=function(r){if(r){var a=ju();r={blockedOn:null,target:r,priority:a};for(var d=0;d<Ss.length&&a!==0&&a<Ss[d].priority;d++);Ss.splice(d,0,r),d===0&&Su(r)}};function _c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ra(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function If(){}function ib(r,a,d,f,g){if(g){if(typeof f=="function"){var b=f;f=function(){var H=Ca(S);b.call(H)}}var S=Ff(a,f,r,0,null,!1,!1,"",If);return r._reactRootContainer=S,r[os]=S.current,Rr(r.nodeType===8?r.parentNode:r),rn(),S}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var H=Ca(T);R.call(H)}}var T=Nc(r,0,!1,null,null,!1,!1,"",If);return r._reactRootContainer=T,r[os]=T.current,Rr(r.nodeType===8?r.parentNode:r),rn(function(){ka(a,T,d,f)}),T}function Ta(r,a,d,f,g){var b=d._reactRootContainer;if(b){var S=b;if(typeof g=="function"){var R=g;g=function(){var T=Ca(S);R.call(T)}}ka(a,S,r,g)}else S=ib(d,a,r,g,f);return Ca(S)}yu=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var d=mr(a.pendingLanes);d!==0&&(Ko(a,d|1),yt(a,Ve()),(we&6)===0&&(Xn=Ve()+500,Ts()))}break;case 13:rn(function(){var f=us(r,1);if(f!==null){var g=mt();qt(f,r,1,g)}}),wc(r,1)}},Qo=function(r){if(r.tag===13){var a=us(r,134217728);if(a!==null){var d=mt();qt(a,r,134217728,d)}wc(r,134217728)}},vu=function(r){if(r.tag===13){var a=Os(r),d=us(r,a);if(d!==null){var f=mt();qt(d,r,a,f)}wc(r,a)}},ju=function(){return Re},Nu=function(r,a){var d=Re;try{return Re=r,a()}finally{Re=d}},$o=function(r,a,d){switch(a){case"input":if(Ao(r,d),a=d.name,d.type==="radio"&&a!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var f=d[a];if(f!==r&&f.form===r.form){var g=Yi(f);if(!g)throw Error(n(90));qd(f),Ao(f,g)}}}break;case"textarea":Gd(r,d);break;case"select":a=d.value,a!=null&&_n(r,!!d.multiple,a,!1)}},au=gc,ou=rn;var ab={usingClientEntryPoint:!1,Events:[Dr,Ln,Yi,ru,iu,gc]},qr={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ob={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=uu(r),r===null?null:r.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Ei=Pa.inject(ob),Kt=Pa}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ab,vt.createPortal=function(r,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(a))throw Error(n(200));return nb(r,a,null,d)},vt.createRoot=function(r,a){if(!_c(r))throw Error(n(299));var d=!1,f="",g=Bf;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Nc(r,1,!1,null,null,d,!1,f,g),r[os]=a.current,Rr(r.nodeType===8?r.parentNode:r),new Sc(a)},vt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=uu(a),r=r===null?null:r.stateNode,r},vt.flushSync=function(r){return rn(r)},vt.hydrate=function(r,a,d){if(!Ra(a))throw Error(n(200));return Ta(null,r,a,!0,d)},vt.hydrateRoot=function(r,a,d){if(!_c(r))throw Error(n(405));var f=d!=null&&d.hydratedSources||null,g=!1,b="",S=Bf;if(d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(S=d.onRecoverableError)),a=Ff(a,null,r,1,d??null,g,!1,b,S),r[os]=a.current,Rr(r),f)for(r=0;r<f.length;r++)d=f[r],g=d._getVersion,g=g(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,g]:a.mutableSourceEagerHydrationData.push(d,g);return new Ea(a)},vt.render=function(r,a,d){if(!Ra(a))throw Error(n(200));return Ta(null,r,a,!1,d)},vt.unmountComponentAtNode=function(r){if(!Ra(r))throw Error(n(40));return r._reactRootContainer?(rn(function(){Ta(null,null,r,!1,function(){r._reactRootContainer=null,r[os]=null})}),!0):!1},vt.unstable_batchedUpdates=gc,vt.unstable_renderSubtreeIntoContainer=function(r,a,d,f){if(!Ra(d))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ta(r,a,d,!1,f)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var Xf;function zp(){if(Xf)return Ec.exports;Xf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ec.exports=gb(),Ec.exports}var Kf;function xb(){if(Kf)return Da;Kf=1;var s=zp();return Da.createRoot=s.createRoot,Da.hydrateRoot=s.hydrateRoot,Da}var bb=xb();const yb=Fp(bb);zp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},oi.apply(this,arguments)}var Is;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Is||(Is={}));const Qf="popstate";function vb(s){s===void 0&&(s={});function e(i,o){let{pathname:l,search:c,hash:u}=i.location;return Gc("",{pathname:l,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:eo(o)}return Nb(e,n,null,s)}function Xe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Bp(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jb(){return Math.random().toString(36).substr(2,8)}function Gf(s,e){return{usr:s.state,key:s.key,idx:e}}function Gc(s,e,n,i){return n===void 0&&(n=null),oi({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?nr(e):e,{state:n,key:e&&e.key||i||jb()})}function eo(s){let{pathname:e="/",search:n="",hash:i=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function nr(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substr(i),s=s.substr(0,i)),s&&(e.pathname=s)}return e}function Nb(s,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,u=Is.Pop,h=null,m=p();m==null&&(m=0,c.replaceState(oi({},c.state,{idx:m}),""));function p(){return(c.state||{idx:null}).idx}function x(){u=Is.Pop;let N=p(),_=N==null?null:N-m;m=N,h&&h({action:u,location:j.location,delta:_})}function y(N,_){u=Is.Push;let C=Gc(j.location,N,_);m=p()+1;let P=Gf(C,m),W=j.createHref(C);try{c.pushState(P,"",W)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(W)}l&&h&&h({action:u,location:j.location,delta:1})}function v(N,_){u=Is.Replace;let C=Gc(j.location,N,_);m=p();let P=Gf(C,m),W=j.createHref(C);c.replaceState(P,"",W),l&&h&&h({action:u,location:j.location,delta:0})}function w(N){let _=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof N=="string"?N:eo(N);return C=C.replace(/ $/,"%20"),Xe(_,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,_)}let j={get action(){return u},get location(){return s(o,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Qf,x),h=N,()=>{o.removeEventListener(Qf,x),h=null}},createHref(N){return e(o,N)},createURL:w,encodeLocation(N){let _=w(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:v,go(N){return c.go(N)}};return j}var Jf;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Jf||(Jf={}));function wb(s,e,n){return n===void 0&&(n="/"),Sb(s,e,n)}function Sb(s,e,n,i){let o=typeof e=="string"?nr(e):e,l=xd(o.pathname||"/",n);if(l==null)return null;let c=Ip(s);_b(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=Fb(l);u=Ab(c[h],m)}return u}function Ip(s,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Xe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let m=Us([i,h.relativePath]),p=n.concat(h);l.children&&l.children.length>0&&(Xe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Ip(l.children,e,p,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:Db(m,l.index),routesMeta:p})};return s.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))o(l,c);else for(let h of Wp(l.path))o(l,c,h)}),e}function Wp(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=Wp(i.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&u.push(...c),u.map(h=>s.startsWith("/")&&h===""?"/":h)}function _b(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Mb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kb=/^:[\w-]+$/,Cb=3,Eb=2,Rb=1,Tb=10,Pb=-2,Zf=s=>s==="*";function Db(s,e){let n=s.split("/"),i=n.length;return n.some(Zf)&&(i+=Pb),e&&(i+=Eb),n.filter(o=>!Zf(o)).reduce((o,l)=>o+(kb.test(l)?Cb:l===""?Rb:Tb),i)}function Mb(s,e){return s.length===e.length&&s.slice(0,-1).every((i,o)=>i===e[o])?s[s.length-1]-e[e.length-1]:0}function Ab(s,e,n){let{routesMeta:i}=s,o={},l="/",c=[];for(let u=0;u<i.length;++u){let h=i[u],m=u===i.length-1,p=l==="/"?e:e.slice(l.length)||"/",x=Lb({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),y=h.route;if(!x)return null;Object.assign(o,x.params),c.push({params:o,pathname:Us([l,x.pathname]),pathnameBase:Wb(Us([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=Us([l,x.pathnameBase]))}return c}function Lb(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=Ob(s.path,s.caseSensitive,s.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:i.reduce((m,p,x)=>{let{paramName:y,isOptional:v}=p;if(y==="*"){let j=u[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:s}}function Ob(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Fb(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function xd(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function zb(s,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof s=="string"?nr(s):s;return{pathname:n?n.startsWith("/")?n:Bb(n,e):e,search:$b(i),hash:Hb(o)}}function Bb(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pc(s,e,n,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ib(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bd(s,e){let n=Ib(s);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function yd(s,e,n,i){i===void 0&&(i=!1);let o;typeof s=="string"?o=nr(s):(o=oi({},s),Xe(!o.pathname||!o.pathname.includes("?"),Pc("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Pc("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Pc("#","search","hash",o)));let l=s===""||o.pathname==="",c=l?"/":o.pathname,u;if(c==null)u=n;else{let x=e.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;o.pathname=y.join("/")}u=x>=0?e[x]:"/"}let h=zb(o,u),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}const Us=s=>s.join("/").replace(/\/\/+/g,"/"),Wb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Hb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ub(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const $p=["post","put","patch","delete"];new Set($p);const Vb=["get",...$p];new Set(Vb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},li.apply(this,arguments)}const vd=E.createContext(null),qb=E.createContext(null),Ys=E.createContext(null),ho=E.createContext(null),as=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Hp=E.createContext(null);function Yb(s,e){let{relative:n}=e===void 0?{}:e;rr()||Xe(!1);let{basename:i,navigator:o}=E.useContext(Ys),{hash:l,pathname:c,search:u}=Vp(s,{relative:n}),h=c;return i!=="/"&&(h=c==="/"?i:Us([i,c])),o.createHref({pathname:h,search:u,hash:l})}function rr(){return E.useContext(ho)!=null}function Yt(){return rr()||Xe(!1),E.useContext(ho).location}function Up(s){E.useContext(Ys).static||E.useLayoutEffect(s)}function wn(){let{isDataRoute:s}=E.useContext(as);return s?cy():Xb()}function Xb(){rr()||Xe(!1);let s=E.useContext(vd),{basename:e,future:n,navigator:i}=E.useContext(Ys),{matches:o}=E.useContext(as),{pathname:l}=Yt(),c=JSON.stringify(bd(o,n.v7_relativeSplatPath)),u=E.useRef(!1);return Up(()=>{u.current=!0}),E.useCallback(function(m,p){if(p===void 0&&(p={}),!u.current)return;if(typeof m=="number"){i.go(m);return}let x=yd(m,JSON.parse(c),l,p.relative==="path");s==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Us([e,x.pathname])),(p.replace?i.replace:i.push)(x,p.state,p)},[e,i,c,l,s])}const Kb=E.createContext(null);function Qb(s){let e=E.useContext(as).outlet;return e&&E.createElement(Kb.Provider,{value:s},e)}function Gb(){let{matches:s}=E.useContext(as),e=s[s.length-1];return e?e.params:{}}function Vp(s,e){let{relative:n}=e===void 0?{}:e,{future:i}=E.useContext(Ys),{matches:o}=E.useContext(as),{pathname:l}=Yt(),c=JSON.stringify(bd(o,i.v7_relativeSplatPath));return E.useMemo(()=>yd(s,JSON.parse(c),l,n==="path"),[s,c,l,n])}function Jb(s,e){return Zb(s,e)}function Zb(s,e,n,i){rr()||Xe(!1);let{navigator:o}=E.useContext(Ys),{matches:l}=E.useContext(as),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=Yt(),p;if(e){var x;let N=typeof e=="string"?nr(e):e;h==="/"||(x=N.pathname)!=null&&x.startsWith(h)||Xe(!1),p=N}else p=m;let y=p.pathname||"/",v=y;if(h!=="/"){let N=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=wb(s,{pathname:v}),j=ry(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Us([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Us([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,i);return e&&j?E.createElement(ho.Provider,{value:{location:li({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Is.Pop}},j):j}function ey(){let s=ly(),e=Ub(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,null)}const ty=E.createElement(ey,null);class sy extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(as.Provider,{value:this.props.routeContext},E.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ny(s){let{routeContext:e,match:n,children:i}=s,o=E.useContext(vd);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(as.Provider,{value:e},i)}function ry(s,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),s==null){var l;if(!n)return null;if(n.errors)s=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,u=(o=n)==null?void 0:o.errors;if(u!=null){let p=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);p>=0||Xe(!1),c=c.slice(0,Math.min(c.length,p+1))}let h=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<c.length;p++){let x=c[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:y,errors:v}=n,w=x.route.loader&&y[x.route.id]===void 0&&(!v||v[x.route.id]===void 0);if(x.route.lazy||w){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,x,y)=>{let v,w=!1,j=null,N=null;n&&(v=u&&x.route.id?u[x.route.id]:void 0,j=x.route.errorElement||ty,h&&(m<0&&y===0?(dy("route-fallback"),w=!0,N=null):m===y&&(w=!0,N=x.route.hydrateFallbackElement||null)));let _=e.concat(c.slice(0,y+1)),C=()=>{let P;return v?P=j:w?P=N:x.route.Component?P=E.createElement(x.route.Component,null):x.route.element?P=x.route.element:P=p,E.createElement(ny,{match:x,routeContext:{outlet:p,matches:_,isDataRoute:n!=null},children:P})};return n&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?E.createElement(sy,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}var qp=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(qp||{}),Yp=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Yp||{});function iy(s){let e=E.useContext(vd);return e||Xe(!1),e}function ay(s){let e=E.useContext(qb);return e||Xe(!1),e}function oy(s){let e=E.useContext(as);return e||Xe(!1),e}function Xp(s){let e=oy(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function ly(){var s;let e=E.useContext(Hp),n=ay(),i=Xp();return e!==void 0?e:(s=n.errors)==null?void 0:s[i]}function cy(){let{router:s}=iy(qp.UseNavigateStable),e=Xp(Yp.UseNavigateStable),n=E.useRef(!1);return Up(()=>{n.current=!0}),E.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,li({fromRouteId:e},l)))},[s,e])}const em={};function dy(s,e,n){em[s]||(em[s]=!0)}function uy(s,e){s?.v7_startTransition,s?.v7_relativeSplatPath}function tm(s){let{to:e,replace:n,state:i,relative:o}=s;rr()||Xe(!1);let{future:l,static:c}=E.useContext(Ys),{matches:u}=E.useContext(as),{pathname:h}=Yt(),m=wn(),p=yd(e,bd(u,l.v7_relativeSplatPath),h,o==="path"),x=JSON.stringify(p);return E.useEffect(()=>m(JSON.parse(x),{replace:n,state:i,relative:o}),[m,x,o,n,i]),null}function jd(s){return Qb(s.context)}function be(s){Xe(!1)}function hy(s){let{basename:e="/",children:n=null,location:i,navigationType:o=Is.Pop,navigator:l,static:c=!1,future:u}=s;rr()&&Xe(!1);let h=e.replace(/^\/*/,"/"),m=E.useMemo(()=>({basename:h,navigator:l,static:c,future:li({v7_relativeSplatPath:!1},u)}),[h,u,l,c]);typeof i=="string"&&(i=nr(i));let{pathname:p="/",search:x="",hash:y="",state:v=null,key:w="default"}=i,j=E.useMemo(()=>{let N=xd(p,h);return N==null?null:{location:{pathname:N,search:x,hash:y,state:v,key:w},navigationType:o}},[h,p,x,y,v,w,o]);return j==null?null:E.createElement(Ys.Provider,{value:m},E.createElement(ho.Provider,{children:n,value:j}))}function fy(s){let{children:e,location:n}=s;return Jb(Jc(e),n)}new Promise(()=>{});function Jc(s,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(s,(i,o)=>{if(!E.isValidElement(i))return;let l=[...e,o];if(i.type===E.Fragment){n.push.apply(n,Jc(i.props.children,l));return}i.type!==be&&Xe(!1),!i.props.index||!i.props.children||Xe(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Jc(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Zc.apply(this,arguments)}function my(s,e){if(s==null)return{};var n={},i=Object.keys(s),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(n[o]=s[o]);return n}function py(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function gy(s,e){return s.button===0&&(!e||e==="_self")&&!py(s)}const xy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],by="6";try{window.__reactRouterVersion=by}catch{}const yy="startTransition",sm=fb[yy];function vy(s){let{basename:e,children:n,future:i,window:o}=s,l=E.useRef();l.current==null&&(l.current=vb({window:o,v5Compat:!0}));let c=l.current,[u,h]=E.useState({action:c.action,location:c.location}),{v7_startTransition:m}=i||{},p=E.useCallback(x=>{m&&sm?sm(()=>h(x)):h(x)},[h,m]);return E.useLayoutEffect(()=>c.listen(p),[c,p]),E.useEffect(()=>uy(i),[i]),E.createElement(hy,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:c,future:i})}const jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=E.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:p,viewTransition:x}=e,y=my(e,xy),{basename:v}=E.useContext(Ys),w,j=!1;if(typeof m=="string"&&Ny.test(m)&&(w=m,jy))try{let P=new URL(window.location.href),W=m.startsWith("//")?new URL(P.protocol+m):new URL(m),L=xd(W.pathname,v);W.origin===P.origin&&L!=null?m=L+W.search+W.hash:j=!0}catch{}let N=Yb(m,{relative:o}),_=wy(m,{replace:c,state:u,target:h,preventScrollReset:p,relative:o,viewTransition:x});function C(P){i&&i(P),P.defaultPrevented||_(P)}return E.createElement("a",Zc({},y,{href:w||N,onClick:j||l?i:C,ref:n,target:h}))});var nm;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(nm||(nm={}));var rm;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(rm||(rm={}));function wy(s,e){let{target:n,replace:i,state:o,preventScrollReset:l,relative:c,viewTransition:u}=e===void 0?{}:e,h=wn(),m=Yt(),p=Vp(s,{relative:c});return E.useCallback(x=>{if(gy(x,n)){x.preventDefault();let y=i!==void 0?i:eo(m)===eo(p);h(s,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:u})}},[m,h,p,i,o,n,s,l,c,u])}function Kp(s,e){return function(){return s.apply(e,arguments)}}const{toString:Sy}=Object.prototype,{getPrototypeOf:Nd}=Object,{iterator:fo,toStringTag:Qp}=Symbol,mo=(s=>e=>{const n=Sy.call(e);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=s=>(s=s.toLowerCase(),e=>mo(e)===s),po=s=>e=>typeof e===s,{isArray:ir}=Array,ci=po("undefined");function xi(s){return s!==null&&!ci(s)&&s.constructor!==null&&!ci(s.constructor)&&St(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Gp=Xt("ArrayBuffer");function _y(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Gp(s.buffer),e}const ky=po("string"),St=po("function"),Jp=po("number"),bi=s=>s!==null&&typeof s=="object",Cy=s=>s===!0||s===!1,Ka=s=>{if(mo(s)!=="object")return!1;const e=Nd(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Qp in s)&&!(fo in s)},Ey=s=>{if(!bi(s)||xi(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Ry=Xt("Date"),Ty=Xt("File"),Py=Xt("Blob"),Dy=Xt("FileList"),My=s=>bi(s)&&St(s.pipe),Ay=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||St(s.append)&&((e=mo(s))==="formdata"||e==="object"&&St(s.toString)&&s.toString()==="[object FormData]"))},Ly=Xt("URLSearchParams"),[Oy,Fy,zy,By]=["ReadableStream","Request","Response","Headers"].map(Xt),Iy=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yi(s,e,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let i,o;if(typeof s!="object"&&(s=[s]),ir(s))for(i=0,o=s.length;i<o;i++)e.call(null,s[i],i,s);else{if(xi(s))return;const l=n?Object.getOwnPropertyNames(s):Object.keys(s),c=l.length;let u;for(i=0;i<c;i++)u=l[i],e.call(null,s[u],u,s)}}function Zp(s,e){if(xi(s))return null;e=e.toLowerCase();const n=Object.keys(s);let i=n.length,o;for(;i-- >0;)if(o=n[i],e===o.toLowerCase())return o;return null}const mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eg=s=>!ci(s)&&s!==mn;function ed(){const{caseless:s}=eg(this)&&this||{},e={},n=(i,o)=>{const l=s&&Zp(e,o)||o;Ka(e[l])&&Ka(i)?e[l]=ed(e[l],i):Ka(i)?e[l]=ed({},i):ir(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&yi(arguments[i],n);return e}const Wy=(s,e,n,{allOwnKeys:i}={})=>(yi(e,(o,l)=>{n&&St(o)?s[l]=Kp(o,n):s[l]=o},{allOwnKeys:i}),s),$y=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Hy=(s,e,n,i)=>{s.prototype=Object.create(e.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),n&&Object.assign(s.prototype,n)},Uy=(s,e,n,i)=>{let o,l,c;const u={};if(e=e||{},s==null)return e;do{for(o=Object.getOwnPropertyNames(s),l=o.length;l-- >0;)c=o[l],(!i||i(c,s,e))&&!u[c]&&(e[c]=s[c],u[c]=!0);s=n!==!1&&Nd(s)}while(s&&(!n||n(s,e))&&s!==Object.prototype);return e},Vy=(s,e,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=e.length;const i=s.indexOf(e,n);return i!==-1&&i===n},qy=s=>{if(!s)return null;if(ir(s))return s;let e=s.length;if(!Jp(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=s[e];return n},Yy=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Nd(Uint8Array)),Xy=(s,e)=>{const i=(s&&s[fo]).call(s);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(s,l[0],l[1])}},Ky=(s,e)=>{let n;const i=[];for(;(n=s.exec(e))!==null;)i.push(n);return i},Qy=Xt("HTMLFormElement"),Gy=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),im=(({hasOwnProperty:s})=>(e,n)=>s.call(e,n))(Object.prototype),Jy=Xt("RegExp"),tg=(s,e)=>{const n=Object.getOwnPropertyDescriptors(s),i={};yi(n,(o,l)=>{let c;(c=e(o,l,s))!==!1&&(i[l]=c||o)}),Object.defineProperties(s,i)},Zy=s=>{tg(s,(e,n)=>{if(St(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=s[n];if(St(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ev=(s,e)=>{const n={},i=o=>{o.forEach(l=>{n[l]=!0})};return ir(s)?i(s):i(String(s).split(e)),n},tv=()=>{},sv=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function nv(s){return!!(s&&St(s.append)&&s[Qp]==="FormData"&&s[fo])}const rv=s=>{const e=new Array(10),n=(i,o)=>{if(bi(i)){if(e.indexOf(i)>=0)return;if(xi(i))return i;if(!("toJSON"in i)){e[o]=i;const l=ir(i)?[]:{};return yi(i,(c,u)=>{const h=n(c,o+1);!ci(h)&&(l[u]=h)}),e[o]=void 0,l}}return i};return n(s,0)},iv=Xt("AsyncFunction"),av=s=>s&&(bi(s)||St(s))&&St(s.then)&&St(s.catch),sg=((s,e)=>s?setImmediate:e?((n,i)=>(mn.addEventListener("message",({source:o,data:l})=>{o===mn&&l===n&&i.length&&i.shift()()},!1),o=>{i.push(o),mn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",St(mn.postMessage)),ov=typeof queueMicrotask<"u"?queueMicrotask.bind(mn):typeof process<"u"&&process.nextTick||sg,lv=s=>s!=null&&St(s[fo]),V={isArray:ir,isArrayBuffer:Gp,isBuffer:xi,isFormData:Ay,isArrayBufferView:_y,isString:ky,isNumber:Jp,isBoolean:Cy,isObject:bi,isPlainObject:Ka,isEmptyObject:Ey,isReadableStream:Oy,isRequest:Fy,isResponse:zy,isHeaders:By,isUndefined:ci,isDate:Ry,isFile:Ty,isBlob:Py,isRegExp:Jy,isFunction:St,isStream:My,isURLSearchParams:Ly,isTypedArray:Yy,isFileList:Dy,forEach:yi,merge:ed,extend:Wy,trim:Iy,stripBOM:$y,inherits:Hy,toFlatObject:Uy,kindOf:mo,kindOfTest:Xt,endsWith:Vy,toArray:qy,forEachEntry:Xy,matchAll:Ky,isHTMLForm:Qy,hasOwnProperty:im,hasOwnProp:im,reduceDescriptors:tg,freezeMethods:Zy,toObjectSet:ev,toCamelCase:Gy,noop:tv,toFiniteNumber:sv,findKey:Zp,global:mn,isContextDefined:eg,isSpecCompliantForm:nv,toJSONObject:rv,isAsyncFn:iv,isThenable:av,setImmediate:sg,asap:ov,isIterable:lv};function ge(s,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}V.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const ng=ge.prototype,rg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{rg[s]={value:s}});Object.defineProperties(ge,rg);Object.defineProperty(ng,"isAxiosError",{value:!0});ge.from=(s,e,n,i,o,l)=>{const c=Object.create(ng);return V.toFlatObject(s,c,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ge.call(c,s.message,e,n,i,o),c.cause=s,c.name=s.name,l&&Object.assign(c,l),c};const cv=null;function td(s){return V.isPlainObject(s)||V.isArray(s)}function ig(s){return V.endsWith(s,"[]")?s.slice(0,-2):s}function am(s,e,n){return s?s.concat(e).map(function(o,l){return o=ig(o),!n&&l?"["+o+"]":o}).join(n?".":""):e}function dv(s){return V.isArray(s)&&!s.some(td)}const uv=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function go(s,e,n){if(!V.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!V.isUndefined(N[j])});const i=n.metaTokens,o=n.visitor||p,l=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(o))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(V.isDate(w))return w.toISOString();if(V.isBoolean(w))return w.toString();if(!h&&V.isBlob(w))throw new ge("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(w)||V.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,j,N){let _=w;if(w&&!N&&typeof w=="object"){if(V.endsWith(j,"{}"))j=i?j:j.slice(0,-2),w=JSON.stringify(w);else if(V.isArray(w)&&dv(w)||(V.isFileList(w)||V.endsWith(j,"[]"))&&(_=V.toArray(w)))return j=ig(j),_.forEach(function(P,W){!(V.isUndefined(P)||P===null)&&e.append(c===!0?am([j],W,l):c===null?j:j+"[]",m(P))}),!1}return td(w)?!0:(e.append(am(N,j,l),m(w)),!1)}const x=[],y=Object.assign(uv,{defaultVisitor:p,convertValue:m,isVisitable:td});function v(w,j){if(!V.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(w),V.forEach(w,function(_,C){(!(V.isUndefined(_)||_===null)&&o.call(e,_,V.isString(C)?C.trim():C,j,y))===!0&&v(_,j?j.concat(C):[C])}),x.pop()}}if(!V.isObject(s))throw new TypeError("data must be an object");return v(s),e}function om(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function wd(s,e){this._pairs=[],s&&go(s,this,e)}const ag=wd.prototype;ag.append=function(e,n){this._pairs.push([e,n])};ag.toString=function(e){const n=e?function(i){return e.call(this,i,om)}:om;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function hv(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function og(s,e,n){if(!e)return s;const i=n&&n.encode||hv;V.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(e,n):l=V.isURLSearchParams(e)?e.toString():new wd(e,n).toString(i),l){const c=s.indexOf("#");c!==-1&&(s=s.slice(0,c)),s+=(s.indexOf("?")===-1?"?":"&")+l}return s}class lm{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fv=typeof URLSearchParams<"u"?URLSearchParams:wd,mv=typeof FormData<"u"?FormData:null,pv=typeof Blob<"u"?Blob:null,gv={isBrowser:!0,classes:{URLSearchParams:fv,FormData:mv,Blob:pv},protocols:["http","https","file","blob","url","data"]},Sd=typeof window<"u"&&typeof document<"u",sd=typeof navigator=="object"&&navigator||void 0,xv=Sd&&(!sd||["ReactNative","NativeScript","NS"].indexOf(sd.product)<0),bv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yv=Sd&&window.location.href||"http://localhost",vv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sd,hasStandardBrowserEnv:xv,hasStandardBrowserWebWorkerEnv:bv,navigator:sd,origin:yv},Symbol.toStringTag,{value:"Module"})),dt={...vv,...gv};function jv(s,e){return go(s,new dt.classes.URLSearchParams,{visitor:function(n,i,o,l){return dt.isNode&&V.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function Nv(s){return V.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wv(s){const e={},n=Object.keys(s);let i;const o=n.length;let l;for(i=0;i<o;i++)l=n[i],e[l]=s[l];return e}function cg(s){function e(n,i,o,l){let c=n[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=l>=n.length;return c=!c&&V.isArray(o)?o.length:c,h?(V.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!u):((!o[c]||!V.isObject(o[c]))&&(o[c]=[]),e(n,i,o[c],l)&&V.isArray(o[c])&&(o[c]=wv(o[c])),!u)}if(V.isFormData(s)&&V.isFunction(s.entries)){const n={};return V.forEachEntry(s,(i,o)=>{e(Nv(i),o,n,0)}),n}return null}function Sv(s,e,n){if(V.isString(s))try{return(e||JSON.parse)(s),V.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(s)}const vi={transitional:lg,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,l=V.isObject(e);if(l&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return o?JSON.stringify(cg(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return jv(e,this.formSerializer).toString();if((u=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return go(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),Sv(e)):e}],transformResponse:[function(e){const n=this.transitional||vi.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(i&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?ge.from(u,ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],s=>{vi.headers[s]={}});const _v=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kv=s=>{const e={};let n,i,o;return s&&s.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!n||e[n]&&_v[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},cm=Symbol("internals");function Xr(s){return s&&String(s).trim().toLowerCase()}function Qa(s){return s===!1||s==null?s:V.isArray(s)?s.map(Qa):String(s)}function Cv(s){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(s);)e[i[1]]=i[2];return e}const Ev=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Dc(s,e,n,i,o){if(V.isFunction(i))return i.call(this,e,n);if(o&&(e=n),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function Rv(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Tv(s,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+n,{value:function(o,l,c){return this[i].call(this,e,o,l,c)},configurable:!0})})}let _t=class{constructor(e){e&&this.set(e)}set(e,n,i){const o=this;function l(u,h,m){const p=Xr(h);if(!p)throw new Error("header name must be a non-empty string");const x=V.findKey(o,p);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||h]=Qa(u))}const c=(u,h)=>V.forEach(u,(m,p)=>l(m,p,h));if(V.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(V.isString(e)&&(e=e.trim())&&!Ev(e))c(kv(e),n);else if(V.isObject(e)&&V.isIterable(e)){let u={},h,m;for(const p of e){if(!V.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?V.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(u,n)}else e!=null&&l(n,e,i);return this}get(e,n){if(e=Xr(e),e){const i=V.findKey(this,e);if(i){const o=this[i];if(!n)return o;if(n===!0)return Cv(o);if(V.isFunction(n))return n.call(this,o,i);if(V.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xr(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Dc(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let o=!1;function l(c){if(c=Xr(c),c){const u=V.findKey(i,c);u&&(!n||Dc(i,i[u],u,n))&&(delete i[u],o=!0)}}return V.isArray(e)?e.forEach(l):l(e),o}clear(e){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const l=n[i];(!e||Dc(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const n=this,i={};return V.forEach(this,(o,l)=>{const c=V.findKey(i,l);if(c){n[c]=Qa(o),delete n[l];return}const u=e?Rv(l):String(l).trim();u!==l&&delete n[l],n[u]=Qa(o),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=e&&V.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[cm]=this[cm]={accessors:{}}).accessors,o=this.prototype;function l(c){const u=Xr(c);i[u]||(Tv(o,c),i[u]=!0)}return V.isArray(e)?e.forEach(l):l(e),this}};_t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(_t.prototype,({value:s},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(i){this[n]=i}}});V.freezeMethods(_t);function Mc(s,e){const n=this||vi,i=e||n,o=_t.from(i.headers);let l=i.data;return V.forEach(s,function(u){l=u.call(n,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function dg(s){return!!(s&&s.__CANCEL__)}function ar(s,e,n){ge.call(this,s??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(ar,ge,{__CANCEL__:!0});function ug(s,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?s(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Pv(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function Dv(s,e){s=s||10;const n=new Array(s),i=new Array(s);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),p=i[l];c||(c=m),n[o]=h,i[o]=m;let x=l,y=0;for(;x!==o;)y+=n[x++],x=x%s;if(o=(o+1)%s,o===l&&(l=(l+1)%s),m-c<e)return;const v=p&&m-p;return v?Math.round(y*1e3/v):void 0}}function Mv(s,e){let n=0,i=1e3/e,o,l;const c=(m,p=Date.now())=>{n=p,o=null,l&&(clearTimeout(l),l=null),s(...m)};return[(...m)=>{const p=Date.now(),x=p-n;x>=i?c(m,p):(o=m,l||(l=setTimeout(()=>{l=null,c(o)},i-x)))},()=>o&&c(o)]}const to=(s,e,n=3)=>{let i=0;const o=Dv(50,250);return Mv(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,h=c-i,m=o(h),p=c<=u;i=c;const x={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-c)/m:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};s(x)},n)},dm=(s,e)=>{const n=s!=null;return[i=>e[0]({lengthComputable:n,total:s,loaded:i}),e[1]]},um=s=>(...e)=>V.asap(()=>s(...e)),Av=dt.hasStandardBrowserEnv?((s,e)=>n=>(n=new URL(n,dt.origin),s.protocol===n.protocol&&s.host===n.host&&(e||s.port===n.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,Lv=dt.hasStandardBrowserEnv?{write(s,e,n,i,o,l){const c=[s+"="+encodeURIComponent(e)];V.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),V.isString(i)&&c.push("path="+i),V.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ov(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Fv(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function hg(s,e,n){let i=!Ov(e);return s&&(i||n==!1)?Fv(s,e):e}const hm=s=>s instanceof _t?{...s}:s;function yn(s,e){e=e||{};const n={};function i(m,p,x,y){return V.isPlainObject(m)&&V.isPlainObject(p)?V.merge.call({caseless:y},m,p):V.isPlainObject(p)?V.merge({},p):V.isArray(p)?p.slice():p}function o(m,p,x,y){if(V.isUndefined(p)){if(!V.isUndefined(m))return i(void 0,m,x,y)}else return i(m,p,x,y)}function l(m,p){if(!V.isUndefined(p))return i(void 0,p)}function c(m,p){if(V.isUndefined(p)){if(!V.isUndefined(m))return i(void 0,m)}else return i(void 0,p)}function u(m,p,x){if(x in e)return i(m,p);if(x in s)return i(void 0,m)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,p,x)=>o(hm(m),hm(p),x,!0)};return V.forEach(Object.keys({...s,...e}),function(p){const x=h[p]||o,y=x(s[p],e[p],p);V.isUndefined(y)&&x!==u||(n[p]=y)}),n}const fg=s=>{const e=yn({},s);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:u}=e;e.headers=c=_t.from(c),e.url=og(hg(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(V.isFormData(n)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[m,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...p].join("; "))}}if(dt.hasStandardBrowserEnv&&(i&&V.isFunction(i)&&(i=i(e)),i||i!==!1&&Av(e.url))){const m=o&&l&&Lv.read(l);m&&c.set(o,m)}return e},zv=typeof XMLHttpRequest<"u",Bv=zv&&function(s){return new Promise(function(n,i){const o=fg(s);let l=o.data;const c=_t.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=o,p,x,y,v,w;function j(){v&&v(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function _(){if(!N)return;const P=_t.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),L={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:P,config:s,request:N};ug(function(k){n(k),j()},function(k){i(k),j()},L),N=null}"onloadend"in N?N.onloadend=_:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(_)},N.onabort=function(){N&&(i(new ge("Request aborted",ge.ECONNABORTED,s,N)),N=null)},N.onerror=function(){i(new ge("Network Error",ge.ERR_NETWORK,s,N)),N=null},N.ontimeout=function(){let W=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const L=o.transitional||lg;o.timeoutErrorMessage&&(W=o.timeoutErrorMessage),i(new ge(W,L.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,s,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&V.forEach(c.toJSON(),function(W,L){N.setRequestHeader(L,W)}),V.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),u&&u!=="json"&&(N.responseType=o.responseType),m&&([y,w]=to(m,!0),N.addEventListener("progress",y)),h&&N.upload&&([x,v]=to(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",v)),(o.cancelToken||o.signal)&&(p=P=>{N&&(i(!P||P.type?new ar(null,s,N):P),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const C=Pv(o.url);if(C&&dt.protocols.indexOf(C)===-1){i(new ge("Unsupported protocol "+C+":",ge.ERR_BAD_REQUEST,s));return}N.send(l||null)})},Iv=(s,e)=>{const{length:n}=s=s?s.filter(Boolean):[];if(e||n){let i=new AbortController,o;const l=function(m){if(!o){o=!0,u();const p=m instanceof Error?m:this.reason;i.abort(p instanceof ge?p:new ar(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new ge(`timeout ${e} of ms exceeded`,ge.ETIMEDOUT))},e);const u=()=>{s&&(c&&clearTimeout(c),c=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),s=null)};s.forEach(m=>m.addEventListener("abort",l));const{signal:h}=i;return h.unsubscribe=()=>V.asap(u),h}},Wv=function*(s,e){let n=s.byteLength;if(n<e){yield s;return}let i=0,o;for(;i<n;)o=i+e,yield s.slice(i,o),i=o},$v=async function*(s,e){for await(const n of Hv(s))yield*Wv(n,e)},Hv=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},fm=(s,e,n,i)=>{const o=$v(s,e);let l=0,c,u=h=>{c||(c=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await o.next();if(m){u(),h.close();return}let x=p.byteLength;if(n){let y=l+=x;n(y)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},xo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mg=xo&&typeof ReadableStream=="function",Uv=xo&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),pg=(s,...e)=>{try{return!!s(...e)}catch{return!1}},Vv=mg&&pg(()=>{let s=!1;const e=new Request(dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),mm=64*1024,nd=mg&&pg(()=>V.isReadableStream(new Response("").body)),so={stream:nd&&(s=>s.body)};xo&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!so[e]&&(so[e]=V.isFunction(s[e])?n=>n[e]():(n,i)=>{throw new ge(`Response type '${e}' is not supported`,ge.ERR_NOT_SUPPORT,i)})})})(new Response);const qv=async s=>{if(s==null)return 0;if(V.isBlob(s))return s.size;if(V.isSpecCompliantForm(s))return(await new Request(dt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(V.isArrayBufferView(s)||V.isArrayBuffer(s))return s.byteLength;if(V.isURLSearchParams(s)&&(s=s+""),V.isString(s))return(await Uv(s)).byteLength},Yv=async(s,e)=>{const n=V.toFiniteNumber(s.getContentLength());return n??qv(e)},Xv=xo&&(async s=>{let{url:e,method:n,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:p,withCredentials:x="same-origin",fetchOptions:y}=fg(s);m=m?(m+"").toLowerCase():"text";let v=Iv([o,l&&l.toAbortSignal()],c),w;const j=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let N;try{if(h&&Vv&&n!=="get"&&n!=="head"&&(N=await Yv(p,i))!==0){let L=new Request(e,{method:"POST",body:i,duplex:"half"}),Y;if(V.isFormData(i)&&(Y=L.headers.get("content-type"))&&p.setContentType(Y),L.body){const[k,M]=dm(N,to(um(h)));i=fm(L.body,mm,k,M)}}V.isString(x)||(x=x?"include":"omit");const _="credentials"in Request.prototype;w=new Request(e,{...y,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:_?x:void 0});let C=await fetch(w,y);const P=nd&&(m==="stream"||m==="response");if(nd&&(u||P&&j)){const L={};["status","statusText","headers"].forEach(B=>{L[B]=C[B]});const Y=V.toFiniteNumber(C.headers.get("content-length")),[k,M]=u&&dm(Y,to(um(u),!0))||[];C=new Response(fm(C.body,mm,k,()=>{M&&M(),j&&j()}),L)}m=m||"text";let W=await so[V.findKey(so,m)||"text"](C,s);return!P&&j&&j(),await new Promise((L,Y)=>{ug(L,Y,{data:W,headers:_t.from(C.headers),status:C.status,statusText:C.statusText,config:s,request:w})})}catch(_){throw j&&j(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,s,w),{cause:_.cause||_}):ge.from(_,_&&_.code,s,w)}}),rd={http:cv,xhr:Bv,fetch:Xv};V.forEach(rd,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const pm=s=>`- ${s}`,Kv=s=>V.isFunction(s)||s===null||s===!1,gg={getAdapter:s=>{s=V.isArray(s)?s:[s];const{length:e}=s;let n,i;const o={};for(let l=0;l<e;l++){n=s[l];let c;if(i=n,!Kv(n)&&(i=rd[(c=String(n)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(pm).join(`
`):" "+pm(l[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:rd};function Ac(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new ar(null,s)}function gm(s){return Ac(s),s.headers=_t.from(s.headers),s.data=Mc.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),gg.getAdapter(s.adapter||vi.adapter)(s).then(function(i){return Ac(s),i.data=Mc.call(s,s.transformResponse,i),i.headers=_t.from(i.headers),i},function(i){return dg(i)||(Ac(s),i&&i.response&&(i.response.data=Mc.call(s,s.transformResponse,i.response),i.response.headers=_t.from(i.response.headers))),Promise.reject(i)})}const xg="1.11.0",bo={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{bo[s]=function(i){return typeof i===s||"a"+(e<1?"n ":" ")+s}});const xm={};bo.transitional=function(e,n,i){function o(l,c){return"[Axios v"+xg+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,u)=>{if(e===!1)throw new ge(o(c," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!xm[c]&&(xm[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,u):!0}};bo.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Qv(s,e,n){if(typeof s!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let o=i.length;for(;o-- >0;){const l=i[o],c=e[l];if(c){const u=s[l],h=u===void 0||c(u,l,s);if(h!==!0)throw new ge("option "+l+" must be "+h,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+l,ge.ERR_BAD_OPTION)}}const Ga={assertOptions:Qv,validators:bo},es=Ga.validators;let gn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new lm,response:new lm}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=yn(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:l}=n;i!==void 0&&Ga.assertOptions(i,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),o!=null&&(V.isFunction(o)?n.paramsSerializer={serialize:o}:Ga.assertOptions(o,{encode:es.function,serialize:es.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ga.assertOptions(n,{baseUrl:es.spelling("baseURL"),withXsrfToken:es.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&V.merge(l.common,l[n.method]);l&&V.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),n.headers=_t.concat(c,l);const u=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(h=h&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let p,x=0,y;if(!h){const w=[gm.bind(this),void 0];for(w.unshift(...u),w.push(...m),y=w.length,p=Promise.resolve(n);x<y;)p=p.then(w[x++],w[x++]);return p}y=u.length;let v=n;for(x=0;x<y;){const w=u[x++],j=u[x++];try{v=w(v)}catch(N){j.call(this,N);break}}try{p=gm.call(this,v)}catch(w){return Promise.reject(w)}for(x=0,y=m.length;x<y;)p=p.then(m[x++],m[x++]);return p}getUri(e){e=yn(this.defaults,e);const n=hg(e.baseURL,e.url,e.allowAbsoluteUrls);return og(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){gn.prototype[e]=function(n,i){return this.request(yn(i||{},{method:e,url:n,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(i){return function(l,c,u){return this.request(yn(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}gn.prototype[e]=n(),gn.prototype[e+"Form"]=n(!0)});let Gv=class bg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(u=>{i.subscribe(u),l=u}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,u){i.reason||(i.reason=new ar(l,c,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new bg(function(o){e=o}),cancel:e}}};function Jv(s){return function(n){return s.apply(null,n)}}function Zv(s){return V.isObject(s)&&s.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(id).forEach(([s,e])=>{id[e]=s});function yg(s){const e=new gn(s),n=Kp(gn.prototype.request,e);return V.extend(n,gn.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return yg(yn(s,o))},n}const Ue=yg(vi);Ue.Axios=gn;Ue.CanceledError=ar;Ue.CancelToken=Gv;Ue.isCancel=dg;Ue.VERSION=xg;Ue.toFormData=go;Ue.AxiosError=ge;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=Jv;Ue.isAxiosError=Zv;Ue.mergeConfig=yn;Ue.AxiosHeaders=_t;Ue.formToJSON=s=>cg(V.isHTMLForm(s)?new FormData(s):s);Ue.getAdapter=gg.getAdapter;Ue.HttpStatusCode=id;Ue.default=Ue;const{Axios:y2,AxiosError:v2,CanceledError:j2,isCancel:N2,CancelToken:w2,VERSION:S2,all:_2,Cancel:k2,isAxiosError:C2,spread:E2,toFormData:R2,AxiosHeaders:T2,HttpStatusCode:P2,formToJSON:D2,getAdapter:M2,mergeConfig:A2}=Ue,vg="http://localhost:4000",ej=Ue.create({baseURL:`${vg}/api`,headers:{"Content-Type":"application/json"}}),ie=Ue.create({baseURL:`${vg}/api`,headers:{"Content-Type":"application/json"}});ie.interceptors.request.use(s=>{const e=localStorage.getItem("token");return e&&(s.headers.Authorization=`Bearer ${e}`),s},s=>Promise.reject(s));ie.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(localStorage.removeItem("token"),window.location.pathname!=="/login"&&(window.location.href="/login")),Promise.reject(s)));const jg=E.createContext(),Ze=()=>{const s=E.useContext(jg);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},tj=({children:s})=>{const[e,n]=E.useState(null),[i,o]=E.useState(!0),[l,c]=E.useState(localStorage.getItem("token"));E.useEffect(()=>{l?ie.defaults.headers.common.Authorization=`Bearer ${l}`:delete ie.defaults.headers.common.Authorization},[l]),E.useEffect(()=>{(async()=>{if(l)try{const v=await ie.get("/auth/me");n(v.data.user)}catch(v){console.error("Auth check failed:",v),m()}o(!1)})()},[l]);const u=async(y,v)=>{try{console.log("Login attempt:",{identifier:y});const w=await ie.post("/auth/login",{identifier:y,password:v});console.log("Login response:",w.data);const{token:j,user:N}=w.data;return c(j),n(N),localStorage.setItem("token",j),localStorage.setItem("user",JSON.stringify(N)),console.log("Login successful, user:",N),{success:!0,user:N}}catch(w){return console.error("Login error:",w.response?.data||w.message),{success:!1,message:w.response?.data?.message||"Login failed"}}},h=async y=>{try{const v=await ie.post("/auth/register",y),{token:w,user:j}=v.data;return c(w),n(j),localStorage.setItem("token",w),localStorage.setItem("user",JSON.stringify(j)),{success:!0,user:j}}catch(v){return{success:!1,message:v.response?.data?.message||"Registration failed"}}},m=()=>{c(null),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),delete ie.defaults.headers.common.Authorization},x={user:e,token:l,loading:i,login:u,register:h,logout:m,hasRole:y=>e?y==="admin"?e.role==="ADMIN":y==="staff"?e.role==="ADMIN"||e.role==="STAFF":y==="student"?["ADMIN","STAFF","STUDENT"].includes(e.role):!1:!1,isAuthenticated:!!e};return t.jsx(jg.Provider,{value:x,children:s})},Qn=({children:s,requiredRole:e})=>{const{isAuthenticated:n,user:i,loading:o}=Ze(),l=Yt();if(o)return t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:t.jsx("div",{children:"Loading..."})});if(!n)return t.jsx(tm,{to:"/login",state:{from:l},replace:!0});if(!e)return s;if(i.role.toLowerCase()!==e.toLowerCase()){const c={admin:"/admin",staff:"/staff",student:"/student"};return t.jsx(tm,{to:c[i.role.toLowerCase()]||"/login",replace:!0})}return s},sj=({pageTitle:s})=>{const e=Yt(),n=()=>{if(s)return s;const i=e.pathname;return i.includes("/activities")?"ปฏิทินกิจกรรม":i.includes("/login")?"เข้าสู่ระบบ":i.includes("/register")?"สมัครสมาชิก":"ระบบจัดการกิจกรรม"};return t.jsx("nav",{className:"navbar",style:{backgroundColor:"#007bff",color:"white",padding:"1rem 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"sticky",top:0,zIndex:1e3},children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx(Ne,{to:"/",style:{color:"white",textDecoration:"none",fontSize:"1.8rem",fontWeight:"bold",marginRight:"30px"},children:"🎯 ActivityHub"}),t.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:n()})]}),t.jsxs("div",{className:"d-flex align-items-center gap-3",children:[t.jsx(Ne,{to:"/activities",style:{color:"white",textDecoration:"none",padding:"8px 16px",borderRadius:"5px",transition:"background-color 0.2s ease"},onMouseEnter:i=>i.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:i=>i.target.style.backgroundColor="transparent",children:"📅 ปฏิทินกิจกรรม"}),t.jsx(Ne,{to:"/login",style:{color:"white",textDecoration:"none",padding:"8px 16px",borderRadius:"5px",transition:"background-color 0.2s ease"},onMouseEnter:i=>i.target.style.backgroundColor="rgba(255,255,255,0.1)",onMouseLeave:i=>i.target.style.backgroundColor="transparent",children:"เข้าสู่ระบบ"}),t.jsx(Ne,{to:"/register",className:"btn btn-outline-light",style:{padding:"8px 16px",fontSize:"14px",border:"1px solid rgba(255,255,255,0.5)",backgroundColor:"transparent",color:"white",borderRadius:"5px",transition:"all 0.2s ease"},onMouseEnter:i=>{i.target.style.backgroundColor="white",i.target.style.color="#007bff"},onMouseLeave:i=>{i.target.style.backgroundColor="transparent",i.target.style.color="white"},children:"สมัครสมาชิก"})]})]})})})},Ng=()=>t.jsxs("div",{className:"guest-layout",children:[t.jsx(sj,{}),t.jsx("main",{children:t.jsx(jd,{})})]}),nj=({isOpen:s,onClose:e,activities:n})=>{const i=wn();if(E.useEffect(()=>{if(s){document.body.style.overflow="hidden";const u=h=>{h.key==="Escape"&&e()};return document.addEventListener("keydown",u),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",u)}}else document.body.style.overflow="unset"},[s,e]),console.log("ActivityNotificationModal render:",{isOpen:s,activitiesCount:n?.length}),!s)return null;const o=u=>{const p=new Date(u)-new Date,x=Math.ceil(p/(1e3*60*60*24));return x===0?"วันนี้":x===1?"พรุ่งนี้":`อีก ${x} วัน`},l=u=>new Date(u).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),c=u=>{i(`/activities/${u}`),e()};return t.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"10px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa"},children:[t.jsxs("h5",{style:{margin:0,color:"#2c3e50",fontWeight:"600"},children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px",color:"#007bff"}}),"กิจกรรมที่ใกล้เข้ามา"]}),t.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.3s ease"},onMouseEnter:u=>{u.target.style.backgroundColor="#e9ecef",u.target.style.color="#dc3545"},onMouseLeave:u=>{u.target.style.backgroundColor="transparent",u.target.style.color="#6c757d"},children:"×"})]}),t.jsx("div",{style:{padding:"20px",flex:1,overflowY:"auto"},children:n.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[t.jsx("i",{className:"fas fa-calendar-check",style:{fontSize:"48px",color:"#6c757d",marginBottom:"16px",display:"block"}}),t.jsx("p",{style:{color:"#6c757d",margin:0,fontSize:"16px"},children:"ไม่มีกิจกรรมที่ใกล้เข้ามาใน 2 วันข้างหน้า"})]}):t.jsx("div",{children:n.map(u=>t.jsx("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px",marginBottom:"12px",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:"#fff"},onClick:()=>c(u.id),onMouseEnter:h=>{h.target.style.backgroundColor="#f8f9fa",h.target.style.borderColor="#007bff",h.target.style.transform="translateY(-2px)",h.target.style.boxShadow="0 4px 12px rgba(0, 123, 255, 0.15)"},onMouseLeave:h=>{h.target.style.backgroundColor="#fff",h.target.style.borderColor="#e9ecef",h.target.style.transform="translateY(0)",h.target.style.boxShadow="none"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1,marginRight:"16px"},children:[t.jsx("h6",{style:{margin:"0 0 8px 0",color:"#007bff",fontSize:"16px",fontWeight:"600"},children:u.title}),t.jsx("p",{style:{margin:"0 0 8px 0",color:"#6c757d",fontSize:"14px",lineHeight:"1.4"},children:u.description&&u.description.length>100?`${u.description.substring(0,100)}...`:u.description}),t.jsxs("small",{style:{color:"#6c757d",fontSize:"12px"},children:[t.jsx("i",{className:"fas fa-user",style:{marginRight:"4px"}}),"โดย: ",u.creator?.name||"ไม่ระบุ"]})]}),t.jsxs("div",{style:{textAlign:"right",minWidth:"120px"},children:[t.jsxs("div",{style:{color:"#ffc107",fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:[t.jsx("i",{className:"fas fa-clock",style:{marginRight:"4px"}}),o(u.start_date)]}),t.jsx("div",{style:{color:"#6c757d",fontSize:"12px",marginBottom:"8px"},children:l(u.start_date)}),t.jsxs("span",{style:{backgroundColor:"#007bff",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:[u.hours_awarded," ชั่วโมง"]})]})]})},u.id))})}),t.jsxs("div",{style:{padding:"20px",borderTop:"1px solid #e9ecef",display:"flex",justifyContent:"flex-end",gap:"12px",backgroundColor:"#f8f9fa"},children:[t.jsx("button",{onClick:e,style:{padding:"8px 16px",border:"1px solid #6c757d",borderRadius:"6px",backgroundColor:"transparent",color:"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:u=>{u.target.style.backgroundColor="#6c757d",u.target.style.color="white"},onMouseLeave:u=>{u.target.style.backgroundColor="transparent",u.target.style.color="#6c757d"},children:"ปิด"}),t.jsxs("button",{onClick:()=>{i("/activities"),e()},style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:"#007bff",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"},onMouseEnter:u=>{u.target.style.backgroundColor="#0056b3",u.target.style.transform="translateY(-1px)"},onMouseLeave:u=>{u.target.style.backgroundColor="#007bff",u.target.style.transform="translateY(0)"},children:[t.jsx("i",{className:"fas fa-calendar-alt",style:{marginRight:"4px"}}),"ดูปฏิทินกิจกรรม"]})]})]})})},wg=({pageTitle:s})=>{const{user:e,logout:n}=Ze(),i=wn(),o=Yt(),[l,c]=E.useState(0),[u,h]=E.useState([]),[m,p]=E.useState(!1),x=()=>{n(),i("/")};E.useEffect(()=>{const w=async()=>{if(e&&(e.role==="ADMIN"||e.role==="STAFF"))try{const N=await ie.get("/serials/pending-count");N.data.success&&c(N.data.data.pending_serials)}catch(N){console.error("Failed to fetch pending serials:",N)}};w();const j=setInterval(w,3e4);return()=>clearInterval(j)},[e]),E.useEffect(()=>{const w=async()=>{if(e&&e.role==="STUDENT")try{const N=await ie.get("/student/upcoming-activities");N.data.success&&h(N.data.data.upcomingActivities)}catch(N){console.error("Failed to fetch upcoming activities:",N)}};w();const j=setInterval(w,3e5);return()=>clearInterval(j)},[e]);const y=()=>{e.role==="ADMIN"?i("/admin/serials/send"):e.role==="STAFF"?i("/staff/serials/send"):e.role==="STUDENT"&&(console.log("Student notification clicked, upcoming activities:",u),u.length>0?(console.log("Opening activity modal"),p(!0)):(console.log("No upcoming activities, navigating to activities page"),i("/activities")))},v=()=>{if(s)return s;const w=o.pathname;return w.includes("/admin")?"แดชบอร์ดผู้ดูแลระบบ":w.includes("/staff")?"แดชบอร์ดเจ้าหน้าที่":w.includes("/student")?"แดชบอร์ดนักเรียน":w.includes("/activities")?"ปฏิทินกิจกรรม":w.includes("/login")?"เข้าสู่ระบบ":w.includes("/register")?"สมัครสมาชิก":"ระบบจัดการกิจกรรม"};return t.jsxs("nav",{className:"navbar",style:{backgroundColor:"#007bff",color:"white",padding:"1rem 0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"sticky",top:0,zIndex:1e3},children:[t.jsx("div",{className:"container",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h1",{style:{color:"white",fontSize:"1.5rem",fontWeight:"bold",margin:0},children:v()}),t.jsx("div",{className:"d-flex align-items-center gap-2",children:t.jsxs("div",{className:"d-flex align-items-center gap-3",children:[(e.role==="ADMIN"||e.role==="STAFF"||e.role==="STUDENT")&&t.jsxs("div",{className:"position-relative",style:{cursor:"pointer",padding:"8px",borderRadius:"50%",backgroundColor:l>0||u.length>0?"rgba(220, 53, 69, 0.2)":"rgba(255, 255, 255, 0.1)",transition:"all 0.3s ease",border:l>0||u.length>0?"2px solid #dc3545":"2px solid transparent"},onClick:y,title:e.role==="STUDENT"?u.length>0?`มี ${u.length} กิจกรรมที่ใกล้เข้ามา`:"ไม่มีกิจกรรมที่ใกล้เข้ามา":l>0?`มี ${l} รายการที่รอส่งซีเรียล`:"ไม่มีซีเรียลที่รอส่ง",onMouseEnter:w=>{w.target.style.backgroundColor=l>0||u.length>0?"rgba(220, 53, 69, 0.3)":"rgba(255, 255, 255, 0.2)",w.target.style.transform="scale(1.1)"},onMouseLeave:w=>{w.target.style.backgroundColor=l>0||u.length>0?"rgba(220, 53, 69, 0.2)":"rgba(255, 255, 255, 0.1)",w.target.style.transform="scale(1)"},children:[t.jsx("i",{className:"fas fa-bell",style:{fontSize:"20px",color:l>0||u.length>0?"#ff6b6b":"white",transition:"color 0.3s ease"}}),(l>0||u.length>0)&&t.jsx("span",{className:"badge bg-danger position-absolute",style:{top:"-5px",right:"-5px",fontSize:"10px",minWidth:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",animation:l>0||u.length>0?"pulse 2s infinite":"none"},children:e.role==="STUDENT"?u.length>99?"99+":u.length:l>99?"99+":l})]}),t.jsxs("span",{style:{fontSize:"14px",backgroundColor:"rgba(255,255,255,0.2)",padding:"5px 10px",borderRadius:"15px"},children:[e.role==="ADMIN"?"สวัสดีแอดมิน":e.role==="STAFF"?"สวัสดีสตาฟ":"สวัสดีนักศึกษา"," ",e.name]}),t.jsx("button",{onClick:x,className:"btn btn-outline-light",style:{padding:"5px 15px",fontSize:"12px",border:"1px solid rgba(255,255,255,0.5)",backgroundColor:"transparent",color:"white"},children:"ออกจากระบบ"})]})})]})}),e.role==="STUDENT"&&t.jsx(nj,{isOpen:m,onClose:()=>p(!1),activities:u})]})},rj=()=>{const{user:s}=Ze(),e=Yt(),[n,i]=E.useState({}),[o,l]=E.useState(!1);E.useEffect(()=>{(async()=>{if(s&&s.role==="STUDENT")try{const x=await ie.get("/certificate/check-eligibility");x.data.success&&l(x.data.data.isEligible)}catch(x){console.error("Failed to check certificate eligibility:",x)}})()},[s]);const c=p=>{i(x=>{const y={};return Object.keys(x).forEach(v=>{v!==p&&(y[v]=!1)}),y[p]=!x[p],y})},h=(()=>{if(!s)return[];const p=[{path:`/${s.role}`,label:"แดชบอร์ด",icon:"🏠",type:"single"}];return s.role.toLowerCase()==="admin"&&p.push({key:"activity-management",label:"จัดการกิจกรรม",icon:"📅",type:"submenu",children:[{path:"/admin/activities",label:"กิจกรรม",icon:"📋",type:"single"},{path:"/admin/activities/create",label:"สร้างกิจกรรม",icon:"➕",type:"single"},{path:"/admin/serials/send",label:"ส่งซีเรียล",icon:"📤",type:"single"}]},{key:"user-management",label:"จัดการบัญชีผู้ใช้",icon:"👥",type:"submenu",children:[{path:"/admin/users/students",label:"บัญชีนักเรียน",icon:"🎓",type:"single"},{path:"/admin/users/staff",label:"บัญชีสตาฟ",icon:"👨‍💼",type:"single"},{path:"/admin/users/admins",label:"บัญชีแอดมิน",icon:"👑",type:"single"}]},{key:"reports",label:"รายงาน",icon:"📊",type:"submenu",children:[{path:"/admin/reports/members",label:"รายงานสมาชิก",icon:"👥",type:"single"},{path:"/admin/reports/activities",label:"รายงานกิจกรรม",icon:"📅",type:"single"},{path:"/admin/reports/evaluations",label:"รายงานประเมิน",icon:"⭐",type:"single"}]},{key:"system-settings",label:"ตั้งค่าระบบ",icon:"⚙️",type:"submenu",children:[{path:"/admin/settings",label:"ตั้งค่าระบบ",icon:"🔧",type:"single"},{path:"/admin/mail-settings",label:"ตั้งค่าอีเมล",icon:"📧",type:"single"},{path:"/admin/mail-test",label:"ทดสอบส่งอีเมล",icon:"📤",type:"single"}]}),s.role.toLowerCase()==="staff"&&p.push({path:"/staff/attendance",label:"ยืนยันการเข้าร่วม",icon:"✅",type:"single"},{path:"/staff/serials",label:"จัดการ Serial",icon:"🎫",type:"single"},{path:"/staff/qr-generator",label:"สร้าง QR Code",icon:"📱",type:"single"},{key:"reports",label:"รายงาน",icon:"📈",type:"submenu",children:[{path:"/staff/participants",label:"ผู้เข้าร่วม",icon:"👥",type:"single"},{path:"/staff/analytics",label:"การวิเคราะห์",icon:"📊",type:"single"}]}),s.role.toLowerCase()==="student"&&(p.push({path:"/activities",label:"ปฏิทินกิจกรรม",icon:"📅",type:"single"},{path:"/student/progress",label:"ความก้าวหน้าของฉัน",icon:"📊",type:"single"},{path:"/student/serials",label:"แลก Serial",icon:"🎫",type:"single"},{path:"/student/history",label:"ประวัติ Serial",icon:"📚",type:"single"},{path:"/student/profile",label:"โปรไฟล์ของฉัน",icon:"👤",type:"single"}),o&&p.push({path:"/student/certificate",label:"ใบประกาศนียบัตร",icon:"🏆",type:"single"})),p})(),m=(p,x=0)=>{if(p.type==="single")return t.jsxs(Ne,{to:p.path,style:{display:"flex",alignItems:"center",padding:"12px 20px",paddingLeft:`${20+x*20}px`,color:"white",textDecoration:"none",backgroundColor:e.pathname===p.path?"#007bff":"transparent",transition:"all 0.3s ease",borderLeft:e.pathname===p.path?"3px solid #007bff":"3px solid transparent"},onMouseEnter:y=>{e.pathname!==p.path&&(y.currentTarget.style.backgroundColor="#495057")},onMouseLeave:y=>{e.pathname!==p.path&&(y.currentTarget.style.backgroundColor="transparent")},children:[t.jsx("span",{style:{marginRight:"10px",fontSize:"1.2rem"},children:p.icon}),p.label]},p.path);if(p.type==="submenu"){const y=n[p.key]||!1,v=p.children.some(w=>e.pathname===w.path);return t.jsxs("div",{children:[t.jsxs("div",{onClick:()=>c(p.key),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",color:"white",cursor:"pointer",backgroundColor:v?"#495057":"transparent",transition:"all 0.3s ease",borderLeft:v?"3px solid #007bff":"3px solid transparent"},onMouseEnter:w=>{v||(w.currentTarget.style.backgroundColor="#495057")},onMouseLeave:w=>{v||(w.currentTarget.style.backgroundColor="transparent")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{marginRight:"10px",fontSize:"1.2rem"},children:p.icon}),p.label]}),t.jsx("span",{style:{transform:y?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",fontSize:"12px"},children:"▶"})]}),y&&t.jsx("div",{style:{backgroundColor:"#2c3034",borderLeft:"3px solid #007bff",marginLeft:"10px"},children:p.children.map(w=>m(w,1))})]},p.key)}return null};return t.jsx("aside",{className:"sidebar",style:{width:"250px",backgroundColor:"#343a40",color:"white",minHeight:"100vh",padding:0,position:"fixed",top:0,left:0,zIndex:999},children:t.jsxs("div",{className:"sidebar-content",children:[t.jsxs("div",{style:{padding:"20px",backgroundColor:"#343a40",borderBottom:"1px solid #495057"},children:[t.jsx("h2",{style:{fontSize:"1.3rem",fontWeight:"bold",margin:0,textAlign:"center",color:"white"},children:"ระบบจัดการกิจกรรม"}),t.jsxs("p",{style:{fontSize:"0.9rem",margin:"5px 0 0 0",textAlign:"center",opacity:.9,color:"white"},children:["แผงควบคุม",s?.role==="ADMIN"?"ผู้ดูแลระบบ":s?.role==="STAFF"?"เจ้าหน้าที่":"นักเรียน"]})]}),t.jsx("nav",{style:{paddingTop:"20px"},children:h.map(p=>m(p))})]})})},ad=()=>t.jsxs("div",{className:"dashboard-layout",children:[t.jsx(rj,{}),t.jsxs("div",{className:"main-content-wrapper",style:{marginLeft:"250px",minHeight:"100vh"},children:[t.jsx(wg,{}),t.jsx("main",{className:"main-content",style:{padding:"20px",backgroundColor:"#f5f5f5",minHeight:"calc(100vh - 70px)"},children:t.jsx(jd,{})})]})]}),ij=()=>{const{user:s}=Ze(),e=Yt(),[n,i]=E.useState({}),o=h=>{i(m=>{const p={};return Object.keys(m).forEach(x=>{x!==h&&(p[x]=!1)}),p[h]=!m[h],p})},c=[{path:"/staff",label:"แดชบอร์ด",icon:"🏠",type:"single"},{key:"activity-management",label:"จัดการกิจกรรม",icon:"📅",type:"submenu",children:[{path:"/staff/activities",label:"กิจกรรม",icon:"📋",type:"single"},{path:"/staff/activities/create",label:"สร้างกิจกรรม",icon:"➕",type:"single"}]},{path:"/staff/serials/send",label:"ส่งเมลซีเรียล",icon:"📤",type:"single"},{path:"/staff/profile",label:"โปรไฟล์",icon:"👤",type:"single"},{key:"reports",label:"รายงาน",icon:"📊",type:"submenu",children:[{path:"/staff/reports/activities",label:"รายงานกิจกรรม",icon:"📅",type:"single"}]}],u=(h,m=0)=>{if(h.type==="single")return t.jsxs(Ne,{to:h.path,style:{display:"flex",alignItems:"center",padding:"12px 20px",paddingLeft:`${20+m*20}px`,color:"white",textDecoration:"none",backgroundColor:e.pathname===h.path?"#007bff":"transparent",transition:"all 0.3s ease",borderLeft:e.pathname===h.path?"3px solid #007bff":"3px solid transparent"},onMouseEnter:p=>{e.pathname!==h.path&&(p.currentTarget.style.backgroundColor="#495057")},onMouseLeave:p=>{e.pathname!==h.path&&(p.currentTarget.style.backgroundColor="transparent")},children:[t.jsx("span",{style:{marginRight:"10px",fontSize:"1.2rem"},children:h.icon}),h.label]},h.path);if(h.type==="submenu"){const p=n[h.key]||!1,x=h.children.some(y=>e.pathname===y.path);return t.jsxs("div",{children:[t.jsxs("div",{onClick:()=>o(h.key),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 20px",color:"white",cursor:"pointer",backgroundColor:x?"#495057":"transparent",transition:"all 0.3s ease",borderLeft:x?"3px solid #007bff":"3px solid transparent"},onMouseEnter:y=>{x||(y.currentTarget.style.backgroundColor="#495057")},onMouseLeave:y=>{x||(y.currentTarget.style.backgroundColor="transparent")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{marginRight:"10px",fontSize:"1.2rem"},children:h.icon}),h.label]}),t.jsx("span",{style:{transform:p?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease",fontSize:"12px"},children:"▶"})]}),p&&t.jsx("div",{style:{backgroundColor:"#2c3034",borderLeft:"3px solid #007bff",marginLeft:"10px"},children:h.children.map(y=>u(y,1))})]},h.key)}return null};return t.jsx("aside",{className:"sidebar",style:{width:"250px",backgroundColor:"#343a40",color:"white",minHeight:"100vh",padding:0,position:"fixed",top:0,left:0,zIndex:999},children:t.jsxs("div",{className:"sidebar-content",children:[t.jsxs("div",{style:{padding:"20px",backgroundColor:"#343a40",borderBottom:"1px solid #495057"},children:[t.jsx("h2",{style:{fontSize:"1.3rem",fontWeight:"bold",margin:0,textAlign:"center",color:"white"},children:"ระบบจัดการกิจกรรม"}),t.jsx("p",{style:{fontSize:"0.9rem",margin:"5px 0 0 0",textAlign:"center",opacity:.9,color:"white"},children:"แผงควบคุมเจ้าหน้าที่"})]}),t.jsx("nav",{style:{paddingTop:"20px"},children:c.map(h=>u(h))})]})})},aj=()=>t.jsxs("div",{className:"dashboard-layout",children:[t.jsx(ij,{}),t.jsxs("div",{className:"main-content-wrapper",style:{marginLeft:"250px",minHeight:"100vh"},children:[t.jsx(wg,{}),t.jsx("main",{className:"main-content",style:{padding:"20px",backgroundColor:"#f5f5f5",minHeight:"calc(100vh - 70px)"},children:t.jsx(jd,{})})]})]}),oj=()=>{const{isAuthenticated:s,user:e}=Ze(),[n,i]=E.useState({totalActivities:0,totalStudents:0,totalHours:0,upcomingActivities:0});E.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await ie.get("/public/stats");i(c.data.data)}catch(c){console.error("Error fetching stats:",c)}},l=()=>e?{admin:"/admin",staff:"/staff",student:"/student"}[e.role]:"/login";return t.jsxs("div",{className:"landing-page",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[t.jsxs("section",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"100px 0",textAlign:"center",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")',opacity:.3}}),t.jsxs("div",{className:"container",style:{position:"relative",zIndex:1},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"🎓"}),t.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 4rem)",marginBottom:"20px",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"ระบบจัดการกิจกรรมนักศึกษา"}),t.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.3rem)",marginBottom:"40px",opacity:.95,maxWidth:"800px",margin:"0 auto 40px auto"},children:"ระบบจัดการกิจกรรมสำหรับนักศึกษา พร้อมการสะสมชั่วโมงกิจกรรม และการประเมินผลแบบครบวงจร"}),s?t.jsx(Ne,{to:l(),className:"btn btn-light",style:{fontSize:"1.2rem",padding:"15px 40px",borderRadius:"50px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",transition:"all 0.3s ease"},children:"เข้าสู่ระบบ 🚀"}):t.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:[t.jsx(Ne,{to:"/register",className:"btn btn-light",style:{fontSize:"1.2rem",padding:"15px 40px",borderRadius:"50px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",transition:"all 0.3s ease"},children:"เริ่มต้นใช้งาน ✨"}),t.jsx(Ne,{to:"/login",className:"btn btn-outline-light",style:{fontSize:"1.2rem",padding:"15px 40px",borderRadius:"50px",fontWeight:"bold",border:"2px solid white",transition:"all 0.3s ease"},children:"เข้าสู่ระบบ"})]})]})]}),t.jsx("section",{style:{padding:"60px 0",background:"white",boxShadow:"0 -5px 20px rgba(0,0,0,0.1)"},children:t.jsx("div",{className:"container",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"30px",textAlign:"center"},children:[t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"📅"}),t.jsx("h3",{style:{fontSize:"2.5rem",marginBottom:"5px",color:"#667eea"},children:n.totalActivities}),t.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"กิจกรรมทั้งหมด"})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"👥"}),t.jsx("h3",{style:{fontSize:"2.5rem",marginBottom:"5px",color:"#764ba2"},children:n.totalStudents}),t.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"นักศึกษาเข้าร่วม"})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"⏰"}),t.jsx("h3",{style:{fontSize:"2.5rem",marginBottom:"5px",color:"#f093fb"},children:n.totalHours}),t.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"ชั่วโมงสะสมรวม"})]}),t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"🎯"}),t.jsx("h3",{style:{fontSize:"2.5rem",marginBottom:"5px",color:"#4facfe"},children:n.upcomingActivities}),t.jsx("p",{style:{color:"#666",fontSize:"1.1rem"},children:"กิจกรรมที่กำลังจะมาถึง"})]})]})})}),t.jsx("section",{style:{padding:"100px 0",backgroundColor:"#f8f9fa"},children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"text-center mb-5",children:[t.jsx("h2",{style:{fontSize:"clamp(2rem, 4vw, 3rem)",marginBottom:"20px",color:"#333"},children:"ฟีเจอร์เด่นของระบบ"}),t.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"700px",margin:"0 auto",lineHeight:"1.6"},children:"ระบบจัดการกิจกรรมที่ครบครัน พร้อมฟีเจอร์ที่ตอบโจทย์ทุกความต้องการ"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"40px",marginTop:"60px"},children:[t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"🎓"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"การสะสมชั่วโมงกิจกรรม"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบสะสมชั่วโมงกิจกรรมแบบดิจิทัล พร้อมการติดตามความก้าวหน้า และการออกใบรับรองอัตโนมัติ"})]}),t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"📱"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"QR Code Check-in"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบเช็คอินด้วย QR Code ที่รวดเร็วและแม่นยำ พร้อมการยืนยันการเข้าร่วมกิจกรรมแบบเรียลไทม์"})]}),t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"⭐"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"ระบบประเมินผล"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบประเมินผลกิจกรรมแบบครบวงจร พร้อมการวิเคราะห์ข้อมูล และรายงานผลการประเมินแบบเรียลไทม์"})]}),t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"📊"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"รายงานและสถิติ"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบรายงานและสถิติที่ครบครัน พร้อมการส่งออกข้อมูล ในรูปแบบ PDF และ Excel"})]}),t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"🔐"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"ความปลอดภัยสูง"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบรักษาความปลอดภัยระดับสูง พร้อมการเข้ารหัสข้อมูล และการควบคุมสิทธิ์การเข้าถึงแบบละเอียด"})]}),t.jsxs("div",{style:{background:"white",padding:"40px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",transition:"transform 0.3s ease",border:"1px solid #f0f0f0"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"📧"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.5rem",color:"#333"},children:"การแจ้งเตือน"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"ระบบแจ้งเตือนแบบครบวงจร ผ่านอีเมลและในระบบ เพื่อให้ไม่พลาดกิจกรรมสำคัญ"})]})]})]})}),t.jsx("section",{style:{padding:"100px 0",backgroundColor:"white"},children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"text-center mb-5",children:[t.jsx("h2",{style:{fontSize:"clamp(2rem, 4vw, 3rem)",marginBottom:"20px",color:"#333"},children:"วิธีการใช้งาน"}),t.jsx("p",{style:{fontSize:"1.2rem",color:"#666",maxWidth:"700px",margin:"0 auto",lineHeight:"1.6"},children:"ใช้งานง่าย เพียง 3 ขั้นตอน"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"40px",marginTop:"60px"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 20px auto",fontWeight:"bold"},children:"1"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.3rem",color:"#333"},children:"สมัครสมาชิก"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"สร้างบัญชีผู้ใช้และเลือกบทบาทที่เหมาะสม"})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 20px auto",fontWeight:"bold"},children:"2"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.3rem",color:"#333"},children:"เข้าร่วมกิจกรรม"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"เลือกกิจกรรมที่สนใจและเช็คอินด้วย QR Code"})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 20px auto",fontWeight:"bold"},children:"3"}),t.jsx("h3",{style:{marginBottom:"15px",fontSize:"1.3rem",color:"#333"},children:"สะสมชั่วโมง"}),t.jsx("p",{style:{color:"#666",lineHeight:"1.6"},children:"รับชั่วโมงกิจกรรมและประเมินผลเพื่อพัฒนาต่อ"})]})]})]})}),t.jsx("section",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"100px 0",textAlign:"center",color:"white"},children:t.jsxs("div",{className:"container",children:[t.jsx("h2",{style:{fontSize:"clamp(2rem, 4vw, 3rem)",marginBottom:"20px",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"พร้อมเริ่มต้นแล้วหรือยัง?"}),t.jsx("p",{style:{fontSize:"1.3rem",marginBottom:"40px",opacity:.95,maxWidth:"600px",margin:"0 auto 40px auto"},children:"เข้าร่วมกับเราและเริ่มสะสมชั่วโมงกิจกรรมตั้งแต่วันนี้"}),!s&&t.jsx(Ne,{to:"/register",className:"btn btn-light",style:{fontSize:"1.3rem",padding:"20px 50px",borderRadius:"50px",fontWeight:"bold",boxShadow:"0 8px 25px rgba(0,0,0,0.3)",transition:"all 0.3s ease"},children:"สมัครสมาชิกฟรี 🎉"})]})}),t.jsx("footer",{style:{background:"#2c3e50",color:"white",padding:"40px 0",textAlign:"center"},children:t.jsx("div",{className:"container",children:t.jsx("p",{style:{margin:0,opacity:.8},children:"© 2024 ระบบจัดการกิจกรรมนักศึกษา - พัฒนาด้วย ❤️ สำหรับนักศึกษา"})})})]})},lj=()=>{const[s,e]=E.useState({identifier:"",password:""}),[n,i]=E.useState(""),[o,l]=E.useState(!1),{login:c}=Ze(),u=wn(),m=Yt().state?.from?.pathname||"/",p=y=>{e({...s,[y.target.name]:y.target.value}),n&&i("")},x=async y=>{y.preventDefault(),l(!0);try{n&&i(""),console.log("Login form submitted:",s);const v=await c(s.identifier,s.password);if(console.log("Login result:",v),v.success){const w=v.user;console.log("User role:",w.role);const N={ADMIN:"/admin",STAFF:"/staff",STUDENT:"/student"}[w.role]||m;console.log("Redirecting to:",N),u(N,{replace:!0})}else console.log("Login failed:",v.message),i(v.message||"Login failed. Please check your credentials.")}catch(v){console.error("Login error:",v),i("Login failed. Please try again.")}finally{l(!1)}};return t.jsx("div",{style:{minHeight:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{className:"card",style:{width:"100%",maxWidth:"400px"},children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h2",{children:"Login"}),t.jsx("p",{style:{color:"#666"},children:"Sign in to your account"})]}),n&&t.jsx("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:n}),t.jsxs("form",{onSubmit:x,children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"identifier",className:"form-label",children:"Email, Username, or Student Code"}),t.jsx("input",{type:"text",id:"identifier",name:"identifier",className:"form-control",value:s.identifier,onChange:p,placeholder:"Enter your email, username, or student code",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),t.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",value:s.password,onChange:p,required:!0})]}),t.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"20px"},disabled:o,children:o?"Logging in...":"Login"})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{style:{color:"#666"},children:["Don't have an account? ",t.jsx(Ne,{to:"/register",style:{color:"#007bff"},children:"Register here"})]})})]})})},cj=()=>{const[s,e]=E.useState({name:"",username:"",email:"",student_code:"",birth_date:"",gender:"",phone:"",address:"",enrollment_year:"",program:"",password:"",confirmPassword:""}),[n,i]=E.useState(""),[o,l]=E.useState(!1),{register:c}=Ze(),u=wn(),h=p=>{e({...s,[p.target.name]:p.target.value}),n&&i("")},m=async p=>{if(p.preventDefault(),s.password!==s.confirmPassword){i("รหัสผ่านไม่ตรงกัน");return}if(s.password.length<6){i("รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร");return}if(!s.student_code.trim()){i("กรุณากรอกรหัสนักศึกษา");return}if(!s.name.trim()){i("กรุณากรอกชื่อ-นามสกุล");return}if(!s.birth_date){i("กรุณาเลือกวันเกิด");return}if(!s.gender){i("กรุณาเลือกเพศ");return}if(!s.phone.trim()){i("กรุณากรอกเบอร์โทรศัพท์");return}if(!s.address.trim()){i("กรุณากรอกที่อยู่");return}if(!s.enrollment_year){i("กรุณากรอกปีที่เข้าศึกษา");return}if(!s.program.trim()){i("กรุณากรอกหลักสูตรที่เรียน");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){i("รูปแบบอีเมลไม่ถูกต้อง");return}if(!/^[a-zA-Z0-9_]{3,50}$/.test(s.username)){i("ชื่อผู้ใช้ต้องเป็นตัวอักษร ตัวเลข และ _ เท่านั้น (3-50 ตัวอักษร)");return}l(!0);try{n&&i("");const{confirmPassword:v,...w}=s,j=await c(w);j.success?u("/student",{replace:!0}):i(j.message||"การลงทะเบียนล้มเหลว กรุณาลองใหม่")}catch(v){console.error("Registration error:",v),i("การลงทะเบียนล้มเหลว กรุณาลองใหม่")}finally{l(!1)}};return t.jsx("div",{style:{minHeight:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{className:"card",style:{width:"100%",maxWidth:"500px"},children:[t.jsxs("div",{className:"text-center mb-3",children:[t.jsx("h2",{children:"สมัครสมาชิก"}),t.jsx("p",{style:{color:"#666"},children:"สร้างบัญชีนักศึกษาใหม่"})]}),n&&t.jsx("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:n}),t.jsxs("form",{onSubmit:m,children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{color:"#007bff",marginBottom:"15px"},children:"📋 ข้อมูลพื้นฐาน"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"student_code",className:"form-label",children:"รหัสนักศึกษา *"}),t.jsx("input",{type:"text",id:"student_code",name:"student_code",className:"form-control",value:s.student_code,onChange:h,placeholder:"เช่น ST001",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"name",className:"form-label",children:"ชื่อ-นามสกุล *"}),t.jsx("input",{type:"text",id:"name",name:"name",className:"form-control",value:s.name,onChange:h,placeholder:"ชื่อ-นามสกุล",required:!0})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"birth_date",className:"form-label",children:"วันเกิด *"}),t.jsx("input",{type:"date",id:"birth_date",name:"birth_date",className:"form-control",value:s.birth_date,onChange:h,required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"gender",className:"form-label",children:"เพศ *"}),t.jsxs("select",{id:"gender",name:"gender",className:"form-control",value:s.gender,onChange:h,required:!0,children:[t.jsx("option",{value:"",children:"เลือกเพศ"}),t.jsx("option",{value:"MALE",children:"ชาย"}),t.jsx("option",{value:"FEMALE",children:"หญิง"}),t.jsx("option",{value:"OTHER",children:"อื่นๆ"})]})]})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{color:"#007bff",marginBottom:"15px"},children:"📞 ข้อมูลติดต่อ"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"email",className:"form-label",children:"อีเมล *"}),t.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",value:s.email,onChange:h,placeholder:"your.email@example.com",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"phone",className:"form-label",children:"เบอร์โทรศัพท์ *"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-control",value:s.phone,onChange:h,placeholder:"0812345678",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"ที่อยู่ *"}),t.jsx("textarea",{id:"address",name:"address",className:"form-control",value:s.address,onChange:h,placeholder:"กรอกที่อยู่ที่สามารถติดต่อได้",rows:"3",required:!0})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{color:"#007bff",marginBottom:"15px"},children:"🎓 ข้อมูลการศึกษา"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"enrollment_year",className:"form-label",children:"ปีที่เข้าศึกษา *"}),t.jsx("input",{type:"number",id:"enrollment_year",name:"enrollment_year",className:"form-control",value:s.enrollment_year,onChange:h,placeholder:"2567",min:"2500",max:"2600",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"program",className:"form-label",children:"หลักสูตรที่เรียน *"}),t.jsx("input",{type:"text",id:"program",name:"program",className:"form-control",value:s.program,onChange:h,placeholder:"เช่น วิศวกรรมคอมพิวเตอร์",required:!0})]})]})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{color:"#007bff",marginBottom:"15px"},children:"🔐 ข้อมูลบัญชี"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"username",className:"form-label",children:"ชื่อผู้ใช้ *"}),t.jsx("input",{type:"text",id:"username",name:"username",className:"form-control",value:s.username,onChange:h,placeholder:"เลือกชื่อผู้ใช้ที่ไม่ซ้ำ",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"password",className:"form-label",children:"รหัสผ่าน *"}),t.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",value:s.password,onChange:h,placeholder:"รหัสผ่านอย่างน้อย 6 ตัวอักษร",required:!0})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"ยืนยันรหัสผ่าน *"}),t.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-control",value:s.confirmPassword,onChange:h,placeholder:"ยืนยันรหัสผ่าน",required:!0})]})]}),t.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"20px",padding:"12px"},disabled:o,children:o?"กำลังสร้างบัญชี...":"สมัครสมาชิก"})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{style:{color:"#666"},children:["มีบัญชีแล้ว? ",t.jsx(Ne,{to:"/login",style:{color:"#007bff"},children:"เข้าสู่ระบบที่นี่"})]})})]})})},Lc=()=>{const[s,e]=E.useState({title:"",description:"",activity_date:"",start_time:"",end_time:"",hours_awarded:"",location:"",max_participants:"",status:"OPEN"}),[n,i]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(null),[p,x]=E.useState(""),y=wn(),v=N=>{const{name:_,value:C}=N.target;e(P=>({...P,[_]:C})),o&&l(""),c&&u(""),(_==="start_time"||_==="end_time")&&setTimeout(()=>{w()},100)},w=()=>{if(s.start_time){const N=parseInt(s.start_time.split(":")[0]);if(N<0||N>23)return l("ชั่วโมงเริ่มต้นต้องอยู่ระหว่าง 00-23"),!1}if(s.start_time){const N=parseInt(s.start_time.split(":")[1]);if(N<0||N>59)return l("นาทีเริ่มต้นต้องอยู่ระหว่าง 00-59"),!1}if(s.end_time){const N=parseInt(s.end_time.split(":")[0]);if(N<0||N>23)return l("ชั่วโมงสิ้นสุดต้องอยู่ระหว่าง 00-23"),!1}if(s.end_time){const N=parseInt(s.end_time.split(":")[1]);if(N<0||N>59)return l("นาทีสิ้นสุดต้องอยู่ระหว่าง 00-59"),!1}if(s.start_time&&s.end_time){const N=new Date(`2000-01-01T${s.start_time}`);if(new Date(`2000-01-01T${s.end_time}`)<=N)return l("เวลาสิ้นสุดต้องมากกว่าเวลาเริ่มต้น"),!1}return!0},j=async N=>{if(N.preventDefault(),i(!0),l(""),u(""),!w()){i(!1);return}try{const _=`${s.activity_date}T${s.start_time}:00`,C=`${s.activity_date}T${s.end_time}:00`;console.log("Creating activity with:",{title:s.title,start_date:_,end_date:C,status:s.status});const P={title:s.title,description:s.description,start_date:_,end_date:C,hours_awarded:parseFloat(s.hours_awarded),location:s.location,max_participants:s.max_participants?parseInt(s.max_participants):null,status:s.status},W=await ie.post("/activities",P);if(W.data.success){const L=W.data.data.activity,Y=`${window.location.origin}/checkin/${L.public_slug}`;m(L),x(Y),u("สร้างกิจกรรมสำเร็จ!"),console.log("Activity created:",L),console.log("Checkin URL:",Y)}else l(W.data.message||"ไม่สามารถสร้างกิจกรรมได้")}catch(_){console.error("Create activity error:",_),l(_.response?.data?.message||"ไม่สามารถสร้างกิจกรรมได้")}finally{i(!1)}};return t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:"สร้างกิจกรรมใหม่"}),t.jsx("p",{children:"กรอกข้อมูลเพื่อสร้างกิจกรรมใหม่"})]}),o&&t.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[o,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&t.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[c,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),t.jsx("div",{className:"form-container",children:t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"title",className:"form-label",children:[t.jsx("i",{className:"fas fa-heading me-2"}),"ชื่อกิจกรรม *"]}),t.jsx("input",{type:"text",className:"form-control",id:"title",name:"title",value:s.title,onChange:v,required:!0,placeholder:"กรอกชื่อกิจกรรม"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"description",className:"form-label",children:[t.jsx("i",{className:"fas fa-align-left me-2"}),"รายละเอียด *"]}),t.jsx("textarea",{className:"form-control",id:"description",name:"description",rows:"4",value:s.description,onChange:v,required:!0,placeholder:"อธิบายรายละเอียดของกิจกรรม"})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"activity_date",className:"form-label",children:[t.jsx("i",{className:"fas fa-calendar-alt me-2"}),"วันที่จัดกิจกรรม *"]}),t.jsx("input",{type:"date",className:"form-control",id:"activity_date",name:"activity_date",value:s.activity_date,onChange:v,required:!0})]})}),t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"start_time",className:"form-label",children:[t.jsx("i",{className:"fas fa-clock me-2"}),"เวลาเริ่มต้น *"]}),t.jsxs("div",{className:"time-input-group",children:[t.jsx("input",{type:"text",className:"form-control time-hour",placeholder:"09",maxLength:"2",value:s.start_time&&s.start_time.split(":")[0]||"",onChange:N=>{const _=N.target.value,C=s.start_time&&s.start_time.split(":")[1]||"00";(_===""||/^[0-9]{1,2}$/.test(_))&&e(P=>({...P,start_time:_===""?`00:${C}`:`${_}:${C}`}))},required:!0}),t.jsx("span",{className:"time-separator",children:":"}),t.jsx("input",{type:"text",className:"form-control time-minute",placeholder:"00",maxLength:"2",value:s.start_time&&s.start_time.split(":")[1]||"",onChange:N=>{const _=N.target.value,C=s.start_time&&s.start_time.split(":")[0]||"00";(_===""||/^[0-9]{1,2}$/.test(_))&&e(P=>({...P,start_time:_===""?`${C}:00`:`${C}:${_}`}))},required:!0})]}),t.jsx("div",{className:"form-text",children:"รูปแบบ 24 ชั่วโมง (เช่น 09:00, 14:30)"})]})}),t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"end_time",className:"form-label",children:[t.jsx("i",{className:"fas fa-clock me-2"}),"เวลาสิ้นสุด *"]}),t.jsxs("div",{className:"time-input-group",children:[t.jsx("input",{type:"text",className:"form-control time-hour",placeholder:"17",maxLength:"2",value:s.end_time&&s.end_time.split(":")[0]||"",onChange:N=>{const _=N.target.value,C=s.end_time&&s.end_time.split(":")[1]||"00";(_===""||/^[0-9]{1,2}$/.test(_))&&e(P=>({...P,end_time:_===""?`00:${C}`:`${_}:${C}`}))},required:!0}),t.jsx("span",{className:"time-separator",children:":"}),t.jsx("input",{type:"text",className:"form-control time-minute",placeholder:"00",maxLength:"2",value:s.end_time&&s.end_time.split(":")[1]||"",onChange:N=>{const _=N.target.value,C=s.end_time&&s.end_time.split(":")[0]||"00";(_===""||/^[0-9]{1,2}$/.test(_))&&e(P=>({...P,end_time:_===""?`${C}:00`:`${C}:${_}`}))},required:!0})]}),t.jsx("div",{className:"form-text",children:"รูปแบบ 24 ชั่วโมง (เช่น 12:00, 17:30)"})]})})]}),t.jsx("div",{className:"alert alert-info",children:t.jsxs("small",{children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),t.jsx("strong",{children:"หมายเหตุ:"})," กิจกรรมจะจัดในวันเดียว โดยระบุเวลาเริ่มต้นและสิ้นสุด"]})}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"hours_awarded",className:"form-label",children:[t.jsx("i",{className:"fas fa-clock me-2"}),"ชั่วโมงที่ได้รับ *"]}),t.jsx("input",{type:"number",className:"form-control",id:"hours_awarded",name:"hours_awarded",value:s.hours_awarded,onChange:v,required:!0,min:"0",step:"0.5",placeholder:"เช่น 2.5"}),t.jsx("div",{className:"form-text",children:"จำนวนชั่วโมงที่นักเรียนจะได้รับเมื่อเข้าร่วมกิจกรรมนี้"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"max_participants",className:"form-label",children:[t.jsx("i",{className:"fas fa-users me-2"}),"จำนวนผู้เข้าร่วมสูงสุด"]}),t.jsx("input",{type:"number",className:"form-control",id:"max_participants",name:"max_participants",value:s.max_participants,onChange:v,min:"1",placeholder:"ปล่อยว่างไว้สำหรับไม่จำกัด"})]})})]}),t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"location",className:"form-label",children:[t.jsx("i",{className:"fas fa-map-marker-alt me-2"}),"สถานที่"]}),t.jsx("input",{type:"text",className:"form-control",id:"location",name:"location",value:s.location,onChange:v,placeholder:"กรอกสถานที่จัดกิจกรรม"})]})]}),t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{className:"card bg-light",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-cog me-2"}),"การตั้งค่ากิจกรรม"]})}),t.jsxs("div",{className:"card-body",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"status",className:"form-label",children:"สถานะ"}),t.jsxs("select",{className:"form-select",id:"status",name:"status",value:s.status,onChange:v,children:[t.jsx("option",{value:"OPEN",children:"เปิดใช้งานได้ตลอด"}),t.jsx("option",{value:"DRAFT",children:"ร่าง"}),t.jsx("option",{value:"CANCELLED",children:"ยกเลิก"})]})]}),t.jsx("div",{className:"alert alert-success",children:t.jsxs("small",{children:[t.jsx("i",{className:"fas fa-check-circle me-1"}),t.jsx("strong",{children:"เปิดใช้งานได้ตลอด:"})," นักเรียนสามารถเช็คอินได้ตลอดเวลา",t.jsx("br",{}),t.jsx("strong",{children:"ร่าง:"})," กิจกรรมยังไม่แสดงให้นักเรียนเห็น",t.jsx("br",{}),t.jsx("strong",{children:"ยกเลิก:"})," กิจกรรมถูกยกเลิก"]})})]})]})})]}),t.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[t.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>y("/activities/my"),disabled:n,children:"ยกเลิก"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังสร้าง..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-plus me-2"}),"สร้างกิจกรรม"]})})]})]})}),h&&p&&t.jsx("div",{className:"content-card mt-4",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"20px",padding:"2rem"},children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsxs("h3",{className:"mb-3",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),"กิจกรรมสร้างสำเร็จ!"]}),t.jsx("h4",{className:"mb-3",children:h.title}),t.jsx("p",{className:"mb-3",children:h.description}),t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-6",children:[t.jsx("strong",{children:"วันที่จัด:"}),t.jsx("br",{}),t.jsx("span",{children:new Date(h.start_date).toLocaleDateString("th-TH")})]}),t.jsxs("div",{className:"col-md-6",children:[t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"}),t.jsx("br",{}),t.jsxs("span",{children:[h.hours_awarded," ชั่วโมง"]})]})]})]}),t.jsxs("div",{className:"col-md-4 text-center",children:[t.jsxs("h5",{className:"mb-3",children:[t.jsx("i",{className:"fas fa-qrcode me-2"}),"QR Code สำหรับลงทะเบียน"]}),t.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",display:"inline-block"},children:t.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(p)}`,alt:"QR Code",style:{maxWidth:"200px",width:"100%",height:"auto"}})}),t.jsxs("div",{className:"mb-3",style:{background:"rgba(255,255,255,0.1)",borderRadius:"10px",padding:"1rem",fontSize:"0.8rem",wordBreak:"break-all"},children:[t.jsx("strong",{children:"ลิงก์ลงทะเบียน:"}),t.jsx("br",{}),t.jsx("code",{style:{color:"#fff"},children:p})]}),t.jsxs("div",{className:"d-grid gap-2",children:[t.jsxs("a",{href:`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(p)}`,download:`qr-${h.title.replace(/[^a-zA-Z0-9]/g,"-")}.png`,className:"btn btn-light btn-sm",style:{borderRadius:"10px"},children:[t.jsx("i",{className:"fas fa-download me-2"}),"ดาวน์โหลด QR Code"]}),t.jsxs("button",{className:"btn btn-outline-light btn-sm",style:{borderRadius:"10px"},onClick:()=>{navigator.clipboard.writeText(p),u("คัดลอกลิงก์ลงทะเบียนแล้ว!"),setTimeout(()=>u(""),3e3)},children:[t.jsx("i",{className:"fas fa-copy me-2"}),"คัดลอกลิงก์"]}),t.jsxs("button",{className:"btn btn-outline-light btn-sm",style:{borderRadius:"10px"},onClick:()=>{m(null),x(""),u(""),e({title:"",description:"",activity_date:"",start_time:"",end_time:"",hours_awarded:"",location:"",max_participants:"",status:"OPEN"})},children:[t.jsx("i",{className:"fas fa-plus me-2"}),"สร้างกิจกรรมใหม่"]})]})]})]})})]})})},dj=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState("all");E.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0);const v=await ie.get("/activities/my");v.data.success?e(v.data.data.activities||[]):l(v.data.message||"Failed to fetch activities")}catch(v){console.error("Fetch activities error:",v),l(v.response?.data?.message||"Failed to fetch activities")}finally{i(!1)}},m=v=>({DRAFT:"secondary",OPEN:"success",CANCELLED:"danger",COMPLETED:"info"})[v]||"secondary",p=v=>({DRAFT:"Draft",OPEN:"Open",CANCELLED:"Cancelled",COMPLETED:"Completed"})[v]||v,x=v=>new Date(v).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=s.filter(v=>c==="all"?!0:v.status===c);return n?t.jsx("div",{className:"container-fluid",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"Loading..."})}),t.jsx("p",{className:"mt-3",children:"Loading activities..."})]})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:"กิจกรรมของฉัน"}),t.jsx("p",{children:"จัดการกิจกรรมที่คุณสร้างขึ้น"})]}),o&&t.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[o,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),t.jsxs("div",{className:"table-container",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center w-100",children:[t.jsxs("h5",{children:[t.jsx("i",{className:"fas fa-list me-2"}),"กิจกรรม (",y.length,")"]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs(Ne,{to:"/activities/create",className:"btn btn-outline-light btn-sm",children:[t.jsx("i",{className:"fas fa-plus me-1"}),"สร้างใหม่"]}),t.jsxs("select",{className:"form-select form-select-sm",value:c,onChange:v=>u(v.target.value),style:{width:"auto"},children:[t.jsx("option",{value:"all",children:"ทุกสถานะ"}),t.jsx("option",{value:"DRAFT",children:"ร่าง"}),t.jsx("option",{value:"OPEN",children:"เปิดรับสมัคร"}),t.jsx("option",{value:"CANCELLED",children:"ยกเลิก"}),t.jsx("option",{value:"COMPLETED",children:"เสร็จสิ้น"})]})]})]})}),y.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"fas fa-calendar-times"}),t.jsx("h5",{children:"ไม่พบกิจกรรม"}),t.jsx("p",{children:c==="all"?"คุณยังไม่ได้สร้างกิจกรรมใดๆ":`ไม่พบกิจกรรมที่มีสถานะ "${p(c)}"`}),t.jsxs(Ne,{to:"/activities/create",className:"btn btn-primary",children:[t.jsx("i",{className:"fas fa-plus me-2"}),"สร้างกิจกรรมแรกของคุณ"]})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อกิจกรรม"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"วันที่เริ่มต้น"}),t.jsx("th",{children:"วันที่สิ้นสุด"}),t.jsx("th",{children:"ชั่วโมง"}),t.jsx("th",{children:"ผู้เข้าร่วม"}),t.jsx("th",{children:"การดำเนินการ"})]})}),t.jsx("tbody",{children:y.map(v=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{children:[t.jsx("strong",{children:v.title}),v.description&&t.jsx("div",{className:"text-muted small",children:v.description.length>50?`${v.description.substring(0,50)}...`:v.description})]})}),t.jsx("td",{children:t.jsx("span",{className:`badge bg-${m(v.status)}`,children:p(v.status)})}),t.jsx("td",{children:t.jsx("small",{children:x(v.start_date)})}),t.jsx("td",{children:t.jsx("small",{children:x(v.end_date)})}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info",children:[v.hours_awarded,"h"]})}),t.jsx("td",{children:t.jsxs("span",{className:"text-muted",children:[v.participant_count||0,v.max_participants&&` / ${v.max_participants}`]})}),t.jsx("td",{children:t.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[t.jsx(Ne,{to:`/activities/${v.id}`,className:"btn btn-outline-primary",title:"View Details",children:t.jsx("i",{className:"fas fa-eye"})}),t.jsx(Ne,{to:`/activities/${v.id}/edit`,className:"btn btn-outline-secondary",title:"Edit",children:t.jsx("i",{className:"fas fa-edit"})}),v.public_slug&&t.jsx(Ne,{to:`/admin/qr-generator?activity=${v.id}`,className:"btn btn-outline-success",title:"Generate QR Code",children:t.jsx("i",{className:"fas fa-qrcode"})})]})})]},v.id))})]})})]})]})})},uj=()=>{const[s,e]=E.useState({totalUsers:0,totalActivities:0,publishedActivities:0,recentActivities:[]}),[n,i]=E.useState({topRatedActivities:[],topStudents:[],recentReviews:[],reviewStats:{}}),[o,l]=E.useState(!0);E.useEffect(()=>{c()},[]);const c=async()=>{try{l(!0);const m=(await ie.get("/activities")).data.data.activities||[],x=(await ie.get("/admin/users")).data.data.users||[],v=(await ie.get("/admin/dashboard-stats")).data.data||{};e({totalUsers:x.length,totalActivities:m.length,publishedActivities:m.filter(w=>w.status==="OPEN").length,recentActivities:m.slice(0,5)}),i({topRatedActivities:v.topRatedActivities||[],topStudents:v.topStudents||[],recentReviews:v.recentReviews||[],reviewStats:v.reviewStats||{}})}catch(h){console.error("Error fetching dashboard data:",h)}finally{l(!1)}},u=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return o?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsx("div",{className:"text-center",children:t.jsx("div",{children:"Loading dashboard..."})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:"แดชบอร์ดผู้ดูแลระบบ"}),t.jsx("p",{children:"ยินดีต้อนรับสู่ระบบจัดการกิจกรรม"})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"👥"}),t.jsx("div",{className:"stat-number",children:s.totalUsers}),t.jsx("div",{className:"stat-label",children:"ผู้ใช้ทั้งหมด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"📅"}),t.jsx("div",{className:"stat-number",children:s.totalActivities}),t.jsx("div",{className:"stat-label",children:"กิจกรรมทั้งหมด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"✅"}),t.jsx("div",{className:"stat-number",children:s.publishedActivities}),t.jsx("div",{className:"stat-label",children:"กิจกรรมที่เปิด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"📊"}),t.jsxs("div",{className:"stat-number",children:[s.totalActivities>0?Math.round(s.publishedActivities/s.totalActivities*100):0,"%"]}),t.jsx("div",{className:"stat-label",children:"อัตราการเปิด"})]})]}),t.jsxs("div",{className:"content-card",children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("h3",{children:"กิจกรรมล่าสุด"}),t.jsx(Ne,{to:"/admin/activities",className:"btn btn-outline-primary",children:"ดูทั้งหมด"})]}),s.recentActivities.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"fas fa-calendar-times"}),t.jsx("h5",{children:"ไม่พบกิจกรรม"}),t.jsx("p",{children:"คุณยังไม่ได้สร้างกิจกรรมใดๆ"}),t.jsx(Ne,{to:"/activities/create",className:"btn btn-primary",children:"สร้างกิจกรรมแรก"})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อกิจกรรม"}),t.jsx("th",{children:"ผู้สร้าง"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"วันที่สร้าง"}),t.jsx("th",{children:"การดำเนินการ"})]})}),t.jsx("tbody",{children:s.recentActivities.map(h=>t.jsxs("tr",{children:[t.jsxs("td",{children:[t.jsx("strong",{children:h.title}),h.description&&t.jsx("div",{className:"text-muted small",children:h.description.length>50?`${h.description.substring(0,50)}...`:h.description})]}),t.jsx("td",{children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"avatar-sm bg-info text-white rounded-circle d-flex align-items-center justify-content-center me-2",children:h.creator?.name?.charAt(0)?.toUpperCase()||"?"}),t.jsxs("div",{children:[t.jsx("div",{children:h.creator?.name||"ไม่ทราบ"}),t.jsx("small",{className:"text-muted",children:h.creator?.role})]})]})}),t.jsx("td",{children:t.jsx("span",{className:`badge bg-${h.status==="OPEN"?"success":"secondary"}`,children:h.status})}),t.jsx("td",{children:t.jsx("small",{className:"text-muted",children:u(h.id)})}),t.jsx("td",{children:t.jsx(Ne,{to:"/admin/activities",className:"btn btn-sm btn-outline-primary",children:t.jsx("i",{className:"fas fa-eye"})})})]},h.id))})]})})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"⭐ กิจกรรมที่รีวิวดีที่สุด"}),n.topRatedActivities.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"ยังไม่มีรีวิวกิจกรรม"})}):t.jsx("div",{className:"list-group",children:n.topRatedActivities.map((h,m)=>t.jsx("div",{className:"list-group-item",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h6",{className:"mb-1",children:["#",m+1," ",h.activity?.title]}),t.jsxs("p",{className:"mb-1 text-muted small",children:[h.activity?.description?.substring(0,60),"..."]}),t.jsxs("small",{className:"text-muted",children:[h.review_count," รีวิว"]})]}),t.jsx("div",{className:"text-end",children:t.jsxs("div",{className:"h5 mb-0 text-warning",children:[parseFloat(h.avg_rating).toFixed(1)," ⭐"]})})]})},h.activity_id))})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"🏆 นักเรียนที่ได้ชั่วโมงเยอะที่สุด"}),n.topStudents.length===0?t.jsx("div",{className:"empty-state",children:t.jsx("p",{children:"ยังไม่มีข้อมูลชั่วโมงกิจกรรม"})}):t.jsx("div",{className:"list-group",children:n.topStudents.map((h,m)=>t.jsx("div",{className:"list-group-item",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h6",{className:"mb-1",children:["#",m+1," ",h.user?.name]}),t.jsxs("p",{className:"mb-1 text-muted small",children:["รหัสนักศึกษา: ",h.user?.student_code]}),t.jsxs("small",{className:"text-muted",children:[h.activity_count," กิจกรรม"]})]}),t.jsx("div",{className:"text-end",children:t.jsxs("div",{className:"h5 mb-0 text-success",children:[h.total_hours," ชม."]})})]})},h.user_id))})]})})]}),n.reviewStats.total_reviews>0&&t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"📊 สถิติการรีวิวโดยรวม"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"h4 text-primary",children:n.reviewStats.total_reviews}),t.jsx("small",{className:"text-muted",children:"รีวิวทั้งหมด"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"h4 text-warning",children:[parseFloat(n.reviewStats.avg_overall||0).toFixed(1)," ⭐"]}),t.jsx("small",{className:"text-muted",children:"คะแนนรวม"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"h4 text-info",children:[parseFloat(n.reviewStats.avg_fun||0).toFixed(1)," ⭐"]}),t.jsx("small",{className:"text-muted",children:"ความสนุก"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"h4 text-success",children:[parseFloat(n.reviewStats.avg_learning||0).toFixed(1)," ⭐"]}),t.jsx("small",{className:"text-muted",children:"การเรียนรู้"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"h4 text-warning",children:[parseFloat(n.reviewStats.avg_organization||0).toFixed(1)," ⭐"]}),t.jsx("small",{className:"text-muted",children:"การจัดงาน"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"h4 text-secondary",children:[parseFloat(n.reviewStats.avg_venue||0).toFixed(1)," ⭐"]}),t.jsx("small",{className:"text-muted",children:"สถานที่"})]})})]})]}),n.recentReviews.length>0&&t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"💬 รีวิวล่าสุด"}),t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"นักเรียน"}),t.jsx("th",{children:"กิจกรรม"}),t.jsx("th",{children:"คะแนนรวม"}),t.jsx("th",{children:"วันที่รีวิว"})]})}),t.jsx("tbody",{children:n.recentReviews.map(h=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{children:[t.jsx("strong",{children:h.user?.name}),t.jsx("br",{}),t.jsx("small",{className:"text-muted",children:h.user?.student_code})]})}),t.jsx("td",{children:h.activity?.title}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-warning",children:[h.overall_rating," ⭐"]})}),t.jsx("td",{children:t.jsx("small",{className:"text-muted",children:u(h.created_at)})})]},h.id))})]})})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"การดำเนินการด่วน"}),t.jsxs("div",{className:"quick-actions",children:[t.jsxs(Ne,{to:"/admin/activities/create",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"➕"}),t.jsx("h6",{className:"quick-action-title",children:"สร้างกิจกรรมใหม่"})]}),t.jsxs(Ne,{to:"/admin/activities",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"📅"}),t.jsx("h6",{className:"quick-action-title",children:"จัดการกิจกรรม"})]}),t.jsxs(Ne,{to:"/admin/serials/send",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"📤"}),t.jsx("h6",{className:"quick-action-title",children:"ส่งซีเรียล"})]}),t.jsxs(Ne,{to:"/admin/users/students",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"👥"}),t.jsx("h6",{className:"quick-action-title",children:"จัดการผู้ใช้"})]})]})]})]})})},hj=()=>{const[s,e]=E.useState({totalActivities:0,upcomingActivities:0,completedActivities:0,totalHours:0,recentActivities:[]}),[n,i]=E.useState(50),[o,l]=E.useState(!0),{user:c}=Ze();E.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0);const[p,x]=await Promise.all([ie.get("/activities"),ie.get("/admin/required-hours")]),y=p.data.data?.activities||[],v=x.data.success?x.data.data.required_hours:50;i(v);const w=new Date,j=y.filter(C=>new Date(C.start_date)>w);let N=0,_=0;try{const C=await ie.get("/student/serial-history");if(C.data.success){const P=C.data.data.history||[];N=P.length,_=P.reduce((W,L)=>W+(L.hours_earned||0),0)}}catch{console.log("No serial history found, using default values")}e({totalActivities:y.length,upcomingActivities:j.length,completedActivities:N,totalHours:_,recentActivities:y.slice(0,5)})}catch(p){console.error("Error fetching dashboard data:",p)}finally{l(!1)}},h=p=>new Date(p).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=p=>new Date(p)>new Date;return o?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3",children:"กำลังโหลดแดชบอร์ด..."})]})}):t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #007bff 0%, #0056b3 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0,123,255,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-6",children:[t.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:["สวัสดี, ",c?.name,"! 👋"]}),t.jsx("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:"ยินดีต้อนรับสู่ระบบจัดการกิจกรรม มาดูกิจกรรมที่น่าสนใจกันเถอะ!"})]}),t.jsx("div",{className:"col-md-3 text-center",children:t.jsxs("div",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"20px",borderRadius:"15px",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.3)"},children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"⏱️"}),t.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:s.totalHours}),t.jsx("div",{style:{fontSize:"1rem",opacity:.9},children:"ชั่วโมงที่เก็บได้"})]})}),t.jsx("div",{className:"col-md-3 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"🎓"})})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"40px"},children:[t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:p=>p.currentTarget.style.transform="translateY(-5px)",onMouseLeave:p=>p.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#007bff"},children:"📅"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.totalActivities}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"กิจกรรมทั้งหมด"})]}),t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:p=>p.currentTarget.style.transform="translateY(-5px)",onMouseLeave:p=>p.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#28a745"},children:"⏰"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.upcomingActivities}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"กิจกรรมที่กำลังจะมาถึง"})]}),t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:p=>p.currentTarget.style.transform="translateY(-5px)",onMouseLeave:p=>p.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#ffc107"},children:"✅"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.completedActivities}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"กิจกรรมที่เสร็จสิ้น"})]}),t.jsxs("div",{className:"card text-center",style:{border:"3px solid #ffc107",boxShadow:"0 5px 15px rgba(255,193,7,0.3)",transition:"transform 0.3s ease",background:"linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%)"},onMouseEnter:p=>p.currentTarget.style.transform="translateY(-5px)",onMouseLeave:p=>p.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#856404"},children:"🏆"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#856404",fontWeight:"bold",fontSize:"2.5rem"},children:s.totalHours}),t.jsx("p",{style:{color:"#856404",margin:0,fontSize:"1.1rem",fontWeight:"bold"},children:"ชั่วโมงที่เก็บได้"}),t.jsx("div",{style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#856404",color:"white",borderRadius:"15px",fontSize:"0.9rem",fontWeight:"bold"},children:"🎯 เป้าหมาย: เก็บให้ได้มากที่สุด!"})]})]}),t.jsx("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:t.jsx("div",{className:"card-body p-4",children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h3",{className:"mb-2",style:{fontWeight:"bold"},children:"🏆 ความคืบหน้าการเก็บชั่วโมง"}),t.jsxs("p",{className:"mb-3",style:{opacity:.9},children:["คุณได้เข้าร่วมกิจกรรมและเก็บชั่วโมงไปแล้ว ",t.jsxs("strong",{children:[s.totalHours," ชั่วโมง"]})," จากกิจกรรมทั้งหมด ",t.jsxs("strong",{children:[s.completedActivities," กิจกรรม"]})]}),t.jsx("div",{className:"progress",style:{height:"20px",borderRadius:"10px",backgroundColor:"rgba(255,255,255,0.2)"},children:t.jsx("div",{className:"progress-bar bg-warning",style:{width:`${Math.min(s.totalHours/n*100,100)}%`,borderRadius:"10px",fontWeight:"bold",fontSize:"14px",lineHeight:"20px"},children:s.totalHours>=n?"🎉 เป้าหมายสำเร็จ!":`${s.totalHours}/${n} ชั่วโมง`})})]}),t.jsxs("div",{className:"col-md-4 text-center",children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"10px"},children:"🎯"}),t.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold"},children:s.totalHours>=n?"100%":`${Math.round(s.totalHours/n*100)}%`}),t.jsxs("div",{style:{fontSize:"1rem",opacity:.9},children:["ของเป้าหมาย ",n," ชั่วโมง"]})]})]})})}),t.jsxs("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsx("h4",{style:{margin:0,color:"#333"},children:"🚀 การดำเนินการด่วน"})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[t.jsx(Ne,{to:"/activities",className:"btn btn-primary",style:{padding:"15px",fontSize:"1.1rem"},children:"📅 ดูปฏิทินกิจกรรม"}),t.jsx(Ne,{to:"/student/progress",className:"btn btn-success",style:{padding:"15px",fontSize:"1.1rem"},children:"📊 ความก้าวหน้าของฉัน"}),t.jsx(Ne,{to:"/student/serials",className:"btn btn-warning",style:{padding:"15px",fontSize:"1.1rem"},children:"🎫 แลก Serial"}),t.jsx(Ne,{to:"/student/profile",className:"btn btn-info",style:{padding:"15px",fontSize:"1.1rem"},children:"👤 โปรไฟล์ของฉัน"})]})})]}),t.jsxs("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h4",{style:{margin:0,color:"#333"},children:"⭐ กิจกรรมแนะนำ"}),t.jsx(Ne,{to:"/activities",className:"btn btn-outline-primary",children:"ดูทั้งหมด"})]})}),t.jsx("div",{className:"card-body",children:s.recentActivities.length===0?t.jsxs("div",{className:"text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px",opacity:.5},children:"📅"}),t.jsx("h5",{style:{color:"#666",marginBottom:"10px"},children:"ยังไม่มีกิจกรรมในขณะนี้"}),t.jsx("p",{style:{color:"#999",fontSize:"14px"},children:"กลับมาดูใหม่ในภายหลังเพื่อกิจกรรมใหม่ๆ!"})]}):t.jsx("div",{style:{display:"grid",gap:"20px"},children:s.recentActivities.map(p=>t.jsx("div",{style:{padding:"25px",border:"1px solid #e9ecef",borderRadius:"12px",backgroundColor:"#fff",transition:"all 0.3s ease",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},onMouseEnter:x=>{x.currentTarget.style.boxShadow="0 5px 20px rgba(0,0,0,0.1)",x.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:x=>{x.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.05)",x.currentTarget.style.transform="translateY(0)"},children:t.jsxs("div",{className:"row align-items-start",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h5",{style:{marginBottom:"15px",color:"#333",fontWeight:"bold"},children:p.title}),p.description&&t.jsx("p",{style:{color:"#666",marginBottom:"20px",fontSize:"15px",lineHeight:"1.6"},children:p.description.length>150?`${p.description.substring(0,150)}...`:p.description}),t.jsxs("div",{className:"row",style:{marginBottom:"15px"},children:[t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{marginBottom:"10px"},children:[t.jsx("strong",{style:{fontSize:"12px",color:"#007bff",textTransform:"uppercase"},children:"วันที่เริ่ม"}),t.jsx("br",{}),t.jsx("span",{style:{fontSize:"14px",color:"#333"},children:h(p.start_date)})]})}),p.location&&t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{marginBottom:"10px"},children:[t.jsx("strong",{style:{fontSize:"12px",color:"#007bff",textTransform:"uppercase"},children:"สถานที่"}),t.jsx("br",{}),t.jsx("span",{style:{fontSize:"14px",color:"#333"},children:p.location})]})}),p.max_participants&&t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{marginBottom:"10px"},children:[t.jsx("strong",{style:{fontSize:"12px",color:"#007bff",textTransform:"uppercase"},children:"ผู้เข้าร่วม"}),t.jsx("br",{}),t.jsxs("span",{style:{fontSize:"14px",color:"#333"},children:[p.current_participants||0," / ",p.max_participants]})]})})]}),t.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center"},children:[t.jsxs("span",{style:{fontSize:"13px",color:"#666"},children:["โดย ",p.creator?.name||"ผู้ดูแลระบบ"]}),m(p.start_date)&&t.jsx("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",backgroundColor:"#28a745",color:"white",fontWeight:"bold"},children:"กำลังจะมาถึง"}),p.hours_awarded&&t.jsxs("span",{style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",backgroundColor:"#ffc107",color:"#333",fontWeight:"bold"},children:[p.hours_awarded," ชั่วโมง"]})]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #e9ecef"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:"📅"}),t.jsx("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:"กิจกรรมที่น่าสนใจ"})]})})})]})},p.id))})})]}),t.jsxs("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsx("h4",{style:{margin:0,color:"#333"},children:"💡 เคล็ดลับสำหรับนักเรียน"})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{style:{display:"grid",gap:"20px"},children:[t.jsxs("div",{style:{padding:"20px",backgroundColor:"#e7f3ff",borderRadius:"10px",border:"1px solid #b3d9ff"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"10px"},children:"📅"}),t.jsx("strong",{style:{color:"#0056b3"},children:"ติดตามกิจกรรมใหม่"})]}),t.jsx("p",{style:{margin:0,color:"#333",lineHeight:"1.6"},children:"ตรวจสอบหน้าปฏิทินกิจกรรมเป็นประจำเพื่อหาโอกาสใหม่ๆ และกิจกรรมที่น่าสนใจ"})]}),t.jsxs("div",{style:{padding:"20px",backgroundColor:"#f0f8e7",borderRadius:"10px",border:"1px solid #c3e6cb"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"10px"},children:"⏰"}),t.jsx("strong",{style:{color:"#155724"},children:"วางแผนล่วงหน้า"})]}),t.jsx("p",{style:{margin:0,color:"#333",lineHeight:"1.6"},children:"ลงทะเบียนกิจกรรมที่มีจำนวนจำกัดแต่เนิ่นๆ เพื่อให้แน่ใจว่าคุณจะได้เข้าร่วม"})]}),t.jsxs("div",{style:{padding:"20px",backgroundColor:"#fff3cd",borderRadius:"10px",border:"1px solid #ffeaa7"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"10px"},children:"🤝"}),t.jsx("strong",{style:{color:"#856404"},children:"มีส่วนร่วม"})]}),t.jsx("p",{style:{margin:0,color:"#333",lineHeight:"1.6"},children:"การเข้าร่วมกิจกรรมเป็นวิธีที่ดีในการพบปะผู้คนใหม่ๆ และพัฒนาทักษะใหม่ๆ"})]})]})})]})]})},fj=()=>{const[s,e]=E.useState(null),[n,i]=E.useState(!0),[o,l]=E.useState(""),{user:c}=Ze();E.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const h=await ie.get("/student/progress");h.data.success?e(h.data.data):l("ไม่สามารถโหลดข้อมูลความก้าวหน้าได้")}catch(h){console.error("Error fetching progress:",h),l("ไม่สามารถโหลดข้อมูลความก้าวหน้าได้")}finally{i(!1)}};return n?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3",children:"กำลังโหลดข้อมูลความก้าวหน้า..."})]})}):o?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"15px",borderRadius:"8px",border:"1px solid #f5c6cb"},children:[t.jsx("strong",{children:"เกิดข้อผิดพลาด:"})," ",o]})}):s?t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(40,167,69,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"📊 ความก้าวหน้าของฉัน"}),t.jsxs("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:["สวัสดี ",c?.name,"! นี่คือความก้าวหน้าในการสะสมชั่วโมงกิจกรรมของคุณ"]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"📈"})})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:h=>h.currentTarget.style.transform="translateY(-5px)",onMouseLeave:h=>h.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#007bff"},children:"⏱️"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.totalHours}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"ชั่วโมงที่สะสมได้"})]}),t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:h=>h.currentTarget.style.transform="translateY(-5px)",onMouseLeave:h=>h.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#28a745"},children:"🎯"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.requiredHours}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"ชั่วโมงที่ต้องการ"})]}),t.jsxs("div",{className:"card text-center",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},onMouseEnter:h=>h.currentTarget.style.transform="translateY(-5px)",onMouseLeave:h=>h.currentTarget.style.transform="translateY(0)",children:[t.jsx("div",{style:{fontSize:"3rem",marginBottom:"15px",color:"#ffc107"},children:"⏳"}),t.jsx("h2",{style:{marginBottom:"10px",color:"#333",fontWeight:"bold"},children:s.remainingHours}),t.jsx("p",{style:{color:"#666",margin:0,fontSize:"1.1rem"},children:"ชั่วโมงที่เหลือ"})]})]}),t.jsxs("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h4",{style:{margin:0,color:"#333"},children:"📊 สรุปความก้าวหน้า"}),t.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:s.isCompleted?"#28a745":"#007bff"},children:[s.progressPercentage,"%"]})]})}),t.jsxs("div",{className:"card-body",children:[t.jsx("div",{style:{width:"100%",backgroundColor:"#e9ecef",borderRadius:"25px",height:"20px",marginBottom:"20px",overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",borderRadius:"25px",transition:"all 0.8s ease",background:s.isCompleted?"linear-gradient(90deg, #28a745 0%, #20c997 100%)":"linear-gradient(90deg, #007bff 0%, #0056b3 100%)",width:`${Math.min(s.progressPercentage,100)}%`}})}),t.jsxs("div",{className:"row text-center",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{style:{padding:"10px"},children:[t.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#28a745"},children:s.totalHours}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"ชั่วโมงที่เสร็จสิ้น"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{style:{padding:"10px"},children:[t.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#ffc107"},children:s.remainingHours}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"ชั่วโมงที่เหลือ"})]})})]}),s.isCompleted&&t.jsx("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"10px",color:"#155724"},children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("span",{style:{fontSize:"1.5rem",marginRight:"10px"},children:"🎉"}),t.jsxs("div",{children:[t.jsx("strong",{children:"ยินดีด้วย!"})," คุณได้สะสมชั่วโมงครบตามที่กำหนดแล้ว"]})]})})]})]}),t.jsxs("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsx("h4",{style:{margin:0,color:"#333"},children:"📋 กิจกรรมล่าสุด"})}),t.jsx("div",{className:"card-body",children:s.recentHistory&&s.recentHistory.length>0?t.jsx("div",{style:{display:"grid",gap:"15px"},children:s.recentHistory.map((h,m)=>t.jsx("div",{style:{padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #e9ecef",transition:"all 0.3s ease"},onMouseEnter:p=>{p.currentTarget.style.backgroundColor="#e9ecef",p.currentTarget.style.transform="translateX(5px)"},onMouseLeave:p=>{p.currentTarget.style.backgroundColor="#f8f9fa",p.currentTarget.style.transform="translateX(0)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsx("div",{className:"col-md-1",children:t.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"#007bff",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem"},children:"⏱️"})}),t.jsxs("div",{className:"col-md-8",children:[t.jsx("h6",{style:{marginBottom:"5px",color:"#333",fontWeight:"bold"},children:h.activity.title}),t.jsxs("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:["Serial: ",t.jsx("strong",{children:h.serial.code})," • วันที่: ",new Date(h.redeemed_at).toLocaleDateString("th-TH")]})]}),t.jsx("div",{className:"col-md-3 text-end",children:t.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",borderRadius:"20px",fontSize:"1.1rem",fontWeight:"bold",display:"inline-block"},children:["+",h.hours_earned," ชั่วโมง"]})})]})},m))}):t.jsxs("div",{className:"text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px",opacity:.5},children:"📋"}),t.jsx("h5",{style:{color:"#666",marginBottom:"10px"},children:"ยังไม่มีกิจกรรมล่าสุด"}),t.jsx("p",{style:{color:"#999",fontSize:"14px"},children:"เริ่มเข้าร่วมกิจกรรมเพื่อดูประวัติการสะสมชั่วโมงของคุณ"})]})})]})]}):t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"alert alert-warning",style:{backgroundColor:"#fff3cd",color:"#856404",padding:"15px",borderRadius:"8px",border:"1px solid #ffeaa7"},children:[t.jsx("strong",{children:"ไม่พบข้อมูล:"})," ไม่มีข้อมูลความก้าวหน้า"]})})},mj=()=>{const[s,e]=E.useState([]),[n,i]=E.useState({}),[o,l]=E.useState(!0),[c,u]=E.useState(""),[h,m]=E.useState(1),[p]=E.useState(10),{user:x}=Ze();E.useEffect(()=>{y()},[h]);const y=async()=>{try{l(!0);const N=await ie.get(`/student/serial-history?page=${h}&limit=${p}`);N.data.success?(e(N.data.data.history||[]),i(N.data.data.pagination||{currentPage:1,totalPages:1,totalItems:0})):u("ไม่สามารถโหลดประวัติ Serial ได้")}catch(N){console.error("Error fetching history:",N),u("ไม่สามารถโหลดประวัติ Serial ได้")}finally{l(!1)}},v=N=>{m(N)},w=N=>new Date(N).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=N=>{switch(N){case"REDEEMED":return{backgroundColor:"#d4edda",color:"#155724",text:"แลกแล้ว"};case"SENT":return{backgroundColor:"#cce7ff",color:"#004085",text:"ส่งแล้ว"};case"PENDING":return{backgroundColor:"#fff3cd",color:"#856404",text:"รอดำเนินการ"};default:return{backgroundColor:"#f8f9fa",color:"#495057",text:N}}};return o?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3",children:"กำลังโหลดประวัติ Serial..."})]})}):c?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsxs("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"15px",borderRadius:"8px",border:"1px solid #f5c6cb"},children:[t.jsx("strong",{children:"เกิดข้อผิดพลาด:"})," ",c]})}):t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(111,66,193,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"📚 ประวัติ Serial"}),t.jsxs("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:["สวัสดี ",x?.name,"! นี่คือประวัติการแลก Serial Code ของคุณ"]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"📋"})})]})}),t.jsx("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row text-center",children:[t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"10px",color:"#28a745"},children:"📊"}),t.jsx("h3",{style:{margin:0,color:"#333"},children:n.totalItems||0}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"Serial ทั้งหมด"})]})}),t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"10px",color:"#007bff"},children:"⏱️"}),t.jsx("h3",{style:{margin:0,color:"#333"},children:s.reduce((N,_)=>N+_.hours_earned,0)}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"ชั่วโมงรวม"})]})}),t.jsx("div",{className:"col-md-4",children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"10px",color:"#ffc107"},children:"✅"}),t.jsx("h3",{style:{margin:0,color:"#333"},children:s.filter(N=>N.serial.status==="REDEEMED").length}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666"},children:"แลกสำเร็จ"})]})})]})})}),s.length>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsx("h4",{style:{margin:0,color:"#333"},children:"📋 รายการ Serial ทั้งหมด"})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{style:{display:"grid",gap:"20px"},children:s.map((N,_)=>{const C=j(N.serial.status);return t.jsx("div",{style:{padding:"25px",backgroundColor:"#fff",borderRadius:"12px",border:"1px solid #e9ecef",transition:"all 0.3s ease",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},onMouseEnter:P=>{P.currentTarget.style.boxShadow="0 5px 20px rgba(0,0,0,0.1)",P.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:P=>{P.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.05)",P.currentTarget.style.transform="translateY(0)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsx("div",{className:"col-md-1",children:t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#007bff",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem"},children:"🎫"})}),t.jsxs("div",{className:"col-md-4",children:[t.jsx("h6",{style:{marginBottom:"5px",color:"#333",fontWeight:"bold"},children:N.activity.title}),t.jsxs("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:["วันที่กิจกรรม: ",w(N.activity.start_date)]})]}),t.jsx("div",{className:"col-md-2",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#333",fontFamily:"monospace"},children:N.serial.code}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666",fontSize:"12px"},children:"Serial Code"})]})}),t.jsx("div",{className:"col-md-2",children:t.jsx("div",{style:{textAlign:"center"},children:t.jsxs("div",{style:{padding:"8px 16px",backgroundColor:"#28a745",color:"white",borderRadius:"20px",fontSize:"1.1rem",fontWeight:"bold",display:"inline-block"},children:["+",N.hours_earned," ชั่วโมง"]})})}),t.jsx("div",{className:"col-md-2",children:t.jsx("div",{style:{textAlign:"center"},children:t.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold",backgroundColor:C.backgroundColor,color:C.color},children:C.text})})}),t.jsx("div",{className:"col-md-1",children:t.jsx("div",{style:{textAlign:"center"},children:t.jsx("p",{style:{margin:0,color:"#666",fontSize:"12px"},children:w(N.redeemed_at)})})})]})},_)})})})]}),n.totalPages>1&&t.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(n.currentPage-1)*p+1," to"," ",Math.min(n.currentPage*p,n.totalItems)," of"," ",n.totalItems," results"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>v(h-1),disabled:h===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:n.totalPages},(N,_)=>_+1).map(N=>t.jsx("button",{onClick:()=>v(N),className:`px-3 py-2 text-sm font-medium rounded-md ${N===h?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:N},N)),t.jsx("button",{onClick:()=>v(h+1),disabled:h===n.totalPages,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):t.jsx("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:t.jsxs("div",{className:"card-body text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px",opacity:.5},children:"📋"}),t.jsx("h4",{style:{color:"#666",marginBottom:"10px"},children:"ยังไม่มีประวัติ Serial"}),t.jsx("p",{style:{color:"#999",fontSize:"14px",margin:0},children:"คุณยังไม่ได้แลก Serial Code ใดๆ เริ่มเข้าร่วมกิจกรรมเพื่อรับชั่วโมงกันเถอะ!"})]})})]})},pj=()=>{const[s,e]=E.useState(""),[n,i]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState([]),[p,x]=E.useState(!1),[y,v]=E.useState(null),[w,j]=E.useState({fun_rating:5,learning_rating:5,organization_rating:5,venue_rating:5,overall_rating:5,suggestion:""}),{user:N}=Ze();E.useEffect(()=>{_()},[]);const _=async()=>{try{const B=await ie.get("/student/pending-reviews");B.data.success&&m(B.data.data.pendingReviews)}catch(B){console.error("Error fetching pending reviews:",B)}},C=async B=>{if(B.preventDefault(),!s.trim()){u("กรุณากรอกรหัส Serial");return}try{i(!0),l(""),u("");const $=await ie.post("/student/redeem-serial",{code:s.trim().toUpperCase()});$.data.success&&($.data.data.requiresReview?(v({id:$.data.data.serialHistoryId,activityTitle:$.data.data.activityTitle,hoursAwarded:$.data.data.hoursAwarded,serialCode:$.data.data.serialCode}),x(!0),l("")):l(`สำเร็จ! คุณได้รับ ${$.data.data.hoursEarned} ชั่วโมงจาก "${$.data.data.activityTitle}"`),e(""),_())}catch($){console.error("Error redeeming serial:",$),u($.response?.data?.message||"ไม่สามารถแลก Serial ได้")}finally{i(!1)}},P=B=>{e(B.target.value.toUpperCase()),(o||c)&&(l(""),u(""))},W=B=>{v(B),j({fun_rating:5,learning_rating:5,organization_rating:5,venue_rating:5,overall_rating:5,suggestion:""}),x(!0)},L=()=>{x(!1),v(null)},Y=async B=>{B.preventDefault();try{i(!0);const $=await ie.post("/student/submit-review",{serial_id:y.id,...w});$.data.success&&(l($.data.message||"รีวิวสำเร็จ! ขอบคุณสำหรับความคิดเห็น"),L(),_())}catch($){console.error("Error submitting review:",$),u($.response?.data?.message||"ไม่สามารถส่งรีวิวได้")}finally{i(!1)}},k=(B,$)=>{console.log("handleReviewChange called:",B,$),j(q=>{const z={...q,[B]:$};return console.log("New review data:",z),z})},M=(B,$)=>t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[[1,2,3,4,5].map(q=>t.jsx("button",{type:"button",className:"star-button",onClick:z=>{z.preventDefault(),z.stopPropagation(),console.log("Star clicked:",q,"Current rating:",B),$(q)},style:{background:q<=B?"rgba(255, 193, 7, 0.2)":"rgba(0,0,0,0.05)",border:q<=B?"2px solid #ffc107":"2px solid #e9ecef",fontSize:"2rem",cursor:"pointer",color:q<=B?"#ffc107":"#adb5bd",padding:"10px",borderRadius:"10px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"45px",minHeight:"45px",boxShadow:q<=B?"0 4px 12px rgba(255, 193, 7, 0.4)":"0 2px 4px rgba(0,0,0,0.1)",outline:"none"},onMouseEnter:z=>{z.target.style.transform="scale(1.15)",z.target.style.boxShadow="0 6px 16px rgba(255, 193, 7, 0.5)"},onMouseLeave:z=>{z.target.style.transform="scale(1)",z.target.style.boxShadow=q<=B?"0 4px 12px rgba(255, 193, 7, 0.4)":"0 2px 4px rgba(0,0,0,0.1)"},onMouseDown:z=>{z.target.style.transform="scale(0.9)"},onMouseUp:z=>{z.target.style.transform="scale(1.1)"},children:"⭐"},q)),t.jsx("span",{style:{marginLeft:"15px",fontSize:"16px",color:"#495057",fontWeight:"600",backgroundColor:"#f8f9fa",padding:"8px 12px",borderRadius:"6px",border:"1px solid #e9ecef"},children:B?`${B}/5`:"0/5"})]});return t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #ffc107 0%, #ff8c00 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(255,193,7,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"🎫 แลก Serial Code"}),t.jsxs("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:["สวัสดี ",N?.name,"! กรอกรหัส Serial เพื่อรับชั่วโมงกิจกรรม"]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"🎁"})})]})}),t.jsxs("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsx("h4",{style:{margin:0,color:"#333"},children:"💳 แลก Serial Code"})}),t.jsxs("div",{className:"card-body",children:[o&&t.jsxs("div",{className:"alert alert-success",style:{backgroundColor:"#d4edda",color:"#155724",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #c3e6cb"},children:[t.jsx("strong",{children:"สำเร็จ!"})," ",o]}),c&&t.jsxs("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"15px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:[t.jsx("strong",{children:"เกิดข้อผิดพลาด:"})," ",c]}),t.jsxs("form",{onSubmit:C,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"serialCode",className:"form-label",children:"รหัส Serial Code"}),t.jsx("input",{type:"text",className:"form-control",id:"serialCode",value:s,onChange:P,placeholder:"กรอกรหัส Serial Code ที่ได้รับ",style:{fontSize:"1.1rem",padding:"12px"},required:!0})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"submit",className:"btn btn-warning",disabled:n,style:{padding:"12px 30px",fontSize:"1.1rem"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังแลก..."]}):t.jsx(t.Fragment,{children:"🎫 แลก Serial Code"})})})]})]})]}),h.length>0&&t.jsxs("div",{className:"card",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsxs("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:[t.jsx("h4",{style:{margin:0,color:"#333"},children:"⭐ รีวิวกิจกรรมที่รอรีวิว"}),t.jsx("p",{style:{margin:"5px 0 0 0",color:"#666",fontSize:"14px"},children:"กรุณารีวิวกิจกรรมเหล่านี้เพื่อให้ระบบสมบูรณ์"})]}),t.jsx("div",{className:"card-body",children:t.jsx("div",{style:{display:"grid",gap:"15px"},children:h.map(B=>t.jsx("div",{style:{padding:"20px",backgroundColor:"#fff3cd",borderRadius:"10px",border:"1px solid #ffeaa7"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h6",{style:{marginBottom:"5px",color:"#333",fontWeight:"bold"},children:B.activity?.title}),t.jsxs("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:["Serial: ",t.jsx("strong",{children:B.serial?.code})," • วันที่แลก: ",new Date(B.redeemed_at).toLocaleDateString("th-TH")," • ได้รับ: ",t.jsxs("strong",{children:[B.hours_earned," ชั่วโมง"]})]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("button",{onClick:()=>W(B),className:"btn btn-primary",style:{padding:"8px 20px",fontSize:"14px"},children:"⭐ รีวิวกิจกรรม"})})]})},B.id))})})]}),p&&y&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"15px",padding:"30px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t.jsx("h4",{style:{margin:0,color:"#333"},children:"⭐ รีวิวกิจกรรม"}),t.jsx("button",{onClick:L,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer"},children:"✕"})]}),t.jsxs("div",{style:{marginBottom:"25px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"1px solid #e9ecef"},children:[t.jsx("h6",{style:{margin:0,color:"#333",fontWeight:"bold"},children:y.activityTitle||y.activity?.title}),t.jsxs("p",{style:{margin:"8px 0 0 0",color:"#666",fontSize:"14px"},children:["Serial: ",t.jsx("strong",{children:y.serialCode||y.serial?.code})," • จะได้รับ ",t.jsxs("strong",{style:{color:"#28a745"},children:[y.hoursAwarded||y.hours_earned," ชั่วโมง"]})]})]}),t.jsxs("form",{onSubmit:Y,children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"form-label",style:{fontWeight:"bold",color:"#333",marginBottom:"10px"},children:"🎉 ความสนุก"}),t.jsx("div",{style:{marginBottom:"5px"},children:M(w.fun_rating,B=>k("fun_rating",B))}),t.jsx("small",{className:"text-muted",children:"ให้คะแนนความสนุกของกิจกรรม"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"form-label",style:{fontWeight:"bold",color:"#333",marginBottom:"10px"},children:"📚 การเรียนรู้"}),t.jsx("div",{style:{marginBottom:"5px"},children:M(w.learning_rating,B=>k("learning_rating",B))}),t.jsx("small",{className:"text-muted",children:"ให้คะแนนความรู้ที่ได้รับ"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"form-label",style:{fontWeight:"bold",color:"#333",marginBottom:"10px"},children:"🎯 การจัดงาน"}),t.jsx("div",{style:{marginBottom:"5px"},children:M(w.organization_rating,B=>k("organization_rating",B))}),t.jsx("small",{className:"text-muted",children:"ให้คะแนนการจัดงานและระบบ"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"form-label",style:{fontWeight:"bold",color:"#333",marginBottom:"10px"},children:"🏢 สถานที่"}),t.jsx("div",{style:{marginBottom:"5px"},children:M(w.venue_rating,B=>k("venue_rating",B))}),t.jsx("small",{className:"text-muted",children:"ให้คะแนนสถานที่และสิ่งอำนวยความสะดวก"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"form-label",style:{fontWeight:"bold",color:"#333",marginBottom:"10px"},children:"⭐ คะแนนรวม"}),t.jsx("div",{style:{marginBottom:"5px"},children:M(w.overall_rating,B=>k("overall_rating",B))}),t.jsx("small",{className:"text-muted",children:"ให้คะแนนโดยรวมของกิจกรรม"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"suggestion",className:"form-label",style:{fontWeight:"bold",color:"#333"},children:"💬 ข้อเสนอแนะ (ไม่บังคับ)"}),t.jsx("textarea",{className:"form-control",id:"suggestion",rows:"4",value:w.suggestion,onChange:B=>k("suggestion",B.target.value),placeholder:"กรอกข้อเสนอแนะหรือความคิดเห็นเพิ่มเติม...",style:{borderRadius:"8px",border:"1px solid #e9ecef",fontSize:"14px",resize:"vertical"}}),t.jsx("small",{className:"text-muted",children:"ช่วยให้เราปรับปรุงกิจกรรมในอนาคต"})]}),(!w.fun_rating||!w.learning_rating||!w.organization_rating||!w.venue_rating||!w.overall_rating)&&t.jsx("div",{className:"alert alert-warning",style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",color:"#856404",borderRadius:"8px",marginBottom:"20px"},children:t.jsx("small",{children:"⚠️ กรุณาให้คะแนนทุกข้อเพื่อส่งรีวิว"})}),t.jsxs("div",{className:"d-flex gap-3 justify-content-end",style:{marginTop:"30px"},children:[t.jsx("button",{type:"button",onClick:L,className:"btn btn-outline-secondary",style:{padding:"12px 24px",borderRadius:"8px",fontWeight:"500"},children:"ยกเลิก"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n||!w.fun_rating||!w.learning_rating||!w.organization_rating||!w.venue_rating||!w.overall_rating,style:{padding:"12px 24px",borderRadius:"8px",fontWeight:"500",backgroundColor:"#007bff",border:"none"},children:n?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังส่ง..."]}):t.jsx(t.Fragment,{children:"⭐ ส่งรีวิว"})})]})]})]})})]})},gj=()=>{const{slug:s}=Gb(),[e,n]=E.useState(null),[i,o]=E.useState(!0),[l,c]=E.useState(!1),[u,h]=E.useState(""),[m,p]=E.useState(""),[x,y]=E.useState({identifier_type:"EMAIL",identifier_value:"",name:"",student_code:""}),[v,w]=E.useState(!1);E.useEffect(()=>{j()},[s]);const j=async()=>{try{o(!0);const C=await ie.get(`/public/activity/${s}`);C.data.success?n(C.data.data):p("Activity not found")}catch(C){console.error("Error fetching activity:",C),p("Failed to load activity information")}finally{o(!1)}},N=async C=>{if(C.preventDefault(),!x.identifier_value.trim()){p("กรุณากรอกอีเมลของคุณ");return}if(!x.name.trim()){p("กรุณากรอกชื่อ-นามสกุลของคุณ");return}if(!x.student_code.trim()){p("กรุณากรอกรหัสนิสิตของคุณ");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.identifier_value)){p("กรุณากรอกอีเมลที่ถูกต้อง");return}try{c(!0),h(""),p(""),(await ie.post(`/public/checkin/${s}`,{identifier_type:"EMAIL",identifier_value:x.identifier_value,name:x.name.trim(),student_code:x.student_code.trim()})).data.success&&(h("ลงทะเบียนสำเร็จ! กรุณารอการส่งอีเมลจากแอดมินเพื่อยืนยันการเข้าร่วมกิจกรรม"),w(!0),y({identifier_type:"EMAIL",identifier_value:"",name:"",student_code:""}))}catch(W){console.error("Error checking in:",W),W.response?.data?.message?.includes("already checked in")?p("อีเมลนี้ได้ลงทะเบียนเข้าร่วมกิจกรรมนี้แล้ว"):p(W.response?.data?.message||"ไม่สามารถส่งอีเมลได้ กรุณาลองใหม่อีกครั้ง")}finally{c(!1)}},_=C=>{const{name:P,value:W}=C.target;y(L=>({...L,[P]:W})),(u||m)&&(h(""),p(""))};return i?t.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"64px",height:"64px",border:"4px solid #2563eb",borderTop:"4px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 24px"}}),t.jsx("p",{style:{color:"#374151",fontSize:"18px",fontWeight:"500"},children:"กำลังโหลดข้อมูลกิจกรรม..."})]})}):m&&!e?t.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #fef2f2 0%, #fce7f3 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("div",{style:{maxWidth:"448px",margin:"0 auto",textAlign:"center"},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",padding:"32px"},children:[t.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:"#fee2e2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:t.jsx("svg",{style:{width:"32px",height:"32px",color:"#dc2626"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"#111827",marginBottom:"8px"},children:"ไม่พบกิจกรรม"}),t.jsx("p",{style:{color:"#6b7280",marginBottom:"24px"},children:m}),t.jsxs("a",{href:"/",style:{display:"inline-flex",alignItems:"center",padding:"12px 24px",backgroundColor:"#2563eb",color:"white",fontWeight:"500",borderRadius:"8px",textDecoration:"none",transition:"background-color 0.2s"},children:[t.jsx("svg",{style:{width:"20px",height:"20px",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"กลับหน้าหลัก"]})]})})}):t.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 50%, #f3e8ff 100%)",padding:"48px 0"},children:t.jsxs("div",{style:{maxWidth:"512px",margin:"0 auto",padding:"0 16px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[t.jsx("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:t.jsx("svg",{style:{width:"40px",height:"40px",color:"white"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#111827",marginBottom:"8px"},children:"ลงทะเบียนเข้าร่วมกิจกรรม"}),t.jsx("p",{style:{color:"#6b7280",fontSize:"16px"},children:"กรอกอีเมลของคุณเพื่อลงทะเบียนเข้าร่วมกิจกรรม"})]}),t.jsx("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",marginBottom:"32px"},children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#111827",marginBottom:"16px"},children:e?.title}),e?.description&&t.jsx("p",{style:{color:"#6b7280",marginBottom:"24px",lineHeight:"1.6"},children:e.description}),t.jsx("div",{style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%)",borderRadius:"12px",padding:"24px"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dbeafe",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:t.jsx("svg",{style:{width:"24px",height:"24px",color:"#2563eb"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),t.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"วันที่จัด"}),t.jsx("p",{style:{fontWeight:"600",color:"#111827"},children:new Date(e?.start_date).toLocaleDateString("th-TH")})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:t.jsx("svg",{style:{width:"24px",height:"24px",color:"#16a34a"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"ชั่วโมงที่ได้รับ"}),t.jsxs("p",{style:{fontWeight:"600",color:"#111827"},children:[e?.hours_awarded," ชั่วโมง"]})]})]})})]})}),u&&t.jsx("div",{style:{marginBottom:"24px",padding:"24px",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[t.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px",flexShrink:0},children:t.jsx("svg",{style:{width:"20px",height:"20px",color:"#16a34a"},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("h3",{style:{fontWeight:"600",color:"#166534",marginBottom:"4px"},children:"ส่งอีเมลสำเร็จ!"}),t.jsx("p",{style:{color:"#15803d"},children:u})]})]})}),m&&t.jsx("div",{style:{marginBottom:"24px",padding:"24px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[t.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#fee2e2",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px",flexShrink:0},children:t.jsx("svg",{style:{width:"20px",height:"20px",color:"#dc2626"},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t.jsxs("div",{children:[t.jsx("h3",{style:{fontWeight:"600",color:"#991b1b",marginBottom:"4px"},children:"เกิดข้อผิดพลาด"}),t.jsx("p",{style:{color:"#dc2626"},children:m})]})]})}),!v&&t.jsx("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px"},children:t.jsxs("form",{onSubmit:N,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("svg",{style:{width:"20px",height:"20px",color:"#2563eb",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"ชื่อ-นามสกุล *"]})}),t.jsx("input",{type:"text",id:"name",name:"name",value:x.name,onChange:_,placeholder:"กรอกชื่อ-นามสกุลของคุณ",required:!0,style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",transition:"border-color 0.2s",outline:"none"},onFocus:C=>C.target.style.borderColor="#2563eb",onBlur:C=>C.target.style.borderColor="#e5e7eb"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"student_code",style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("svg",{style:{width:"20px",height:"20px",color:"#2563eb",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),"รหัสนิสิต *"]})}),t.jsx("input",{type:"text",id:"student_code",name:"student_code",value:x.student_code,onChange:_,placeholder:"กรอกรหัสนิสิตของคุณ",required:!0,style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:"8px",fontSize:"16px",transition:"border-color 0.2s",outline:"none"},onFocus:C=>C.target.style.borderColor="#2563eb",onBlur:C=>C.target.style.borderColor="#e5e7eb"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"identifier_value",style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("svg",{style:{width:"20px",height:"20px",color:"#2563eb",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),"อีเมลของคุณ *"]})}),t.jsx("input",{type:"email",id:"identifier_value",name:"identifier_value",value:x.identifier_value,onChange:_,placeholder:"กรอกอีเมลของคุณ เช่น example@email.com",style:{width:"100%",padding:"12px 16px",border:"1px solid #d1d5db",borderRadius:"12px",fontSize:"18px",outline:"none",transition:"all 0.2s"},onFocus:C=>{C.target.style.borderColor="#2563eb",C.target.style.boxShadow="0 0 0 3px rgba(37, 99, 235, 0.1)"},onBlur:C=>{C.target.style.borderColor="#d1d5db",C.target.style.boxShadow="none"},disabled:l,required:!0}),t.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginTop:"8px"},children:"อีเมล 1 ตัวสามารถลงทะเบียนได้ 1 ครั้งเท่านั้น"})]}),t.jsx("button",{type:"submit",disabled:l||!x.identifier_value.trim(),style:{width:"100%",padding:"16px 24px",background:"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)",color:"white",fontWeight:"600",borderRadius:"12px",border:"none",cursor:l||!x.identifier_value.trim()?"not-allowed":"pointer",opacity:l||!x.identifier_value.trim()?.5:1,transition:"all 0.2s",transform:"scale(1)"},onMouseEnter:C=>{!l&&x.identifier_value.trim()&&(C.target.style.transform="scale(1.02)",C.target.style.background="linear-gradient(135deg, #1d4ed8 0%, #4338ca 100%)")},onMouseLeave:C=>{C.target.style.transform="scale(1)",C.target.style.background="linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)"},children:l?t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),"กำลังส่งอีเมล..."]}):t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[t.jsx("svg",{style:{width:"24px",height:"24px",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"ส่งอีเมลลงทะเบียน"]})})]})}),t.jsxs("div",{style:{marginTop:"32px",padding:"24px",background:"linear-gradient(135deg, #fffbeb 0%, #fed7aa 100%)",border:"1px solid #fed7aa",borderRadius:"12px"},children:[t.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"16px",display:"flex",alignItems:"center"},children:[t.jsx("svg",{style:{width:"20px",height:"20px",color:"#d97706",marginRight:"8px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"ข้อมูลสำคัญ"]}),t.jsxs("ul",{style:{fontSize:"14px",color:"#374151",listStyle:"none",padding:0,margin:0},children:[t.jsxs("li",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("svg",{style:{width:"16px",height:"16px",color:"#d97706",marginRight:"8px",marginTop:"2px",flexShrink:0},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"การเข้าร่วมจะได้รับการยืนยันโดยแอดมิน"]}),t.jsxs("li",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("svg",{style:{width:"16px",height:"16px",color:"#d97706",marginRight:"8px",marginTop:"2px",flexShrink:0},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"คุณจะได้รับรหัสซีเรียลผ่านอีเมลจากแอดมิน"]}),t.jsxs("li",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("svg",{style:{width:"16px",height:"16px",color:"#d97706",marginRight:"8px",marginTop:"2px",flexShrink:0},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"อีเมล 1 ตัวสามารถลงทะเบียนได้ 1 ครั้งเท่านั้น"]}),t.jsxs("li",{style:{display:"flex",alignItems:"flex-start"},children:[t.jsx("svg",{style:{width:"16px",height:"16px",color:"#d97706",marginRight:"8px",marginTop:"2px",flexShrink:0},fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ติดต่อเจ้าหน้าที่หากมีปัญหา"]})]})]})]})})},xj=()=>{const[s,e]=E.useState({provider:"gmail",smtp_host:"",smtp_port:587,smtp_secure:!1,username:"",password:"",from_email:"",from_name:"",client_id:"",client_secret:"",refresh_token:""}),[n,i]=E.useState(!0),[o,l]=E.useState(!1),[c,u]=E.useState(!1),[h,m]=E.useState(""),[p,x]=E.useState(""),[y,v]=E.useState(""),[w,j]=E.useState(""),[N,_]=E.useState("");E.useEffect(()=>{P(),C()},[]);const C=async()=>{try{(await ie.get("/health")).data.status==="ok"&&_("✅ เซิร์ฟเวอร์พร้อมใช้งาน")}catch{_("❌ ไม่สามารถเชื่อมต่อเซิร์ฟเวอร์ได้")}},P=async()=>{try{i(!0);const k=await ie.get("/mail/settings");k.data.success&&e(k.data.data||s)}catch(k){console.error("Error fetching mail settings:",k),m("ไม่สามารถโหลดการตั้งค่าอีเมลได้")}finally{i(!1)}},W=async k=>{k.preventDefault(),l(!0),m(""),x("");try{const M=await ie.put("/mail/settings",s);M.data.success?(x("บันทึกการตั้งค่าอีเมลสำเร็จ!"),setTimeout(()=>x(""),3e3)):m(M.data.message||"ไม่สามารถบันทึกการตั้งค่าได้")}catch(M){console.error("Error saving mail settings:",M),m(M.response?.data?.message||"ไม่สามารถบันทึกการตั้งค่าได้")}finally{l(!1)}},L=async()=>{u(!0),v(""),m("");try{const k=await ie.post("/test-email",{to:w||s.from_email||"midnmega@gmail.com",subject:"🎉 ทดสอบส่งอีเมลจากระบบ Workflow",html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
            <h2 style="color: #2c3e50;">🎉 ทดสอบส่งอีเมลสำเร็จ!</h2>
            <p>สวัสดี! นี่คือการทดสอบส่งอีเมลจากระบบ workflow ผ่าน Gmail SMTP</p>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 20px 0;">
              <p><strong>เวลา:</strong> ${new Date().toLocaleString("th-TH")}</p>
              <p><strong>ระบบ:</strong> Mail Test Server</p>
              <p><strong>SMTP:</strong> Gmail (smtp.gmail.com)</p>
            </div>
            <p style="color: #27ae60;">✅ การตั้งค่า SMTP ทำงานได้ปกติ!</p>
          </div>
        `,text:"สวัสดี! นี่คือการทดสอบส่งอีเมลจากระบบ workflow ผ่าน Gmail SMTP"});k.data.ok?v(`✅ ส่งอีเมลทดสอบสำเร็จ! Message ID: ${k.data.messageId}`):v("❌ ส่งอีเมลทดสอบไม่สำเร็จ: "+k.data.error)}catch(k){console.error("Error testing mail:",k),v("❌ ส่งอีเมลทดสอบไม่สำเร็จ: "+(k.response?.data?.error||k.message||"เกิดข้อผิดพลาด"))}finally{u(!1)}},Y=k=>{const{name:M,value:B,type:$,checked:q}=k.target;e(z=>({...z,[M]:$==="checkbox"?q:B}))};return n?t.jsx("div",{className:"admin-dashboard",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"text-center",style:{padding:"40px 20px"},children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("div",{className:"mt-3",children:"กำลังโหลดการตั้งค่าอีเมล..."})]})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:"ตั้งค่าอีเมล"}),t.jsx("p",{children:"จัดการการตั้งค่าสำหรับส่งอีเมลแจ้งเตือน"}),N&&t.jsxs("div",{className:`alert ${N.includes("✅")?"alert-success":"alert-danger"} mb-0`,children:[t.jsx("i",{className:"fas fa-info-circle me-2"}),N]})]}),h&&t.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[h,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>m("")})]}),p&&t.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[p,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),y&&t.jsxs("div",{className:`alert ${y.includes("สำเร็จ")?"alert-success":"alert-warning"} alert-dismissible fade show`,role:"alert",children:[y,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>v("")})]}),t.jsx("div",{className:"form-container",children:t.jsxs("form",{onSubmit:W,children:[t.jsxs("div",{className:"form-header",children:[t.jsx("h2",{children:"การตั้งค่าผู้ให้บริการอีเมล"}),t.jsx("p",{children:"เลือกและกำหนดค่าผู้ให้บริการอีเมลสำหรับส่งการแจ้งเตือน"})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"provider",className:"form-label",children:[t.jsx("i",{className:"fas fa-envelope me-2"}),"ผู้ให้บริการ *"]}),t.jsxs("select",{className:"form-select",id:"provider",name:"provider",value:s.provider,onChange:Y,required:!0,children:[t.jsx("option",{value:"gmail",children:"Gmail (SMTP)"}),t.jsx("option",{value:"gmail-oauth",children:"Gmail (OAuth2)"}),t.jsx("option",{value:"outlook",children:"Outlook (SMTP)"}),t.jsx("option",{value:"custom",children:"กำหนดเอง"})]})]}),s.provider==="gmail"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"username",className:"form-label",children:[t.jsx("i",{className:"fas fa-user me-2"}),"อีเมล *"]}),t.jsx("input",{type:"email",className:"form-control",id:"username",name:"username",value:s.username,onChange:Y,required:!0,placeholder:"your-email@gmail.com"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"password",className:"form-label",children:[t.jsx("i",{className:"fas fa-lock me-2"}),"รหัสผ่านแอป *"]}),t.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:s.password,onChange:Y,required:!0,placeholder:"รหัสผ่านแอป (App Password)"})]})})]})}),s.provider==="gmail-oauth"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"client_id",className:"form-label",children:[t.jsx("i",{className:"fas fa-key me-2"}),"Client ID *"]}),t.jsx("input",{type:"text",className:"form-control",id:"client_id",name:"client_id",value:s.client_id,onChange:Y,required:!0,placeholder:"Google OAuth2 Client ID"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"client_secret",className:"form-label",children:[t.jsx("i",{className:"fas fa-key me-2"}),"Client Secret *"]}),t.jsx("input",{type:"password",className:"form-control",id:"client_secret",name:"client_secret",value:s.client_secret,onChange:Y,required:!0,placeholder:"Google OAuth2 Client Secret"})]})})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"refresh_token",className:"form-label",children:[t.jsx("i",{className:"fas fa-refresh me-2"}),"Refresh Token *"]}),t.jsx("input",{type:"text",className:"form-control",id:"refresh_token",name:"refresh_token",value:s.refresh_token,onChange:Y,required:!0,placeholder:"OAuth2 Refresh Token"})]})]}),s.provider==="custom"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"smtp_host",className:"form-label",children:[t.jsx("i",{className:"fas fa-server me-2"}),"SMTP Host *"]}),t.jsx("input",{type:"text",className:"form-control",id:"smtp_host",name:"smtp_host",value:s.smtp_host,onChange:Y,required:!0,placeholder:"smtp.example.com"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"smtp_port",className:"form-label",children:[t.jsx("i",{className:"fas fa-plug me-2"}),"SMTP Port *"]}),t.jsx("input",{type:"number",className:"form-control",id:"smtp_port",name:"smtp_port",value:s.smtp_port,onChange:Y,required:!0,placeholder:"587"})]})})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"username",className:"form-label",children:[t.jsx("i",{className:"fas fa-user me-2"}),"ชื่อผู้ใช้ *"]}),t.jsx("input",{type:"text",className:"form-control",id:"username",name:"username",value:s.username,onChange:Y,required:!0,placeholder:"username"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"password",className:"form-label",children:[t.jsx("i",{className:"fas fa-lock me-2"}),"รหัสผ่าน *"]}),t.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:s.password,onChange:Y,required:!0,placeholder:"password"})]})})]}),t.jsx("div",{className:"form-group",children:t.jsxs("div",{className:"form-check",children:[t.jsx("input",{className:"form-check-input",type:"checkbox",id:"smtp_secure",name:"smtp_secure",checked:s.smtp_secure,onChange:Y}),t.jsx("label",{className:"form-check-label",htmlFor:"smtp_secure",children:"ใช้การเชื่อมต่อที่ปลอดภัย (TLS/SSL)"})]})})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"from_email",className:"form-label",children:[t.jsx("i",{className:"fas fa-at me-2"}),"อีเมลผู้ส่ง *"]}),t.jsx("input",{type:"email",className:"form-control",id:"from_email",name:"from_email",value:s.from_email,onChange:Y,required:!0,placeholder:"noreply@example.com"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"from_name",className:"form-label",children:[t.jsx("i",{className:"fas fa-user-tag me-2"}),"ชื่อผู้ส่ง *"]}),t.jsx("input",{type:"text",className:"form-control",id:"from_name",name:"from_name",value:s.from_name,onChange:Y,required:!0,placeholder:"ระบบจัดการกิจกรรม"})]})})]}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{htmlFor:"test_email",className:"form-label",children:[t.jsx("i",{className:"fas fa-envelope-open me-2"}),"อีเมลสำหรับทดสอบ"]}),t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"email",className:"form-control",id:"test_email",value:w,onChange:k=>j(k.target.value),placeholder:"test@example.com (ถ้าไม่กรอกจะใช้อีเมลผู้ส่ง)"}),t.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:L,disabled:c||o,children:c?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังทดสอบ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane me-2"}),"ทดสอบส่งอีเมล"]})})]})]}),t.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[t.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>P(),disabled:o,children:"รีเซ็ต"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังบันทึก..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save me-2"}),"บันทึกการตั้งค่า"]})})]})]})}),t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"คำแนะนำการตั้งค่า"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsx("div",{className:"card bg-light",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("h6",{className:"card-title",children:[t.jsx("i",{className:"fab fa-google me-2"}),"Gmail SMTP"]}),t.jsxs("p",{className:"card-text",children:[t.jsx("strong",{children:"SMTP Host:"})," smtp.gmail.com",t.jsx("br",{}),t.jsx("strong",{children:"Port:"})," 587",t.jsx("br",{}),t.jsx("strong",{children:"Security:"})," TLS",t.jsx("br",{}),t.jsx("strong",{children:"หมายเหตุ:"})," ต้องใช้รหัสผ่านแอป (App Password)"]})]})})}),t.jsx("div",{className:"col-md-6",children:t.jsx("div",{className:"card bg-light",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("h6",{className:"card-title",children:[t.jsx("i",{className:"fab fa-microsoft me-2"}),"Outlook SMTP"]}),t.jsxs("p",{className:"card-text",children:[t.jsx("strong",{children:"SMTP Host:"})," smtp-mail.outlook.com",t.jsx("br",{}),t.jsx("strong",{children:"Port:"})," 587",t.jsx("br",{}),t.jsx("strong",{children:"Security:"})," TLS",t.jsx("br",{}),t.jsx("strong",{children:"หมายเหตุ:"})," ใช้รหัสผ่านปกติ"]})]})})})]})]})]})})},bj=()=>{const[s,e]=E.useState({to:"midnmega@gmail.com",subject:"🎉 ทดสอบส่งอีเมลจากระบบ Workflow",message:"สวัสดี! นี่คือการทดสอบส่งอีเมลจากระบบ workflow ผ่าน Gmail SMTP"}),[n,i]=E.useState(!1),[o,l]=E.useState(""),[c,u]=E.useState(""),h=y=>{const{name:v,value:w}=y.target;e(j=>({...j,[v]:w}))},m=async y=>{y.preventDefault(),i(!0),l(""),u("");try{const v=await ie.post("/test-email",{to:s.to,subject:s.subject,html:`
          <div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 600px; margin: 0 auto; background: #ffffff; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; text-align: center;">
              <h1 style="color: white; margin: 0; font-size: 28px; font-weight: 600;">🎉 ทดสอบส่งอีเมลสำเร็จ!</h1>
              <p style="color: rgba(255,255,255,0.9); margin: 10px 0 0 0; font-size: 16px;">ระบบ Workflow Mail Testing</p>
            </div>
            <div style="padding: 30px;">
              <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #28a745;">
                <h3 style="color: #2c3e50; margin: 0 0 15px 0; font-size: 18px;">📧 ข้อมูลการส่งอีเมล</h3>
                <p style="margin: 5px 0; color: #495057;"><strong>ผู้รับ:</strong> ${s.to}</p>
                <p style="margin: 5px 0; color: #495057;"><strong>หัวข้อ:</strong> ${s.subject}</p>
                <p style="margin: 5px 0; color: #495057;"><strong>เวลา:</strong> ${new Date().toLocaleString("th-TH")}</p>
                <p style="margin: 5px 0; color: #495057;"><strong>SMTP:</strong> Gmail (smtp.gmail.com:587)</p>
              </div>
              <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border-left: 4px solid #2196f3;">
                <h3 style="color: #1565c0; margin: 0 0 15px 0; font-size: 18px;">💬 ข้อความ</h3>
                <p style="margin: 0; color: #424242; line-height: 1.6; white-space: pre-wrap;">${s.message}</p>
              </div>
              <div style="text-align: center; margin-top: 25px; padding: 20px; background: #f1f8e9; border-radius: 8px; border-left: 4px solid #4caf50;">
                <p style="margin: 0; color: #2e7d32; font-weight: 600; font-size: 16px;">✅ การตั้งค่า SMTP ทำงานได้ปกติ!</p>
                <p style="margin: 5px 0 0 0; color: #388e3c; font-size: 14px;">ระบบพร้อมสำหรับการส่งอีเมลแจ้งเตือน</p>
              </div>
            </div>
            <div style="background: #f8f9fa; padding: 20px; text-align: center; border-top: 1px solid #dee2e6;">
              <p style="margin: 0; color: #6c757d; font-size: 14px;">ส่งจากระบบ Workflow Management System</p>
            </div>
          </div>
        `,text:s.message});v.data.ok?(l(`✅ ส่งอีเมลสำเร็จ! Message ID: ${v.data.messageId}`),u("success")):(l("❌ ส่งอีเมลไม่สำเร็จ: "+v.data.error),u("error"))}catch(v){console.error("Error sending email:",v),l("❌ ส่งอีเมลไม่สำเร็จ: "+(v.response?.data?.error||v.message||"เกิดข้อผิดพลาด")),u("error")}finally{i(!1)}},p=[{name:"ทดสอบระบบ",subject:"🎉 ทดสอบส่งอีเมลจากระบบ Workflow",message:"สวัสดี! นี่คือการทดสอบส่งอีเมลจากระบบ workflow ผ่าน Gmail SMTP"},{name:"แจ้งเตือนกิจกรรม",subject:"📅 แจ้งเตือนกิจกรรมใหม่",message:"มีกิจกรรมใหม่ที่คุณอาจสนใจ กรุณาตรวจสอบในระบบ"},{name:"ยืนยันการเข้าร่วม",subject:"✅ ยืนยันการเข้าร่วมกิจกรรม",message:"ขอบคุณสำหรับการลงทะเบียนเข้าร่วมกิจกรรม เราจะติดต่อกลับในเร็วๆ นี้"}],x=y=>{e(v=>({...v,subject:y.subject,message:y.message}))};return t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"admin-header",children:[t.jsx("h1",{children:"📧 ทดสอบส่งอีเมล"}),t.jsx("p",{children:"ทดสอบการส่งอีเมลผ่าน Gmail SMTP"})]}),o&&t.jsxs("div",{className:`alert ${c==="success"?"alert-success":"alert-danger"} alert-dismissible fade show`,role:"alert",children:[o,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-4",children:[t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"📝 เทมเพลตด่วน"}),t.jsx("p",{className:"text-muted",children:"เลือกเทมเพลตเพื่อกรอกข้อมูลอัตโนมัติ"}),t.jsx("div",{className:"d-grid gap-2",children:p.map((y,v)=>t.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>x(y),disabled:n,children:y.name},v))})]}),t.jsxs("div",{className:"content-card mt-3",children:[t.jsx("h3",{children:"🔧 สถานะระบบ"}),t.jsxs("div",{className:"d-flex align-items-center mb-2",children:[t.jsx("span",{className:"badge bg-success me-2",children:"✅"}),t.jsx("span",{children:"Gmail SMTP พร้อมใช้งาน"})]}),t.jsxs("div",{className:"d-flex align-items-center mb-2",children:[t.jsx("span",{className:"badge bg-info me-2",children:"📡"}),t.jsx("span",{children:"smtp.gmail.com:587"})]}),t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("span",{className:"badge bg-warning me-2",children:"🔐"}),t.jsx("span",{children:"App Password Authentication"})]})]})]}),t.jsx("div",{className:"col-md-8",children:t.jsx("div",{className:"content-card",children:t.jsxs("form",{onSubmit:m,children:[t.jsxs("div",{className:"form-group mb-3",children:[t.jsxs("label",{htmlFor:"to",className:"form-label",children:[t.jsx("i",{className:"fas fa-envelope me-2"}),"ผู้รับ *"]}),t.jsx("input",{type:"email",className:"form-control form-control-lg",id:"to",name:"to",value:s.to,onChange:h,required:!0,placeholder:"example@gmail.com"})]}),t.jsxs("div",{className:"form-group mb-3",children:[t.jsxs("label",{htmlFor:"subject",className:"form-label",children:[t.jsx("i",{className:"fas fa-tag me-2"}),"หัวข้อ *"]}),t.jsx("input",{type:"text",className:"form-control form-control-lg",id:"subject",name:"subject",value:s.subject,onChange:h,required:!0,placeholder:"หัวข้ออีเมล"})]}),t.jsxs("div",{className:"form-group mb-4",children:[t.jsxs("label",{htmlFor:"message",className:"form-label",children:[t.jsx("i",{className:"fas fa-comment me-2"}),"ข้อความ *"]}),t.jsx("textarea",{className:"form-control",id:"message",name:"message",value:s.message,onChange:h,required:!0,rows:"6",placeholder:"พิมพ์ข้อความที่ต้องการส่ง...",style:{resize:"vertical"}})]}),t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("div",{className:"text-muted",children:t.jsxs("small",{children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"อีเมลจะถูกส่งผ่าน Gmail SMTP"]})}),t.jsx("button",{type:"submit",className:"btn btn-primary btn-lg px-4",disabled:n,children:n?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังส่ง..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane me-2"}),"ส่งอีเมล"]})})]})]})})})]}),t.jsxs("div",{className:"content-card mt-4",children:[t.jsx("h3",{children:"💡 คำแนะนำ"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsx("div",{className:"card bg-light h-100",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("h6",{className:"card-title",children:[t.jsx("i",{className:"fas fa-check-circle text-success me-2"}),"การใช้งาน"]}),t.jsxs("ul",{className:"mb-0",children:[t.jsx("li",{children:"กรอกอีเมลผู้รับที่ถูกต้อง"}),t.jsx("li",{children:"เลือกเทมเพลตหรือพิมพ์ข้อความเอง"}),t.jsx("li",{children:'กดปุ่ม "ส่งอีเมล" เพื่อทดสอบ'}),t.jsx("li",{children:"ตรวจสอบกล่องจดหมายของผู้รับ"})]})]})})}),t.jsx("div",{className:"col-md-6",children:t.jsx("div",{className:"card bg-light h-100",children:t.jsxs("div",{className:"card-body",children:[t.jsxs("h6",{className:"card-title",children:[t.jsx("i",{className:"fas fa-cog text-info me-2"}),"การตั้งค่า"]}),t.jsxs("ul",{className:"mb-0",children:[t.jsx("li",{children:"ใช้ Gmail App Password"}),t.jsx("li",{children:"SMTP: smtp.gmail.com:587"}),t.jsx("li",{children:"รองรับ HTML และ Text"}),t.jsx("li",{children:"แสดงผลแบบ Responsive"})]})]})})})]})]})]})})},Oc=s=>typeof s=="string"?s.toLowerCase():"",Ma=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();return`${n}/${i}/${o}`},bm=s=>({OPEN:"bg-success",DRAFT:"bg-warning text-dark",CANCELLED:"bg-danger",COMPLETED:"bg-info text-dark"})[s]||"bg-secondary",ym=s=>({OPEN:"เปิดรับสมัคร",DRAFT:"ร่าง",CANCELLED:"ยกเลิก",COMPLETED:"เสร็จสิ้น"})[s]||s,yj=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(null),[p,x]=E.useState(!1),[y,v]=E.useState(""),[w,j]=E.useState([]),[N,_]=E.useState("all"),[C,P]=E.useState(""),[W,L]=E.useState(!1);E.useEffect(()=>{Y()},[]);const Y=async()=>{try{i(!0),l("");const z=await ie.get("/admin/activities");if(console.log("🔍 [FRONTEND] Activities API response:",z.data),z?.data?.success){const ne=z.data.data?.activities||[];console.log("📊 [FRONTEND] Activities data:",ne.map(ee=>({id:ee.id,title:ee.title,participant_count:ee.participant_count,checkins:ee.checkins}))),e(ne)}else e([])}catch(z){console.error("Error fetching activities:",z),l("ไม่สามารถโหลดข้อมูลกิจกรรมได้")}finally{i(!1)}},k=async z=>{try{l("");const ne=await ie.get(`/activities/${z}`);if(ne?.data?.success){const ee=ne.data.data?.activity;m(ee||null);try{const U=await ie.get(`/admin/activities/${z}/participants`);U?.data?.success?j(U.data.data?.participants||[]):j([])}catch(U){console.warn("Fetch participants failed:",U),j([])}if(ee?.public_slug){const U=`${window.location.origin}/checkin/${ee.public_slug}`;v(U)}else v("");x(!0)}}catch(ne){console.error("Error fetching activity details:",ne),l("ไม่สามารถโหลดรายละเอียดกิจกรรมได้")}},M=async(z,ne)=>{try{l("");const ee=ne==="OPEN"?"DRAFT":"OPEN";(await ie.put(`/activities/${z}`,{status:ee}))?.data?.success?(e(F=>F.map(Q=>Q.id===z?{...Q,status:ee}:Q)),h?.id===z&&m(F=>F&&{...F,status:ee}),_("all"),u(`กิจกรรม${ee==="DRAFT"?"ปิดรับสมัคร":"เปิดรับสมัคร"}แล้ว`),setTimeout(()=>u(""),3e3)):l("ไม่สามารถอัปเดตสถานะกิจกรรมได้")}catch(ee){console.error("Error updating activity status:",ee),l("ไม่สามารถอัปเดตสถานะกิจกรรมได้")}},B=E.useMemo(()=>{const z=Oc(C);return(s||[]).filter(ne=>{const ee=N==="all"||ne?.status===N,U=Oc(ne?.title),F=Oc(ne?.description),Q=U.includes(z)||F.includes(z);return ee&&Q})},[s,N,C]),$=E.useMemo(()=>(s||[]).reduce((z,ne)=>{const ee=ne?.status||"UNKNOWN";return z[ee]=(z[ee]||0)+1,z},{}),[s]),q=()=>{x(!1),m(null),j([]),v("")};return n?t.jsx("div",{className:"admin-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:400},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"admin-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"h3 mb-1",children:"จัดการกิจกรรม"}),t.jsx("p",{className:"text-muted mb-0",children:"จัดการกิจกรรมทั้งหมดในระบบ"})]}),t.jsxs(Ne,{to:"/admin/activities/create",className:"btn btn-primary",children:[t.jsx("i",{className:"fas fa-plus me-2"}),"สร้างกิจกรรมใหม่"]})]})}),o&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o]}),c&&t.jsxs("div",{className:"alert alert-success",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),c]}),t.jsx("div",{className:"mb-2 d-flex align-items-center gap-2",children:t.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>L(z=>!z),children:[t.jsx("i",{className:"fas fa-bug me-2"}),W?"ซ่อน Debug":"แสดง Debug"]})}),W&&t.jsxs("div",{className:"alert alert-info",role:"alert",children:[t.jsx("strong",{children:"Debug Info:"}),t.jsx("br",{}),"Total Activities: ",s.length,t.jsx("br",{}),"Current Filter: ",N,t.jsx("br",{}),"Filtered Count: ",B.length,t.jsx("br",{}),"Activities by Status: ",JSON.stringify($)]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("h5",{className:"mb-0",children:"รายการกิจกรรม"}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("select",{className:"form-select",style:{width:"auto"},value:N,onChange:z=>_(z.target.value),children:[t.jsxs("option",{value:"all",children:["ทั้งหมด (",s.length,")"]}),t.jsxs("option",{value:"OPEN",children:["เปิดรับสมัคร (",$.OPEN||0,")"]}),t.jsxs("option",{value:"DRAFT",children:["ร่าง (",$.DRAFT||0,")"]}),t.jsxs("option",{value:"CANCELLED",children:["ยกเลิก (",$.CANCELLED||0,")"]}),t.jsxs("option",{value:"COMPLETED",children:["เสร็จสิ้น (",$.COMPLETED||0,")"]})]}),t.jsx("input",{type:"text",className:"form-control",placeholder:"ค้นหากิจกรรม...",value:C,onChange:z=>P(z.target.value),style:{width:250}})]})]})}),B.length===0?t.jsxs("div",{className:"empty-state text-center py-5",children:[t.jsx("i",{className:"fas fa-calendar-times fa-3x text-muted mb-3"}),t.jsx("h5",{children:"ไม่มีกิจกรรม"}),t.jsx("p",{className:"text-muted",children:"ยังไม่มีกิจกรรมที่ตรงกับเงื่อนไขการค้นหา"})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อกิจกรรม"}),t.jsx("th",{children:"วันที่จัด"}),t.jsx("th",{children:"ชั่วโมง"}),t.jsx("th",{children:"ผู้เข้าร่วม"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"จัดการ"})]})}),t.jsx("tbody",{children:B.map(z=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("strong",{children:z?.title||"-"})}),t.jsx("td",{children:Ma(z?.start_date)}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info text-dark",children:[z?.hours_awarded??0," ชม."]})}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-primary",children:[z?.participant_count??0," คน"]})}),t.jsx("td",{children:t.jsx("span",{className:`badge ${bm(z?.status)}`,children:ym(z?.status)})}),t.jsx("td",{children:t.jsxs("div",{className:"btn-group",role:"group",children:[t.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>k(z.id),title:"ดูรายละเอียด",children:[t.jsx("i",{className:"fas fa-eye"})," ดู"]}),t.jsxs("button",{className:`btn btn-sm ${z?.status==="OPEN"?"btn-outline-warning":"btn-outline-success"}`,onClick:()=>M(z.id,z?.status),title:z?.status==="OPEN"?"ปิดรับสมัคร":"เปิดรับสมัคร",children:[t.jsx("i",{className:`fas ${z?.status==="OPEN"?"fa-pause":"fa-play"}`})," ",z?.status==="OPEN"?"ปิด":"เปิด"]})]})})]},z.id))})]})})]}),p&&h&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"modal-backdrop show",onClick:q}),t.jsx("div",{className:"modal show",tabIndex:-1,role:"dialog",style:{display:"block"},children:t.jsx("div",{className:"modal-dialog modal-xl",role:"document",onClick:z=>z.stopPropagation(),children:t.jsxs("div",{className:"modal-content",style:{borderRadius:"20px",border:"none",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"20px 20px 0 0",border:"none",padding:"1.5rem 2rem"},children:[t.jsxs("h4",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-calendar-alt me-3"}),"รายละเอียดกิจกรรม"]}),t.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:q,style:{fontSize:"1.2rem"}})]}),t.jsx("div",{className:"modal-body",style:{padding:"2rem"},children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-lg-8",children:[t.jsxs("div",{className:"activity-info-card",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",padding:"2rem",marginBottom:"2rem"},children:[t.jsx("h2",{className:"mb-3",style:{color:"#2c3e50",fontWeight:700,fontSize:"2rem"},children:h?.title||"-"}),t.jsx("p",{className:"text-muted mb-4",style:{fontSize:"1.1rem",lineHeight:1.6},children:h?.description||"-"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-calendar text-primary me-2"}),t.jsx("strong",{children:"วันที่จัด:"}),t.jsx("br",{}),t.jsxs("span",{className:"text-muted",children:[Ma(h?.start_date)," - ",Ma(h?.end_date)]})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-map-marker-alt text-success me-2"}),t.jsx("strong",{children:"สถานที่:"}),t.jsx("br",{}),t.jsx("span",{className:"text-muted",children:h?.location||"-"})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-clock text-warning me-2"}),t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"}),t.jsx("br",{}),t.jsxs("span",{className:"badge bg-info text-dark",style:{fontSize:"1rem",padding:"0.5rem 1rem"},children:[h?.hours_awarded??0," ชั่วโมง"]})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-info-circle text-info me-2"}),t.jsx("strong",{children:"สถานะ:"}),t.jsx("br",{}),t.jsx("span",{className:`badge ${bm(h?.status)}`,style:{fontSize:"1rem",padding:"0.5rem 1rem"},children:ym(h?.status)})]})})]})]}),t.jsxs("div",{className:"participants-section",children:[t.jsxs("h5",{className:"mb-3",style:{color:"#2c3e50"},children:[t.jsx("i",{className:"fas fa-users me-2"}),"ผู้เข้าร่วม (",w?.length||0," คน)"]}),t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",style:{borderRadius:"10px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("thead",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:t.jsxs("tr",{children:[t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-user me-1"}),"ชื่อ"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-id-card me-1"}),"รหัสนักเรียน"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-envelope me-1"}),"อีเมล"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-calendar me-1"}),"วันที่ลงทะเบียน"]})]})}),t.jsx("tbody",{children:w&&w.length>0?w.map(z=>{const ne=z.name||z.full_name||(z.identifier_type==="NAME"?z.identifier_value:"-")||"-",ee=z.student_code||(z.identifier_type==="STUDENT_CODE"?z.identifier_value:"-")||"-",U=z.email||(z.identifier_type==="EMAIL"?z.identifier_value:"-")||"-";return t.jsxs("tr",{children:[t.jsx("td",{children:ne}),t.jsx("td",{children:ee}),t.jsx("td",{children:U}),t.jsx("td",{children:Ma(z.created_at)})]},z.id??`${z.identifier_type}-${z.identifier_value}-${z.created_at}`)}):t.jsx("tr",{children:t.jsxs("td",{colSpan:4,className:"text-center text-muted py-4",children:[t.jsx("i",{className:"fas fa-users fa-2x mb-2"}),t.jsx("br",{}),"ยังไม่มีผู้เข้าร่วม"]})})})]})})]})]}),t.jsx("div",{className:"col-lg-4",children:t.jsxs("div",{className:"qr-section",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",position:"sticky",top:"2rem"},children:[t.jsxs("h5",{className:"mb-4",children:[t.jsx("i",{className:"fas fa-qrcode me-2"}),"QR Code สำหรับลงทะเบียน"]}),y?t.jsxs("div",{children:[t.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",display:"inline-block"},children:t.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(y)}`,alt:"QR Code",style:{maxWidth:200,width:"100%",height:"auto"}})}),t.jsxs("p",{className:"mb-3",style:{fontSize:"0.9rem"},children:[t.jsx("i",{className:"fas fa-mobile-alt me-1"}),"สแกน QR Code เพื่อลงทะเบียนกิจกรรม"]}),t.jsxs("div",{className:"mb-3",style:{background:"rgba(255,255,255,0.1)",borderRadius:"10px",padding:"1rem",fontSize:"0.8rem",wordBreak:"break-all"},children:[t.jsx("strong",{children:"ลิงก์ลงทะเบียน:"}),t.jsx("br",{}),t.jsx("code",{style:{color:"#fff"},children:y})]}),t.jsxs("div",{className:"d-grid gap-2",children:[t.jsxs("a",{href:`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(y)}`,download:`qr-${(h?.title||"activity").replace(/[^a-zA-Z0-9ก-๙]/g,"-")}.png`,className:"btn btn-light btn-sm",style:{borderRadius:"10px"},children:[t.jsx("i",{className:"fas fa-download me-2"}),"ดาวน์โหลด QR Code"]}),t.jsxs("button",{className:"btn btn-outline-light btn-sm",style:{borderRadius:"10px"},onClick:()=>{navigator.clipboard.writeText(y),u("คัดลอกลิงก์ลงทะเบียนแล้ว!"),setTimeout(()=>u(""),3e3)},children:[t.jsx("i",{className:"fas fa-copy me-2"}),"คัดลอกลิงก์"]})]})]}):t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"fas fa-qrcode fa-3x mb-3",style:{opacity:.5}}),t.jsx("p",{children:"กำลังสร้าง QR Code..."})]})]})})]})}),t.jsxs("div",{className:"modal-footer",style:{background:"#f8f9fa",borderRadius:"0 0 20px 20px",border:"none",padding:"1.5rem 2rem"},children:[t.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:q,style:{borderRadius:"10px",padding:"0.5rem 1.5rem"},children:[t.jsx("i",{className:"fas fa-times me-2"}),"ปิด"]}),t.jsxs("button",{type:"button",className:`btn ${h?.status==="OPEN"?"btn-warning":"btn-success"}`,onClick:()=>M(h.id,h.status),style:{borderRadius:"10px",padding:"0.5rem 1.5rem"},children:[t.jsx("i",{className:`fas ${h?.status==="OPEN"?"fa-pause":"fa-play"} me-2`}),h?.status==="OPEN"?"ปิดรับสมัคร":"เปิดรับสมัคร"]})]})]})})})]})]})})},vj=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(null),[p,x]=E.useState([]),[y,v]=E.useState(new Set),[w,j]=E.useState("pending");E.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const k=await ie.get("/admin/activities");if(console.log("Activities response:",k.data),k.data.success){const M=k.data.data.activities||[];console.log("Activities data:",M);const B=await Promise.all(M.map(async $=>{try{const q=await ie.get(`/admin/activities/${$.id}/participants`);console.log(`Participants for activity ${$.id}:`,q.data);const z=q.data.success?q.data.data.participants||[]:[];console.log(`🔍 [FRONTEND] Raw participants data for activity ${$.id}:`,z.map(ee=>({id:ee.id,identifier_value:ee.identifier_value,serial_sent:ee.serial_sent,serial_sent_at:ee.serial_sent_at,fullData:ee})));const ne=z.map(ee=>({...ee,hasSerial:ee.serial_sent||!1}));return console.log(`✅ [FRONTEND] Processed participants for activity ${$.id}:`,ne.map(ee=>({id:ee.id,identifier_value:ee.identifier_value,hasSerial:ee.hasSerial,serial_sent:ee.serial_sent}))),{...$,participants:ne,pendingCount:ne.filter(ee=>!ee.hasSerial).length}}catch{return{...$,participants:[],pendingCount:0}}}));e(B),console.log("Final activities with participants:",B)}}catch(k){console.error("Error fetching activities:",k),l("ไม่สามารถโหลดข้อมูลกิจกรรมได้")}finally{i(!1)}},_=async(k,M,B="email")=>{try{console.log("🔵 [FRONTEND] Sending serial request to /serials/send:",{activity_id:k,participant_id:M,method:B,timestamp:new Date().toISOString()}),v(q=>new Set([...q,`${k}-${M}`]));const $=await ie.post("/serials/send",{activity_id:k,participant_id:M,method:B});if(console.log("📥 [FRONTEND] Received response:",$.data),$.data.success){console.log("✅ [FRONTEND] Success response data:",$.data.data);const q=$.data.data?.code||"N/A",z=$.data.data?.email_sent;if(console.log("📊 [FRONTEND] Extracted data:",{serialCode:q,emailSent:z,fullData:$.data.data}),u(`✅ ส่งซีเรียลสำเร็จ! รหัส: ${q}${z?" (อีเมลส่งแล้ว)":""}`),await N(),h){const ne=s.find(ee=>ee.id===h.id);ne&&m(ne)}}else console.log("❌ [FRONTEND] Error response:",$.data),l($.data.message||"ไม่สามารถส่งซีเรียลได้")}catch($){console.error("Error sending serial:",$);const q=$.response?.data?.message||"ไม่สามารถส่งซีเรียลได้";if(q.includes("Serial already exists")){if(console.log("🔄 [FRONTEND] Serial already exists - refreshing data to update status"),await N(),h){const z=s.find(ne=>ne.id===h.id);z&&m(z)}u("✅ ซีเรียลมีอยู่แล้ว - อัปเดตสถานะแล้ว")}else l(q)}finally{v($=>{const q=new Set($);return q.delete(`${k}-${M}`),q})}},C=async(k,M="email")=>{const B=s.find(q=>q.id===k);if(!B)return;const $=B.participants.filter(q=>!q.hasSerial);try{v(U=>new Set([...U,`all-${k}`]));const q=$.map(U=>ie.post("/serials/generate",{activity_id:k,participant_id:U.id,method:M})),z=await Promise.allSettled(q),ne=z.filter(U=>U.status==="fulfilled"&&U.value.data.success).length,ee=$.length-ne;if(ne>0){const F=z.filter(X=>X.status==="fulfilled"&&X.value.data.success).map(X=>X.value.data.data?.code).filter(Boolean).slice(0,3),Q=F.length>0?` รหัส: ${F.join(", ")}${F.length<ne?"...":""}`:"";u(`✅ ส่งซีเรียลสำเร็จ ${ne}/${$.length} คน${Q}${ee>0?` (ล้มเหลว ${ee} คน)`:""}`)}else l(`❌ ส่งซีเรียลล้มเหลวทั้งหมด ${$.length} คน`);if(await N(),h){const U=s.find(F=>F.id===h.id);U&&m(U)}}catch(q){console.error("Error sending serials to all:",q),l("ไม่สามารถส่งซีเรียลให้ทุกคนได้")}finally{v(q=>{const z=new Set(q);return z.delete(`all-${k}`),z})}},P=k=>({OPEN:"badge-success",DRAFT:"badge-warning",CANCELLED:"badge-danger",COMPLETED:"badge-info"})[k]||"badge-secondary",W=k=>({OPEN:"เปิดรับสมัคร",DRAFT:"ร่าง",CANCELLED:"ยกเลิก",COMPLETED:"เสร็จสิ้น"})[k]||k,L=k=>new Date(k).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=s.filter(k=>w==="pending"?k.pendingCount>0:w==="completed"?k.pendingCount===0&&k.participants.length>0:!0);return n?t.jsx("div",{className:"admin-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"admin-header",children:t.jsx("div",{className:"d-flex justify-content-between align-items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"h3 mb-1",children:"ส่งซีเรียล"}),t.jsx("p",{className:"text-muted mb-0",children:"ส่งรหัสซีเรียลให้ผู้เข้าร่วมกิจกรรม"})]})})}),o&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&t.jsxs("div",{className:"alert alert-success",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),c,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"mb-1",children:"📧 จัดการส่งซีเรียล"}),t.jsx("p",{className:"text-muted mb-0",children:"ส่งรหัสซีเรียลให้ผู้เข้าร่วมกิจกรรม"})]}),t.jsx("div",{className:"d-flex gap-2",children:t.jsxs("select",{className:"form-select",style:{width:"auto",minWidth:"150px"},value:w,onChange:k=>j(k.target.value),children:[t.jsx("option",{value:"pending",children:"🔔 รอส่งซีเรียล"}),t.jsx("option",{value:"completed",children:"✅ ส่งครบแล้ว"}),t.jsx("option",{value:"all",children:"📋 ทั้งหมด"})]})})]})}),Y.length===0?t.jsxs("div",{className:"empty-state text-center py-5",children:[t.jsx("i",{className:"fas fa-check-circle fa-4x text-success mb-4"}),t.jsx("h4",{className:"text-success",children:"🎉 ไม่มีกิจกรรมที่ต้องส่งซีเรียล"}),t.jsx("p",{className:"text-muted fs-5",children:"ทุกกิจกรรมได้ส่งซีเรียลครบแล้ว"})]}):t.jsx("div",{className:"row g-4",children:Y.map(k=>t.jsx("div",{className:"col-lg-6 col-xl-4",children:t.jsxs("div",{className:"card h-100 shadow-sm border-0",style:{borderRadius:"15px",transition:"all 0.3s ease",border:k.pendingCount>0?"2px solid #ffc107":"2px solid #28a745"},onMouseEnter:M=>{M.currentTarget.style.transform="translateY(-5px)",M.currentTarget.style.boxShadow="0 10px 25px rgba(0,0,0,0.15)"},onMouseLeave:M=>{M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header bg-gradient text-white",style:{background:k.pendingCount>0?"linear-gradient(135deg, #ffc107 0%, #ff8c00 100%)":"linear-gradient(135deg, #28a745 0%, #20c997 100%)",borderRadius:"15px 15px 0 0",border:"none"},children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h6",{className:"mb-0 fw-bold text-truncate",style:{maxWidth:"200px"},children:k.title}),t.jsx("span",{className:`badge ${P(k.status)} px-2 py-1`,children:W(k.status)})]})}),t.jsxs("div",{className:"card-body p-4",children:[t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"d-flex align-items-center mb-2",children:[t.jsx("i",{className:"fas fa-calendar-alt text-primary me-2"}),t.jsx("small",{className:"text-muted",children:L(k.start_date)})]}),t.jsxs("div",{className:"d-flex align-items-center mb-2",children:[t.jsx("i",{className:"fas fa-clock text-info me-2"}),t.jsxs("small",{className:"text-muted",children:[k.hours_awarded," ชั่วโมง"]})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"row g-2 text-center",children:[t.jsx("div",{className:"col-4",children:t.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"#e3f2fd"},children:[t.jsx("div",{className:"h5 mb-0 text-primary fw-bold",children:k.participants.length}),t.jsx("small",{className:"text-muted d-block",children:"ลงทะเบียน"})]})}),t.jsx("div",{className:"col-4",children:t.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"#e8f5e8"},children:[t.jsx("div",{className:"h5 mb-0 text-success fw-bold",children:k.participants.filter(M=>M.hasSerial).length}),t.jsx("small",{className:"text-muted d-block",children:"ส่งแล้ว"})]})}),t.jsx("div",{className:"col-4",children:t.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"#fff3cd"},children:[t.jsx("div",{className:"h5 mb-0 text-warning fw-bold",children:k.pendingCount}),t.jsx("small",{className:"text-muted d-block",children:"รอส่ง"})]})})]})}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[t.jsx("small",{className:"text-muted",children:"ความคืบหน้า"}),t.jsxs("small",{className:"text-muted",children:[k.participants.length>0?Math.round(k.participants.filter(M=>M.hasSerial).length/k.participants.length*100):0,"%"]})]}),t.jsx("div",{className:"progress",style:{height:"8px",borderRadius:"10px"},children:t.jsx("div",{className:"progress-bar bg-success",style:{width:`${k.participants.length>0?k.participants.filter(M=>M.hasSerial).length/k.participants.length*100:0}%`,borderRadius:"10px"}})})]}),k.pendingCount>0?t.jsxs("div",{className:"d-grid gap-2",children:[t.jsx("button",{className:"btn btn-warning btn-sm fw-bold",onClick:()=>C(k.id,"email"),disabled:y.has(`all-${k.id}`),style:{borderRadius:"10px"},children:y.has(`all-${k.id}`)?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังส่ง..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane me-2"}),"ส่งให้ทุกคน (",k.pendingCount," คน)"]})}),t.jsxs("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>m(k),style:{borderRadius:"10px"},children:[t.jsx("i",{className:"fas fa-list me-2"}),"ดูรายละเอียด"]})]}):t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"badge bg-success fs-6 px-3 py-2",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),"ส่งครบแล้ว"]}),t.jsxs("button",{className:"btn btn-outline-secondary btn-sm mt-2 w-100",onClick:()=>m(k),style:{borderRadius:"10px"},children:[t.jsx("i",{className:"fas fa-eye me-2"}),"ดูรายละเอียด"]})]})]})]})},k.id))})]}),h&&t.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:t.jsx("div",{className:"modal-dialog modal-xl",children:t.jsxs("div",{className:"modal-content",style:{borderRadius:"15px",border:"none"},children:[t.jsxs("div",{className:"modal-header bg-gradient text-white",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"15px 15px 0 0",border:"none"},children:[t.jsxs("div",{className:"flex-grow-1",children:[t.jsxs("h4",{className:"modal-title fw-bold",children:[t.jsx("i",{className:"fas fa-users me-2"}),"รายชื่อผู้เข้าร่วม"]}),t.jsx("h6",{className:"mb-0 opacity-75",children:h.title}),t.jsxs("div",{className:"d-flex gap-3 mt-3",children:[t.jsxs("span",{className:"badge bg-primary px-3 py-2",children:[t.jsx("i",{className:"fas fa-user-plus me-1"}),"ลงทะเบียน ",h.participants.length," คน"]}),t.jsxs("span",{className:"badge bg-success px-3 py-2",children:[t.jsx("i",{className:"fas fa-check me-1"}),"ส่งแล้ว ",h.participants.filter(k=>k.hasSerial).length," คน"]}),t.jsxs("span",{className:"badge bg-warning px-3 py-2",children:[t.jsx("i",{className:"fas fa-clock me-1"}),"รอส่ง ",h.pendingCount," คน"]})]})]}),t.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>m(null),style:{fontSize:"1.2rem"}})]}),t.jsx("div",{className:"modal-body p-4",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover align-middle",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"fw-bold",children:"👤 ชื่อ-นามสกุล"}),t.jsx("th",{className:"fw-bold",children:"🎓 รหัสนิสิต"}),t.jsx("th",{className:"fw-bold",children:"📧 อีเมล"}),t.jsx("th",{className:"fw-bold text-center",children:"📊 สถานะ"}),t.jsx("th",{className:"fw-bold text-center",children:"📅 วันที่ส่ง"}),t.jsx("th",{className:"fw-bold text-center",children:"⚡ จัดการ"})]})}),t.jsx("tbody",{children:h.participants.map((k,M)=>t.jsxs("tr",{className:M%2===0?"table-light":"",children:[t.jsx("td",{children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"avatar-sm bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"35px",height:"35px",fontSize:"14px"},children:k.name?k.name.charAt(0).toUpperCase():k.identifier_value.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"fw-bold",children:k.name||k.identifier_value}),k.identifier_type!=="EMAIL"&&t.jsxs("small",{className:"text-muted",children:["(",k.identifier_type==="USERNAME"?"Username":"Student Code",")"]})]})]})}),t.jsx("td",{children:t.jsx("span",{className:"badge bg-info text-dark",children:k.student_code||"-"})}),t.jsx("td",{children:t.jsx("small",{className:"text-muted",children:k.email||k.identifier_value})}),t.jsx("td",{className:"text-center",children:k.hasSerial?t.jsxs("span",{className:"badge bg-success px-3 py-2",children:[t.jsx("i",{className:"fas fa-check me-1"}),"ส่งแล้ว"]}):t.jsxs("span",{className:"badge bg-warning px-3 py-2",children:[t.jsx("i",{className:"fas fa-clock me-1"}),"รอส่ง"]})}),t.jsx("td",{className:"text-center",children:k.serial_sent_at?t.jsx("small",{className:"text-success fw-bold",children:L(k.serial_sent_at)}):t.jsx("span",{className:"text-muted",children:"-"})}),t.jsx("td",{className:"text-center",children:k.hasSerial?t.jsx("span",{className:"text-success",children:t.jsx("i",{className:"fas fa-check-circle"})}):t.jsx("button",{className:"btn btn-warning btn-sm px-3",onClick:()=>_(h.id,k.id,"email"),disabled:y.has(`${h.id}-${k.id}`),style:{borderRadius:"20px"},children:y.has(`${h.id}-${k.id}`)?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังส่ง..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-paper-plane me-2"}),"ส่งซีเรียล"]})})})]},k.id))})]})})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(null),children:"ปิด"})})]})})}),t.jsxs("div",{className:"content-card mt-4",children:[t.jsx("div",{className:"table-header",children:t.jsxs("h5",{className:"mb-4",children:[t.jsx("i",{className:"fas fa-chart-pie me-2 text-primary"}),"📊 สรุปสถิติการส่งซีเรียล"]})}),t.jsxs("div",{className:"row g-4",children:[t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"text-center p-4 rounded",style:{backgroundColor:"#e3f2fd",borderRadius:"15px"},children:[t.jsx("div",{className:"display-6 mb-2 text-primary",children:t.jsx("i",{className:"fas fa-users"})}),t.jsx("div",{className:"h3 mb-1 text-primary fw-bold",children:s.reduce((k,M)=>k+M.participants.length,0)}),t.jsx("small",{className:"text-muted fw-bold",children:"ผู้ลงทะเบียนทั้งหมด"})]})}),t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"text-center p-4 rounded",style:{backgroundColor:"#e8f5e8",borderRadius:"15px"},children:[t.jsx("div",{className:"display-6 mb-2 text-success",children:t.jsx("i",{className:"fas fa-check-circle"})}),t.jsx("div",{className:"h3 mb-1 text-success fw-bold",children:s.reduce((k,M)=>k+M.participants.filter(B=>B.hasSerial).length,0)}),t.jsx("small",{className:"text-muted fw-bold",children:"ส่งซีเรียลแล้ว"})]})}),t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"text-center p-4 rounded",style:{backgroundColor:"#fff3cd",borderRadius:"15px"},children:[t.jsx("div",{className:"display-6 mb-2 text-warning",children:t.jsx("i",{className:"fas fa-clock"})}),t.jsx("div",{className:"h3 mb-1 text-warning fw-bold",children:s.reduce((k,M)=>k+M.pendingCount,0)}),t.jsx("small",{className:"text-muted fw-bold",children:"รอส่งซีเรียล"})]})}),t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"text-center p-4 rounded",style:{backgroundColor:"#f0f8ff",borderRadius:"15px"},children:[t.jsx("div",{className:"display-6 mb-2 text-info",children:t.jsx("i",{className:"fas fa-calendar-alt"})}),t.jsx("div",{className:"h3 mb-1 text-info fw-bold",children:s.length}),t.jsx("small",{className:"text-muted fw-bold",children:"กิจกรรมทั้งหมด"})]})})]})]})]})})},Fc=({role:s,roleName:e,roleIcon:n})=>{const[i,o]=E.useState([]),[l,c]=E.useState(!0),[u,h]=E.useState(""),[m,p]=E.useState(""),[x,y]=E.useState(!1),[v,w]=E.useState(null),[j,N]=E.useState({name:"",email:"",username:"",student_code:"",birth_date:"",gender:"",phone:"",address:"",enrollment_year:"",program:"",password:"",is_active:!0}),[_,C]=E.useState(""),[P,W]=E.useState("all");E.useEffect(()=>{L()},[s]);const L=async()=>{try{c(!0);const F=await ie.get(`/admin/users?role=${s}`);F.data.success&&o(F.data.data.users||[])}catch(F){console.error("Error fetching users:",F),h("ไม่สามารถโหลดข้อมูลผู้ใช้ได้")}finally{c(!1)}},Y=async F=>{F.preventDefault(),c(!0),h(""),p("");try{if(!j.name||!j.email||!j.username){h("กรุณากรอกข้อมูลให้ครบถ้วน (ชื่อ, อีเมล, ชื่อผู้ใช้)"),c(!1);return}if(!v&&!j.password){h("กรุณากรอกรหัสผ่าน"),c(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email)){h("รูปแบบอีเมลไม่ถูกต้อง"),c(!1);return}if(!/^[a-zA-Z0-9_]{3,50}$/.test(j.username)){h("ชื่อผู้ใช้ต้องเป็นตัวอักษร ตัวเลข และ _ เท่านั้น (3-50 ตัวอักษร)"),c(!1);return}if(j.password&&j.password.length<6){h("รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"),c(!1);return}if(s==="STUDENT"&&!j.student_code?.trim()){h("กรุณากรอกรหัสนักเรียน"),c(!1);return}let re;if(v){const te={...j};te.password||delete te.password,s!=="STUDENT"&&!te.student_code?.trim()&&(te.student_code=null),re=await ie.put(`/admin/users/${v.id}`,te)}else{const te={...j,role:s};s!=="STUDENT"&&!te.student_code?.trim()&&(te.student_code=null),re=await ie.post("/admin/users",te)}re.data.success?(p(v?"อัปเดตผู้ใช้สำเร็จ":"สร้างผู้ใช้สำเร็จ"),y(!1),w(null),$(),L()):h(re.data.message||"ไม่สามารถบันทึกข้อมูลได้")}catch(Q){console.error("Error saving user:",Q),h(Q.response?.data?.message||"ไม่สามารถบันทึกข้อมูลได้")}finally{c(!1)}},k=F=>{w(F),N({name:F.name||"",email:F.email||"",username:F.username||"",student_code:F.student_code||"",birth_date:F.birth_date||"",gender:F.gender||"",phone:F.phone||"",address:F.address||"",enrollment_year:F.enrollment_year||"",program:F.program||"",password:"",is_active:F.is_active}),y(!0)},M=async F=>{if(window.confirm("คุณแน่ใจหรือไม่ที่จะลบผู้ใช้นี้?"))try{const Q=await ie.delete(`/admin/users/${F}`);Q.data.success?(p("ลบผู้ใช้สำเร็จ"),L()):h(Q.data.message||"ไม่สามารถลบผู้ใช้ได้")}catch(Q){console.error("Error deleting user:",Q),h(Q.response?.data?.message||"ไม่สามารถลบผู้ใช้ได้")}},B=async(F,Q)=>{try{const X=await ie.put(`/admin/users/${F}`,{is_active:!Q});X.data.success?(p("อัปเดตสถานะผู้ใช้สำเร็จ"),L()):h(X.data.message||"ไม่สามารถอัปเดตสถานะได้")}catch(X){console.error("Error updating user status:",X),h(X.response?.data?.message||"ไม่สามารถอัปเดตสถานะได้")}},$=()=>{N({name:"",email:"",username:"",student_code:"",birth_date:"",gender:"",phone:"",address:"",enrollment_year:"",program:"",password:"",is_active:!0})},q=()=>{y(!1),w(null),$()},z=F=>F?"badge-success":"badge-danger",ne=F=>F?"ใช้งาน":"ไม่ใช้งาน",ee=F=>`ID: ${F}`,U=i.filter(F=>{const Q=P==="all"||P==="active"&&F.is_active||P==="inactive"&&!F.is_active,X=F.name.toLowerCase().includes(_.toLowerCase())||F.email.toLowerCase().includes(_.toLowerCase())||F.student_code&&F.student_code.toLowerCase().includes(_.toLowerCase())||F.username&&F.username.toLowerCase().includes(_.toLowerCase());return Q&&X});return l&&i.length===0?t.jsx("div",{className:"admin-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"admin-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"h3 mb-1",children:[t.jsx("i",{className:`fas ${n} me-2`}),e]}),t.jsxs("p",{className:"text-muted mb-0",children:["จัดการบัญชี",e.toLowerCase()]})]}),t.jsxs("button",{className:"btn btn-primary",onClick:()=>y(!0),children:[t.jsx("i",{className:"fas fa-plus me-2"}),"เพิ่ม",e]})]})}),u&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),u,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>h("")})]}),m&&t.jsxs("div",{className:"alert alert-success",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),m,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>p("")})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsxs("h5",{className:"mb-0",children:["รายการ",e]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("select",{className:"form-select",style:{width:"auto"},value:P,onChange:F=>W(F.target.value),children:[t.jsx("option",{value:"all",children:"ทั้งหมด"}),t.jsx("option",{value:"active",children:"ใช้งาน"}),t.jsx("option",{value:"inactive",children:"ไม่ใช้งาน"})]}),t.jsx("input",{type:"text",className:"form-control",placeholder:`ค้นหา${e.toLowerCase()}...`,value:_,onChange:F=>C(F.target.value),style:{width:"250px"}})]})]})}),U.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:`fas ${n} fa-3x text-muted mb-3`}),t.jsxs("h5",{children:["ไม่มี",e.toLowerCase()]}),t.jsxs("p",{className:"text-muted",children:["ยังไม่มี",e.toLowerCase(),"ที่ตรงกับเงื่อนไขการค้นหา"]})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อ"}),t.jsx("th",{children:"อีเมล"}),t.jsx("th",{children:"ชื่อผู้ใช้"}),s==="STUDENT"&&t.jsx("th",{children:"รหัสนักเรียน"}),s==="STUDENT"&&t.jsx("th",{children:"เบอร์โทร"}),s==="STUDENT"&&t.jsx("th",{children:"หลักสูตร"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"ID"}),t.jsx("th",{children:"จัดการ"})]})}),t.jsx("tbody",{children:U.map(F=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"avatar-sm me-2",children:F.name?F.name.charAt(0).toUpperCase():"?"}),t.jsx("div",{children:t.jsx("strong",{children:F.name||"-"})})]})}),t.jsx("td",{children:F.email}),t.jsx("td",{children:F.username||"-"}),s==="STUDENT"&&t.jsx("td",{children:F.student_code||"-"}),s==="STUDENT"&&t.jsx("td",{children:F.phone||"-"}),s==="STUDENT"&&t.jsx("td",{children:F.program||"-"}),t.jsx("td",{children:t.jsx("span",{className:`badge ${z(F.is_active)}`,children:ne(F.is_active)})}),t.jsx("td",{children:ee(F.id)}),t.jsx("td",{children:t.jsxs("div",{className:"btn-group",role:"group",children:[t.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>k(F),title:"แก้ไข",children:[t.jsx("i",{className:"fas fa-edit"})," แก้ไข"]}),t.jsxs("button",{className:`btn btn-sm ${F.is_active?"btn-outline-warning":"btn-outline-success"}`,onClick:()=>B(F.id,F.is_active),title:F.is_active?"ปิดใช้งาน":"เปิดใช้งาน",children:[t.jsx("i",{className:`fas ${F.is_active?"fa-ban":"fa-check"}`})," ",F.is_active?"ปิด":"เปิด"]}),t.jsxs("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>M(F.id),title:"ลบ",children:[t.jsx("i",{className:"fas fa-trash"})," ลบ"]})]})})]},F.id))})]})})]}),x&&t.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:t.jsx("div",{className:"modal-dialog modal-lg",children:t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("h5",{className:"modal-title",children:[t.jsx("i",{className:`fas ${n} me-2`}),v?"แก้ไข":"เพิ่ม",e]}),t.jsx("button",{type:"button",className:"btn-close",onClick:q})]}),t.jsxs("form",{onSubmit:Y,children:[t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"form-label",children:"ชื่อ *"}),t.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:j.name,onChange:F=>N(Q=>({...Q,name:F.target.value})),required:!0,placeholder:"กรอกชื่อ"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"email",className:"form-label",children:"อีเมล *"}),t.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:j.email,onChange:F=>N(Q=>({...Q,email:F.target.value})),required:!0,placeholder:"กรอกอีเมล"})]})})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"username",className:"form-label",children:"ชื่อผู้ใช้ *"}),t.jsx("input",{type:"text",className:"form-control",id:"username",name:"username",value:j.username,onChange:F=>N(Q=>({...Q,username:F.target.value})),required:!0,placeholder:"กรอกชื่อผู้ใช้"})]})}),s==="STUDENT"&&t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"student_code",className:"form-label",children:"รหัสนักเรียน *"}),t.jsx("input",{type:"text",className:"form-control",id:"student_code",name:"student_code",value:j.student_code,onChange:F=>N(Q=>({...Q,student_code:F.target.value})),required:!0,placeholder:"กรอกรหัสนักเรียน"})]})})]}),s==="STUDENT"&&t.jsxs(t.Fragment,{children:[t.jsx("hr",{}),t.jsx("h6",{className:"mb-3",children:"📋 ข้อมูลส่วนตัว"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"birth_date",className:"form-label",children:"วันเกิด"}),t.jsx("input",{type:"date",className:"form-control",id:"birth_date",name:"birth_date",value:j.birth_date,onChange:F=>N(Q=>({...Q,birth_date:F.target.value})),placeholder:"เลือกวันเกิด"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"gender",className:"form-label",children:"เพศ"}),t.jsxs("select",{className:"form-control",id:"gender",name:"gender",value:j.gender,onChange:F=>N(Q=>({...Q,gender:F.target.value})),children:[t.jsx("option",{value:"",children:"เลือกเพศ"}),t.jsx("option",{value:"MALE",children:"ชาย"}),t.jsx("option",{value:"FEMALE",children:"หญิง"}),t.jsx("option",{value:"OTHER",children:"อื่นๆ"})]})]})})]}),t.jsx("h6",{className:"mb-3",children:"📞 ข้อมูลติดต่อ"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"phone",className:"form-label",children:"เบอร์โทรศัพท์"}),t.jsx("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:j.phone,onChange:F=>N(Q=>({...Q,phone:F.target.value})),placeholder:"0812345678"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"ที่อยู่"}),t.jsx("textarea",{className:"form-control",id:"address",name:"address",value:j.address,onChange:F=>N(Q=>({...Q,address:F.target.value})),placeholder:"กรอกที่อยู่",rows:"2"})]})})]}),t.jsx("h6",{className:"mb-3",children:"🎓 ข้อมูลการศึกษา"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"enrollment_year",className:"form-label",children:"ปีที่เข้าศึกษา"}),t.jsx("input",{type:"number",className:"form-control",id:"enrollment_year",name:"enrollment_year",value:j.enrollment_year,onChange:F=>N(Q=>({...Q,enrollment_year:F.target.value})),placeholder:"2567",min:"2500",max:"2600"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"program",className:"form-label",children:"หลักสูตรที่เรียน"}),t.jsx("input",{type:"text",className:"form-control",id:"program",name:"program",value:j.program,onChange:F=>N(Q=>({...Q,program:F.target.value})),placeholder:"เช่น วิศวกรรมคอมพิวเตอร์"})]})})]}),t.jsx("hr",{})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsxs("label",{htmlFor:"password",className:"form-label",children:["รหัสผ่าน ",v?"(เว้นว่างไว้หากไม่ต้องการเปลี่ยน)":"*"]}),t.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",value:j.password,onChange:F=>N(Q=>({...Q,password:F.target.value})),required:!v,placeholder:"กรอกรหัสผ่าน"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{className:"form-label",children:"สถานะ"}),t.jsxs("div",{className:"form-check",children:[t.jsx("input",{className:"form-check-input",type:"checkbox",id:"is_active",checked:j.is_active,onChange:F=>N(Q=>({...Q,is_active:F.target.checked}))}),t.jsx("label",{className:"form-check-label",htmlFor:"is_active",children:"เปิดใช้งาน"})]})]})})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:q,children:"ยกเลิก"}),t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังบันทึก..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save me-2"}),v?"อัปเดต":"สร้าง"]})})]})]})]})})})]})})},jj=()=>{const[s,e]=E.useState({required_hours:0}),[n,i]=E.useState({required_hours:0}),[o,l]=E.useState({totalUsers:0,totalActivities:0,totalCheckins:0}),[c,u]=E.useState(!0),[h,m]=E.useState(!1),[p,x]=E.useState(""),[y,v]=E.useState("");E.useEffect(()=>{w(),j()},[]);const w=async()=>{try{u(!0);const C=await ie.get("/admin/settings");if(console.log("🔧 [SETTINGS] API Response:",C.data),C.data.success){const P=C.data.data||{required_hours:0};console.log("🔧 [SETTINGS] Parsed settings:",P),e(P),i(P)}}catch(C){console.error("Error fetching settings:",C),x("ไม่สามารถโหลดการตั้งค่าได้")}finally{u(!1)}},j=async()=>{try{const C=await ie.get("/admin/stats");if(console.log("Stats response:",C.data),C.data.success){const P=C.data.data||{};l({totalUsers:P.totalUsers||0,totalActivities:P.totalActivities||0,totalCheckins:P.totalCheckins||0})}}catch(C){console.error("Error fetching stats:",C),l({totalUsers:0,totalActivities:0,totalCheckins:0})}},N=async C=>{C.preventDefault(),m(!0),x(""),v("");try{const P=await ie.put("/admin/settings",s);P.data.success?(i(s),v("บันทึกการตั้งค่าสำเร็จ"),setTimeout(()=>v(""),3e3)):x(P.data.message||"ไม่สามารถบันทึกการตั้งค่าได้")}catch(P){console.error("Error saving settings:",P),x(P.response?.data?.message||"ไม่สามารถบันทึกการตั้งค่าได้")}finally{m(!1)}},_=C=>{const{name:P,value:W}=C.target;e(L=>({...L,[P]:W})),p&&x(""),y&&v("")};return c?t.jsx("div",{className:"admin-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"admin-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"admin-header",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"h3 mb-1",children:[t.jsx("i",{className:"fas fa-cog me-2"}),"ตั้งค่าระบบ"]}),t.jsx("p",{className:"text-muted mb-0",children:"จัดการการตั้งค่าระบบเบื้องต้น"})]})}),p&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),p,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),y&&t.jsxs("div",{className:"alert alert-success",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),y,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>v("")})]}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-8",children:t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h5",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-graduation-cap me-2"}),"การตั้งค่าการเรียน"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("form",{onSubmit:N,children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"required_hours",className:"form-label",children:[t.jsx("i",{className:"fas fa-clock me-2"}),"จำนวนชั่วโมงที่นักเรียนต้องลงทะเบียน"]}),t.jsxs("div",{className:"input-group",children:[t.jsx("input",{type:"number",className:"form-control",id:"required_hours",name:"required_hours",value:s.required_hours,onChange:_,min:"0",step:"0.5",placeholder:"กรอกจำนวนชั่วโมง",required:!0}),t.jsx("span",{className:"input-group-text",children:"ชั่วโมง"})]}),t.jsx("div",{className:"form-text",children:"จำนวนชั่วโมงที่นักเรียนต้องเข้าร่วมกิจกรรมเพื่อผ่านเกณฑ์"}),n.required_hours!==s.required_hours&&t.jsxs("div",{className:"form-text text-info",children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"ค่าเดิม: ",n.required_hours," ชั่วโมง"]})]}),t.jsx("div",{className:"d-flex justify-content-end",children:t.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังบันทึก..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-save me-2"}),"บันทึกการตั้งค่า"]})})})]})})]})}),t.jsxs("div",{className:"col-md-4",children:[t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-info-circle me-2"}),"ข้อมูลระบบ"]})}),t.jsxs("div",{className:"card-body",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("strong",{children:"เวอร์ชันระบบ:"}),t.jsx("br",{}),t.jsx("span",{className:"text-muted",children:"v1.0.0"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("strong",{children:"ฐานข้อมูล:"}),t.jsx("br",{}),t.jsx("span",{className:"text-muted",children:"MySQL"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("strong",{children:"สถานะ:"}),t.jsx("br",{}),t.jsx("span",{className:"badge badge-success",children:"ใช้งานได้"})]})]})]}),t.jsxs("div",{className:"content-card mt-3",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"สถิติการใช้งาน"]})}),t.jsxs("div",{className:"card-body",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("small",{className:"text-muted",children:"จำนวนผู้ใช้ทั้งหมด"}),t.jsx("br",{}),t.jsxs("strong",{className:"text-primary",style:{fontSize:"1.2rem"},children:[(o.totalUsers||0).toLocaleString()," คน"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("small",{className:"text-muted",children:"กิจกรรมทั้งหมด"}),t.jsx("br",{}),t.jsxs("strong",{className:"text-success",style:{fontSize:"1.2rem"},children:[(o.totalActivities||0).toLocaleString()," กิจกรรม"]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("small",{className:"text-muted",children:"การเช็คอินทั้งหมด"}),t.jsx("br",{}),t.jsxs("strong",{className:"text-info",style:{fontSize:"1.2rem"},children:[(o.totalCheckins||0).toLocaleString()," ครั้ง"]})]})]})]})]})]})]})})},Nj=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(new Date),[h,m]=E.useState(new Date),[p,x]=E.useState(null),[y,v]=E.useState(!1);E.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const U=await ej.get("/activities");U.data.success?e(U.data.data.activities):l("ไม่สามารถโหลดกิจกรรมได้")}catch(U){l("ไม่สามารถโหลดกิจกรรมได้"),console.error("Error fetching activities:",U)}finally{i(!1)}},j=()=>{const U=c.getFullYear(),F=c.getMonth(),Q=new Date(U,F,1),X=new Date(Q);X.setDate(X.getDate()-Q.getDay());const re=[],te=new Date(X);for(let A=0;A<42;A++)re.push(new Date(te)),te.setDate(te.getDate()+1);return re},N=U=>s.filter(F=>{const Q=new Date(F.start_date),X=new Date(F.end_date),re=new Date(U);return re.setHours(0,0,0,0),Q.setHours(0,0,0,0),X.setHours(0,0,0,0),re>=Q&&re<=X}),_=()=>N(new Date),C=()=>N(h),P=U=>{const F=new Date(c);F.setMonth(F.getMonth()+U),u(F)},W=U=>{m(new Date(U))},L=U=>{x(U),v(!0)},Y=()=>{v(!1),x(null)},k=U=>U.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),M=U=>new Date(U).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),B=U=>{const F=new Date;return U.toDateString()===F.toDateString()},$=U=>U.getMonth()===c.getMonth(),q=U=>U.toDateString()===h.toDateString(),z=j(),ne=_(),ee=C();return n?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsx("div",{className:"text-center",children:t.jsx("div",{children:"กำลังโหลดกิจกรรม..."})})}):t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("h1",{style:{color:"#007bff",marginBottom:"10px"},children:"📅 ปฏิทินกิจกรรม"}),t.jsx("p",{style:{color:"#666"},children:"ดูกิจกรรมทั้งหมดและกิจกรรมของวันนี้"})]}),o&&t.jsx("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:o}),ne.length>0&&t.jsxs("div",{className:"card mb-4",style:{border:"2px solid #28a745"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#28a745",color:"white"},children:t.jsxs("h3",{style:{margin:0},children:["🎯 กิจกรรมวันนี้ (",k(new Date),")"]})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{style:{display:"grid",gap:"15px"},children:ne.map(U=>t.jsx("div",{className:"card",style:{border:"1px solid #dee2e6",cursor:"pointer"},onClick:()=>L(U),children:t.jsxs("div",{className:"card-body",children:[t.jsx("h5",{style:{color:"#007bff",marginBottom:"10px"},children:U.title}),U.description&&t.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:U.description}),t.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาเริ่ม:"})," ",M(U.start_date)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาสิ้นสุด:"})," ",M(U.end_date)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"})," ",U.hours_awarded," ชั่วโมง"]})]})]})},U.id))})})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{className:"card-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsx("h3",{style:{margin:0},children:c.toLocaleDateString("th-TH",{year:"numeric",month:"long"})}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsx("button",{className:"btn btn-outline-primary",onClick:()=>P(-1),style:{padding:"5px 10px"},children:"‹"}),t.jsx("button",{className:"btn btn-outline-primary",onClick:()=>u(new Date),style:{padding:"5px 10px"},children:"วันนี้"}),t.jsx("button",{className:"btn btn-outline-primary",onClick:()=>P(1),style:{padding:"5px 10px"},children:"›"})]})]})}),t.jsxs("div",{className:"card-body",children:[t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",marginBottom:"10px"},children:["อา","จ","อ","พ","พฤ","ศ","ส"].map(U=>t.jsx("div",{style:{textAlign:"center",fontWeight:"bold",padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6"},children:U},U))}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px"},children:z.map((U,F)=>{const Q=N(U),X=Q.length>0;return t.jsxs("div",{onClick:()=>W(U),style:{minHeight:"100px",padding:"8px",border:"1px solid #dee2e6",backgroundColor:q(U)?"#007bff":B(U)?"#e3f2fd":$(U)?"white":"#f8f9fa",color:q(U)?"white":$(U)?"black":"#6c757d",cursor:"pointer",position:"relative"},children:[t.jsx("div",{style:{fontWeight:B(U)?"bold":"normal",marginBottom:"5px"},children:U.getDate()}),X&&t.jsxs("div",{style:{fontSize:"10px",display:"flex",flexDirection:"column",gap:"2px"},children:[Q.slice(0,2).map(re=>t.jsx("div",{onClick:te=>{te.stopPropagation(),L(re)},style:{backgroundColor:q(U)?"rgba(255,255,255,0.3)":"#28a745",color:(q(U),"white"),padding:"2px 4px",borderRadius:"3px",fontSize:"9px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:te=>{te.target.style.backgroundColor=q(U)?"rgba(255,255,255,0.5)":"#218838"},onMouseLeave:te=>{te.target.style.backgroundColor=q(U)?"rgba(255,255,255,0.3)":"#28a745"},children:re.title},re.id)),Q.length>2&&t.jsxs("div",{style:{color:q(U)?"white":"#666",fontSize:"8px",textAlign:"center"},children:["+",Q.length-2," กิจกรรม"]})]})]},F)})})]})]}),ee.length>0&&t.jsxs("div",{className:"card mt-4",children:[t.jsx("div",{className:"card-header",children:t.jsxs("h4",{style:{margin:0},children:["กิจกรรมวันที่ ",k(h)]})}),t.jsx("div",{className:"card-body",children:t.jsx("div",{style:{display:"grid",gap:"15px"},children:ee.map(U=>t.jsx("div",{className:"card",style:{border:"1px solid #dee2e6",cursor:"pointer"},onClick:()=>L(U),children:t.jsxs("div",{className:"card-body",children:[t.jsx("h5",{style:{color:"#007bff",marginBottom:"10px"},children:U.title}),U.description&&t.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:U.description}),t.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",marginBottom:"10px"},children:[t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาเริ่ม:"})," ",M(U.start_date)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาสิ้นสุด:"})," ",M(U.end_date)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"})," ",U.hours_awarded," ชั่วโมง"]})]}),t.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:t.jsx("span",{className:`badge ${U.status==="OPEN"?"badge-success":"badge-secondary"}`,style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:U.status==="OPEN"?"#28a745":"#6c757d",color:"white"},children:U.status})})]})},U.id))})})]}),s.length===0&&t.jsx("div",{className:"card text-center",children:t.jsxs("div",{style:{padding:"40px"},children:[t.jsx("h3",{children:"ไม่มีกิจกรรม"}),t.jsx("p",{style:{color:"#666"},children:"ยังไม่มีกิจกรรมที่เปิดให้เข้าร่วม กรุณาติดตามข่าวสารจากเรา"})]})}),y&&p&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:Y,children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"10px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},onClick:U=>U.stopPropagation(),children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"2px solid #007bff",paddingBottom:"15px"},children:[t.jsx("h3",{style:{color:"#007bff",margin:0,fontSize:"1.5rem"},children:"📋 รายละเอียดกิจกรรม"}),t.jsx("button",{onClick:Y,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"5px"},children:"✕"})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h4",{style:{color:"#333",marginBottom:"15px",fontSize:"1.3rem"},children:p.title}),p.description&&t.jsx("p",{style:{color:"#666",marginBottom:"20px",lineHeight:"1.6"},children:p.description}),t.jsx("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:t.jsxs("div",{style:{display:"grid",gap:"15px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"20px",marginRight:"10px",color:"#28a745"},children:"⏰"}),t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาเริ่ม:"})," ",M(p.start_date)]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"20px",marginRight:"10px",color:"#dc3545"},children:"🏁"}),t.jsxs("div",{children:[t.jsx("strong",{children:"เวลาสิ้นสุด:"})," ",M(p.end_date)]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"20px",marginRight:"10px",color:"#ffc107"},children:"🏆"}),t.jsxs("div",{children:[t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"}),t.jsxs("span",{style:{color:"#28a745",fontWeight:"bold",fontSize:"1.1rem",marginLeft:"5px"},children:[p.hours_awarded," ชั่วโมง"]})]})]}),p.location&&t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"20px",marginRight:"10px",color:"#17a2b8"},children:"📍"}),t.jsxs("div",{children:[t.jsx("strong",{children:"สถานที่:"})," ",p.location]})]}),p.max_participants&&t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"20px",marginRight:"10px",color:"#6f42c1"},children:"👥"}),t.jsxs("div",{children:[t.jsx("strong",{children:"จำนวนผู้เข้าร่วมสูงสุด:"})," ",p.max_participants," คน"]})]})]})}),t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"20px",gap:"10px"},children:[t.jsx("span",{style:{fontWeight:"bold"},children:"สถานะ:"}),t.jsx("span",{className:`badge ${p.status==="OPEN"?"badge-success":"badge-secondary"}`,style:{padding:"6px 12px",borderRadius:"20px",fontSize:"14px",backgroundColor:p.status==="OPEN"?"#28a745":"#6c757d",color:"white",fontWeight:"bold"},children:p.status==="OPEN"?"🟢 เปิดรับสมัคร":"🔴 ปิดรับสมัคร"})]})]})]})})]})},wj=()=>{const{user:s}=Ze(),[e,n]=E.useState({name:"",email:"",username:"",student_code:"",birth_date:"",gender:"",phone:"",address:"",enrollment_year:"",program:""}),[i,o]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=E.useState(!1),[u,h]=E.useState(""),[m,p]=E.useState(""),[x,y]=E.useState("profile");E.useEffect(()=>{s&&n({name:s.name||"",email:s.email||"",username:s.username||"",student_code:s.student_code||"",birth_date:s.birth_date||"",gender:s.gender||"",phone:s.phone||"",address:s.address||"",enrollment_year:s.enrollment_year||"",program:s.program||""})},[s]);const v=_=>{const{name:C,value:P}=_.target;n(W=>({...W,[C]:P}))},w=_=>{const{name:C,value:P}=_.target;o(W=>({...W,[C]:P}))},j=async _=>{_.preventDefault(),c(!0),h(""),p("");try{const C=await ie.put("/auth/profile",e);C.data.success?(p("อัปเดตข้อมูลโปรไฟล์สำเร็จ"),window.location.reload()):h(C.data.message||"ไม่สามารถอัปเดตข้อมูลได้")}catch(C){console.error("Error updating profile:",C),h(C.response?.data?.message||"ไม่สามารถอัปเดตข้อมูลได้")}finally{c(!1)}},N=async _=>{if(_.preventDefault(),c(!0),h(""),p(""),i.newPassword!==i.confirmPassword){h("รหัสผ่านใหม่ไม่ตรงกัน"),c(!1);return}if(i.newPassword.length<6){h("รหัสผ่านใหม่ต้องมีอย่างน้อย 6 ตัวอักษร"),c(!1);return}try{const C=await ie.put("/auth/change-password",{currentPassword:i.currentPassword,newPassword:i.newPassword});C.data.success?(p("เปลี่ยนรหัสผ่านสำเร็จ"),o({currentPassword:"",newPassword:"",confirmPassword:""})):h(C.data.message||"ไม่สามารถเปลี่ยนรหัสผ่านได้")}catch(C){console.error("Error changing password:",C),h(C.response?.data?.message||"ไม่สามารถเปลี่ยนรหัสผ่านได้")}finally{c(!1)}};return t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #17a2b8 0%, #138496 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(23,162,184,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"👤 โปรไฟล์ของฉัน"}),t.jsxs("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:["สวัสดี ",s?.name,"! จัดการข้อมูลส่วนตัวและรหัสผ่านของคุณ"]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"⚙️"})})]})}),u&&t.jsx("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:u}),m&&t.jsx("div",{className:"alert alert-success",style:{backgroundColor:"#d4edda",color:"#155724",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #c3e6cb"},children:m}),t.jsxs("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsxs("ul",{className:"nav nav-tabs card-header-tabs",style:{border:"none"},children:[t.jsx("li",{className:"nav-item",children:t.jsx("button",{className:`nav-link ${x==="profile"?"active":""}`,onClick:()=>y("profile"),style:{border:"none",backgroundColor:x==="profile"?"#17a2b8":"transparent",color:x==="profile"?"white":"#17a2b8",borderRadius:"25px",padding:"10px 20px",marginRight:"10px",fontWeight:"bold",transition:"all 0.3s ease"},children:"📋 ข้อมูลส่วนตัว"})}),t.jsx("li",{className:"nav-item",children:t.jsx("button",{className:`nav-link ${x==="password"?"active":""}`,onClick:()=>y("password"),style:{border:"none",backgroundColor:x==="password"?"#17a2b8":"transparent",color:x==="password"?"white":"#17a2b8",borderRadius:"25px",padding:"10px 20px",fontWeight:"bold",transition:"all 0.3s ease"},children:"🔐 เปลี่ยนรหัสผ่าน"})})]})}),t.jsxs("div",{className:"card-body",children:[x==="profile"&&t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#007bff",marginBottom:"20px"},children:"📋 ข้อมูลพื้นฐาน"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"form-label",children:"ชื่อ-นามสกุล *"}),t.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:e.name,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"email",className:"form-label",children:"อีเมล *"}),t.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:e.email,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"username",className:"form-label",children:"ชื่อผู้ใช้ *"}),t.jsx("input",{type:"text",className:"form-control",id:"username",name:"username",value:e.username,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"student_code",className:"form-label",children:"รหัสนักศึกษา *"}),t.jsx("input",{type:"text",className:"form-control",id:"student_code",name:"student_code",value:e.student_code,onChange:v,required:!0})]})]}),t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#007bff",marginBottom:"20px"},children:"👤 ข้อมูลส่วนตัว"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"birth_date",className:"form-label",children:"วันเกิด"}),t.jsx("input",{type:"date",className:"form-control",id:"birth_date",name:"birth_date",value:e.birth_date,onChange:v})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"gender",className:"form-label",children:"เพศ"}),t.jsxs("select",{className:"form-control",id:"gender",name:"gender",value:e.gender,onChange:v,children:[t.jsx("option",{value:"",children:"เลือกเพศ"}),t.jsx("option",{value:"MALE",children:"ชาย"}),t.jsx("option",{value:"FEMALE",children:"หญิง"}),t.jsx("option",{value:"OTHER",children:"อื่นๆ"})]})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"phone",className:"form-label",children:"เบอร์โทรศัพท์"}),t.jsx("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:e.phone,onChange:v,placeholder:"0812345678"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"ที่อยู่"}),t.jsx("textarea",{className:"form-control",id:"address",name:"address",value:e.address,onChange:v,rows:"3",placeholder:"กรอกที่อยู่"})]})]})]}),t.jsxs("div",{className:"row mt-4",children:[t.jsx("div",{className:"col-12",children:t.jsx("h5",{style:{color:"#007bff",marginBottom:"20px"},children:"🎓 ข้อมูลการศึกษา"})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"enrollment_year",className:"form-label",children:"ปีที่เข้าศึกษา"}),t.jsx("input",{type:"number",className:"form-control",id:"enrollment_year",name:"enrollment_year",value:e.enrollment_year,onChange:v,placeholder:"2567",min:"2500",max:"2600"})]})}),t.jsx("div",{className:"col-md-6",children:t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"program",className:"form-label",children:"หลักสูตรที่เรียน"}),t.jsx("input",{type:"text",className:"form-control",id:"program",name:"program",value:e.program,onChange:v,placeholder:"เช่น วิศวกรรมคอมพิวเตอร์"})]})})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{type:"submit",className:"btn",disabled:l,style:{padding:"12px 40px",backgroundColor:"#17a2b8",border:"none",borderRadius:"25px",color:"white",fontSize:"1.1rem",fontWeight:"bold",boxShadow:"0 4px 15px rgba(23,162,184,0.3)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#138496",_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 20px rgba(23,162,184,0.4)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#17a2b8",_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 15px rgba(23,162,184,0.3)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังบันทึก..."]}):t.jsx(t.Fragment,{children:"💾 บันทึกข้อมูล"})})})]}),x==="password"&&t.jsx("form",{onSubmit:N,children:t.jsx("div",{className:"row justify-content-center",children:t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#007bff",marginBottom:"20px"},children:"🔐 เปลี่ยนรหัสผ่าน"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"currentPassword",className:"form-label",children:"รหัสผ่านปัจจุบัน *"}),t.jsx("input",{type:"password",className:"form-control",id:"currentPassword",name:"currentPassword",value:i.currentPassword,onChange:w,required:!0,placeholder:"กรอกรหัสผ่านปัจจุบัน"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"รหัสผ่านใหม่ *"}),t.jsx("input",{type:"password",className:"form-control",id:"newPassword",name:"newPassword",value:i.newPassword,onChange:w,required:!0,placeholder:"กรอกรหัสผ่านใหม่ (อย่างน้อย 6 ตัวอักษร)"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"ยืนยันรหัสผ่านใหม่ *"}),t.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:w,required:!0,placeholder:"ยืนยันรหัสผ่านใหม่"})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"submit",className:"btn",disabled:l,style:{padding:"12px 40px",backgroundColor:"#ffc107",border:"none",borderRadius:"25px",color:"#333",fontSize:"1.1rem",fontWeight:"bold",boxShadow:"0 4px 15px rgba(255,193,7,0.3)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#e0a800",_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 20px rgba(255,193,7,0.4)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#ffc107",_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 15px rgba(255,193,7,0.3)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังเปลี่ยน..."]}):t.jsx(t.Fragment,{children:"🔑 เปลี่ยนรหัสผ่าน"})})})]})})})]})]})]})},Sj=()=>{const{user:s}=Ze(),[e,n]=E.useState(null),[i,o]=E.useState(!0),[l,c]=E.useState(!1);E.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await ie.get("/certificate/check-eligibility");m.data.success&&n(m.data.data)}catch(m){console.error("Failed to check eligibility:",m)}finally{o(!1)}},h=async()=>{if(!(!s||!e?.isEligible)){c(!0);try{const m=await ie.get(`/certificate/generate/${s.id}`,{responseType:"blob"}),p=window.URL.createObjectURL(new Blob([m.data])),x=document.createElement("a");x.href=p,x.setAttribute("download",`certificate_${s.student_id||s.id}.pdf`),document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(p)}catch(m){console.error("Failed to download certificate:",m),alert("ไม่สามารถดาวน์โหลดใบประกาศได้")}finally{c(!1)}}};return i?t.jsx("div",{className:"container",style:{padding:"2rem"},children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3",children:"กำลังตรวจสอบสิทธิ์ใบประกาศ..."})]})}):t.jsx("div",{className:"container",style:{padding:"2rem"},children:t.jsx("div",{className:"row justify-content-center",children:t.jsx("div",{className:"col-md-8",children:t.jsxs("div",{className:"card",style:{borderRadius:"15px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",border:"none"},children:[t.jsxs("div",{className:"card-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"15px 15px 0 0",padding:"2rem",textAlign:"center"},children:[t.jsxs("h2",{style:{margin:0,fontSize:"2rem",fontWeight:"700"},children:[t.jsx("i",{className:"fas fa-certificate me-3"}),"ใบประกาศนียบัตร"]}),t.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:.9},children:"ใบประกาศสำหรับนักเรียนที่ทำกิจกรรมครบตามที่กำหนด"})]}),t.jsx("div",{className:"card-body",style:{padding:"2rem"},children:e?.isEligible?t.jsxs("div",{children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 25px rgba(40, 167, 69, 0.3)"},children:t.jsx("i",{className:"fas fa-check",style:{fontSize:"48px",color:"white"}})}),t.jsx("h3",{style:{color:"#28a745",marginBottom:"1rem"},children:"ยินดีด้วย! คุณมีสิทธิ์ได้รับใบประกาศ"}),t.jsxs("p",{style:{color:"#6c757d",fontSize:"1.1rem"},children:["คุณได้ทำกิจกรรมครบ ",t.jsx("strong",{children:e.totalHours})," ชั่วโมง จากที่กำหนด ",t.jsx("strong",{children:e.requiredHours})," ชั่วโมงแล้ว"]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[t.jsx("span",{style:{fontWeight:"600",color:"#2c3e50"},children:"ความคืบหน้า"}),t.jsxs("span",{style:{fontWeight:"600",color:"#28a745"},children:[e.totalHours,"/",e.requiredHours," ชั่วโมง"]})]}),t.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"#e9ecef",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",borderRadius:"6px",transition:"width 0.3s ease"}})})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{onClick:h,disabled:l,className:"btn btn-primary btn-lg",style:{padding:"1rem 2rem",fontSize:"1.2rem",fontWeight:"600",borderRadius:"10px",background:"linear-gradient(135deg, #007bff 0%, #0056b3 100%)",border:"none",boxShadow:"0 8px 25px rgba(0, 123, 255, 0.3)",transition:"all 0.3s ease"},onMouseEnter:m=>{m.target.style.transform="translateY(-2px)",m.target.style.boxShadow="0 12px 35px rgba(0, 123, 255, 0.4)"},onMouseLeave:m=>{m.target.style.transform="translateY(0)",m.target.style.boxShadow="0 8px 25px rgba(0, 123, 255, 0.3)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังสร้างใบประกาศ..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-download me-2"}),"ดาวน์โหลดใบประกาศ (PDF)"]})})}),t.jsxs("div",{className:"mt-4 p-3",style:{backgroundColor:"#f8f9fa",borderRadius:"10px",border:"1px solid #e9ecef"},children:[t.jsxs("h6",{style:{color:"#495057",marginBottom:"0.5rem"},children:[t.jsx("i",{className:"fas fa-info-circle me-2"}),"ข้อมูลใบประกาศ"]}),t.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#6c757d"},children:[t.jsx("li",{children:"ใบประกาศจะแสดงชื่อและรหัสนักศึกษาของคุณ"}),t.jsx("li",{children:"สามารถพิมพ์หรือบันทึกเป็นไฟล์ PDF ได้"}),t.jsx("li",{children:"ใบประกาศมีลายเซ็นดิจิทัลเพื่อความปลอดภัย"})]})]})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, #ffc107 0%, #fd7e14 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 25px rgba(255, 193, 7, 0.3)"},children:t.jsx("i",{className:"fas fa-clock",style:{fontSize:"48px",color:"white"}})}),t.jsx("h3",{style:{color:"#ffc107",marginBottom:"1rem"},children:"ยังไม่ครบชั่วโมงที่กำหนด"}),t.jsxs("p",{style:{color:"#6c757d",fontSize:"1.1rem"},children:["คุณต้องทำกิจกรรมให้ครบ ",t.jsx("strong",{children:e.requiredHours})," ชั่วโมง ถึงจะได้รับใบประกาศ"]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[t.jsx("span",{style:{fontWeight:"600",color:"#2c3e50"},children:"ความคืบหน้า"}),t.jsxs("span",{style:{fontWeight:"600",color:"#ffc107"},children:[e.totalHours,"/",e.requiredHours," ชั่วโมง"]})]}),t.jsx("div",{style:{width:"100%",height:"12px",backgroundColor:"#e9ecef",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${e.totalHours/e.requiredHours*100}%`,height:"100%",background:"linear-gradient(135deg, #ffc107 0%, #fd7e14 100%)",borderRadius:"6px",transition:"width 0.3s ease"}})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"p-4",style:{backgroundColor:"#fff3cd",borderRadius:"10px",border:"1px solid #ffeaa7"},children:[t.jsxs("h5",{style:{color:"#856404",marginBottom:"0.5rem"},children:[t.jsx("i",{className:"fas fa-hourglass-half me-2"}),"ยังขาดอีก ",e.remainingHours," ชั่วโมง"]}),t.jsx("p",{style:{color:"#856404",margin:0},children:"เข้าร่วมกิจกรรมเพิ่มเติมเพื่อให้ครบตามที่กำหนด"})]})}),t.jsx("div",{className:"text-center mt-4",children:t.jsxs("a",{href:"/activities",className:"btn btn-outline-primary btn-lg",style:{padding:"1rem 2rem",fontSize:"1.2rem",fontWeight:"600",borderRadius:"10px",textDecoration:"none"},children:[t.jsx("i",{className:"fas fa-calendar-alt me-2"}),"ดูกิจกรรมที่มี"]})})]})})]})})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ji(s){return s+.5|0}const Ws=(s,e,n)=>Math.max(Math.min(s,n),e);function ei(s){return Ws(ji(s*2.55),0,255)}function Vs(s){return Ws(ji(s*255),0,255)}function bs(s){return Ws(ji(s/2.55)/100,0,1)}function vm(s){return Ws(ji(s*100),0,100)}const zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},od=[..."0123456789ABCDEF"],_j=s=>od[s&15],kj=s=>od[(s&240)>>4]+od[s&15],Aa=s=>(s&240)>>4===(s&15),Cj=s=>Aa(s.r)&&Aa(s.g)&&Aa(s.b)&&Aa(s.a);function Ej(s){var e=s.length,n;return s[0]==="#"&&(e===4||e===5?n={r:255&zt[s[1]]*17,g:255&zt[s[2]]*17,b:255&zt[s[3]]*17,a:e===5?zt[s[4]]*17:255}:(e===7||e===9)&&(n={r:zt[s[1]]<<4|zt[s[2]],g:zt[s[3]]<<4|zt[s[4]],b:zt[s[5]]<<4|zt[s[6]],a:e===9?zt[s[7]]<<4|zt[s[8]]:255})),n}const Rj=(s,e)=>s<255?e(s):"";function Tj(s){var e=Cj(s)?_j:kj;return s?"#"+e(s.r)+e(s.g)+e(s.b)+Rj(s.a,e):void 0}const Pj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sg(s,e,n){const i=e*Math.min(n,1-n),o=(l,c=(l+s/30)%12)=>n-i*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function Dj(s,e,n){const i=(o,l=(o+s/60)%6)=>n-n*e*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function Mj(s,e,n){const i=Sg(s,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)i[o]*=1-e-n,i[o]+=e;return i}function Aj(s,e,n,i,o){return s===o?(e-n)/i+(e<n?6:0):e===o?(n-s)/i+2:(s-e)/i+4}function _d(s){const n=s.r/255,i=s.g/255,o=s.b/255,l=Math.max(n,i,o),c=Math.min(n,i,o),u=(l+c)/2;let h,m,p;return l!==c&&(p=l-c,m=u>.5?p/(2-l-c):p/(l+c),h=Aj(n,i,o,p,l),h=h*60+.5),[h|0,m||0,u]}function kd(s,e,n,i){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,n,i)).map(Vs)}function Cd(s,e,n){return kd(Sg,s,e,n)}function Lj(s,e,n){return kd(Mj,s,e,n)}function Oj(s,e,n){return kd(Dj,s,e,n)}function _g(s){return(s%360+360)%360}function Fj(s){const e=Pj.exec(s);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ei(+e[5]):Vs(+e[5]));const o=_g(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?i=Lj(o,l,c):e[1]==="hsv"?i=Oj(o,l,c):i=Cd(o,l,c),{r:i[0],g:i[1],b:i[2],a:n}}function zj(s,e){var n=_d(s);n[0]=_g(n[0]+e),n=Cd(n),s.r=n[0],s.g=n[1],s.b=n[2]}function Bj(s){if(!s)return;const e=_d(s),n=e[0],i=vm(e[1]),o=vm(e[2]);return s.a<255?`hsla(${n}, ${i}%, ${o}%, ${bs(s.a)})`:`hsl(${n}, ${i}%, ${o}%)`}const jm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Nm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ij(){const s={},e=Object.keys(Nm),n=Object.keys(jm);let i,o,l,c,u;for(i=0;i<e.length;i++){for(c=u=e[i],o=0;o<n.length;o++)l=n[o],u=u.replace(l,jm[l]);l=parseInt(Nm[c],16),s[u]=[l>>16&255,l>>8&255,l&255]}return s}let La;function Wj(s){La||(La=Ij(),La.transparent=[0,0,0,0]);const e=La[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $j=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hj(s){const e=$j.exec(s);let n=255,i,o,l;if(e){if(e[7]!==i){const c=+e[7];n=e[8]?ei(c):Ws(c*255,0,255)}return i=+e[1],o=+e[3],l=+e[5],i=255&(e[2]?ei(i):Ws(i,0,255)),o=255&(e[4]?ei(o):Ws(o,0,255)),l=255&(e[6]?ei(l):Ws(l,0,255)),{r:i,g:o,b:l,a:n}}}function Uj(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${bs(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const zc=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,Gn=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Vj(s,e,n){const i=Gn(bs(s.r)),o=Gn(bs(s.g)),l=Gn(bs(s.b));return{r:Vs(zc(i+n*(Gn(bs(e.r))-i))),g:Vs(zc(o+n*(Gn(bs(e.g))-o))),b:Vs(zc(l+n*(Gn(bs(e.b))-l))),a:s.a+n*(e.a-s.a)}}function Oa(s,e,n){if(s){let i=_d(s);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Cd(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function kg(s,e){return s&&Object.assign(e||{},s)}function wm(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Vs(s[3]))):(e=kg(s,{r:0,g:0,b:0,a:1}),e.a=Vs(e.a)),e}function qj(s){return s.charAt(0)==="r"?Hj(s):Fj(s)}class di{constructor(e){if(e instanceof di)return e;const n=typeof e;let i;n==="object"?i=wm(e):n==="string"&&(i=Ej(e)||Wj(e)||qj(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=kg(this._rgb);return e&&(e.a=bs(e.a)),e}set rgb(e){this._rgb=wm(e)}rgbString(){return this._valid?Uj(this._rgb):void 0}hexString(){return this._valid?Tj(this._rgb):void 0}hslString(){return this._valid?Bj(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,o=e.rgb;let l;const c=n===l?.5:n,u=2*c-1,h=i.a-o.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-m,i.r=255&m*i.r+l*o.r+.5,i.g=255&m*i.g+l*o.g+.5,i.b=255&m*i.b+l*o.b+.5,i.a=c*i.a+(1-c)*o.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Vj(this._rgb,e._rgb,n)),this}clone(){return new di(this.rgb)}alpha(e){return this._rgb.a=Vs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ji(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oa(this._rgb,2,e),this}darken(e){return Oa(this._rgb,2,-e),this}saturate(e){return Oa(this._rgb,1,e),this}desaturate(e){return Oa(this._rgb,1,-e),this}rotate(e){return zj(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ps(){}const Yj=(()=>{let s=0;return()=>s++})();function Se(s){return s==null}function We(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function kt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function ts(s,e){return kt(s)?s:e}function ye(s,e){return typeof s>"u"?e:s}const Xj=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,Cg=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function Me(s,e,n){if(s&&typeof s.call=="function")return s.apply(n,e)}function Te(s,e,n,i){let o,l,c;if(We(s))for(l=s.length,o=0;o<l;o++)e.call(n,s[o],o);else if(_e(s))for(c=Object.keys(s),l=c.length,o=0;o<l;o++)e.call(n,s[c[o]],c[o])}function no(s,e){let n,i,o,l;if(!s||!e||s.length!==e.length)return!1;for(n=0,i=s.length;n<i;++n)if(o=s[n],l=e[n],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function ro(s){if(We(s))return s.map(ro);if(_e(s)){const e=Object.create(null),n=Object.keys(s),i=n.length;let o=0;for(;o<i;++o)e[n[o]]=ro(s[n[o]]);return e}return s}function Eg(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function Kj(s,e,n,i){if(!Eg(s))return;const o=e[s],l=n[s];_e(o)&&_e(l)?ui(o,l,i):e[s]=ro(l)}function ui(s,e,n){const i=We(e)?e:[e],o=i.length;if(!_e(s))return s;n=n||{};const l=n.merger||Kj;let c;for(let u=0;u<o;++u){if(c=i[u],!_e(c))continue;const h=Object.keys(c);for(let m=0,p=h.length;m<p;++m)l(h[m],s,c,n)}return s}function ni(s,e){return ui(s,e,{merger:Qj})}function Qj(s,e,n){if(!Eg(s))return;const i=e[s],o=n[s];_e(i)&&_e(o)?ni(i,o):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=ro(o))}const Sm={"":s=>s,x:s=>s.x,y:s=>s.y};function Gj(s){const e=s.split("."),n=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Jj(s){const e=Gj(s);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function vn(s,e){return(Sm[e]||(Sm[e]=Jj(e)))(s)}function Ed(s){return s.charAt(0).toUpperCase()+s.slice(1)}const hi=s=>typeof s<"u",qs=s=>typeof s=="function",_m=(s,e)=>{if(s.size!==e.size)return!1;for(const n of s)if(!e.has(n))return!1;return!0};function Zj(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ce=Math.PI,ze=2*Ce,e1=ze+Ce,io=Number.POSITIVE_INFINITY,t1=Ce/180,Ye=Ce/2,cn=Ce/4,km=Ce*2/3,Rg=Math.log10,is=Math.sign;function ri(s,e,n){return Math.abs(s-e)<n}function Cm(s){const e=Math.round(s);s=ri(s,e,s/1e3)?e:s;const n=Math.pow(10,Math.floor(Rg(s))),i=s/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function s1(s){const e=[],n=Math.sqrt(s);let i;for(i=1;i<n;i++)s%i===0&&(e.push(i),e.push(s/i));return n===(n|0)&&e.push(n),e.sort((o,l)=>o-l).pop(),e}function n1(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function fi(s){return!n1(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function r1(s,e){const n=Math.round(s);return n-e<=s&&n+e>=s}function i1(s,e,n){let i,o,l;for(i=0,o=s.length;i<o;i++)l=s[i][n],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function rs(s){return s*(Ce/180)}function Rd(s){return s*(180/Ce)}function Em(s){if(!kt(s))return;let e=1,n=0;for(;Math.round(s*e)/e!==s;)e*=10,n++;return n}function Tg(s,e){const n=e.x-s.x,i=e.y-s.y,o=Math.sqrt(n*n+i*i);let l=Math.atan2(i,n);return l<-.5*Ce&&(l+=ze),{angle:l,distance:o}}function ld(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function a1(s,e){return(s-e+e1)%ze-Ce}function Nt(s){return(s%ze+ze)%ze}function mi(s,e,n,i){const o=Nt(s),l=Nt(e),c=Nt(n),u=Nt(l-o),h=Nt(c-o),m=Nt(o-l),p=Nt(o-c);return o===l||o===c||i&&l===c||u>h&&m<p}function ut(s,e,n){return Math.max(e,Math.min(n,s))}function o1(s){return ut(s,-32768,32767)}function $s(s,e,n,i=1e-6){return s>=Math.min(e,n)-i&&s<=Math.max(e,n)+i}function Td(s,e,n){n=n||(c=>s[c]<e);let i=s.length-1,o=0,l;for(;i-o>1;)l=o+i>>1,n(l)?o=l:i=l;return{lo:o,hi:i}}const pn=(s,e,n,i)=>Td(s,n,i?o=>{const l=s[o][e];return l<n||l===n&&s[o+1][e]===n}:o=>s[o][e]<n),l1=(s,e,n)=>Td(s,n,i=>s[i][e]>=n);function c1(s,e,n){let i=0,o=s.length;for(;i<o&&s[i]<e;)i++;for(;o>i&&s[o-1]>n;)o--;return i>0||o<s.length?s.slice(i,o):s}const Pg=["push","pop","shift","splice","unshift"];function d1(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pg.forEach(n=>{const i="_onData"+Ed(n),o=s[n];Object.defineProperty(s,n,{configurable:!0,enumerable:!1,value(...l){const c=o.apply(this,l);return s._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...l)}),c}})})}function Rm(s,e){const n=s._chartjs;if(!n)return;const i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Pg.forEach(l=>{delete s[l]}),delete s._chartjs)}function Dg(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const Mg=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function Ag(s,e){let n=[],i=!1;return function(...o){n=o,i||(i=!0,Mg.call(window,()=>{i=!1,s.apply(e,n)}))}}function u1(s,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(s,e,i)):s.apply(this,i),e}}const Pd=s=>s==="start"?"left":s==="end"?"right":"center",ct=(s,e,n)=>s==="start"?e:s==="end"?n:(e+n)/2,h1=(s,e,n,i)=>s===(i?"left":"right")?n:s==="center"?(e+n)/2:e;function f1(s,e,n){const i=e.length;let o=0,l=i;if(s._sorted){const{iScale:c,vScale:u,_parsed:h}=s,m=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,p=c.axis,{min:x,max:y,minDefined:v,maxDefined:w}=c.getUserBounds();if(v){if(o=Math.min(pn(h,p,x).lo,n?i:pn(e,p,c.getPixelForValue(x)).lo),m){const j=h.slice(0,o+1).reverse().findIndex(N=>!Se(N[u.axis]));o-=Math.max(0,j)}o=ut(o,0,i-1)}if(w){let j=Math.max(pn(h,c.axis,y,!0).hi+1,n?0:pn(e,p,c.getPixelForValue(y),!0).hi+1);if(m){const N=h.slice(j-1).findIndex(_=>!Se(_[u.axis]));j+=Math.max(0,N)}l=ut(j,o,i)-o}else l=i-o}return{start:o,count:l}}function m1(s){const{xScale:e,yScale:n,_scaleRanges:i}=s,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return s._scaleRanges=o,!0;const l=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,o),l}const Fa=s=>s===0||s===1,Tm=(s,e,n)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*ze/n)),Pm=(s,e,n)=>Math.pow(2,-10*s)*Math.sin((s-e)*ze/n)+1,ii={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*Ye)+1,easeOutSine:s=>Math.sin(s*Ye),easeInOutSine:s=>-.5*(Math.cos(Ce*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Fa(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Fa(s)?s:Tm(s,.075,.3),easeOutElastic:s=>Fa(s)?s:Pm(s,.075,.3),easeInOutElastic(s){return Fa(s)?s:s<.5?.5*Tm(s*2,.1125,.45):.5+.5*Pm(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-ii.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ii.easeInBounce(s*2)*.5:ii.easeOutBounce(s*2-1)*.5+.5};function Dd(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dm(s){return Dd(s)?s:new di(s)}function Bc(s){return Dd(s)?s:new di(s).saturate(.5).darken(.1).hexString()}const p1=["x","y","borderWidth","radius","tension"],g1=["color","borderColor","backgroundColor"];function x1(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:g1},numbers:{type:"number",properties:p1}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function b1(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mm=new Map;function y1(s,e){e=e||{};const n=s+JSON.stringify(e);let i=Mm.get(n);return i||(i=new Intl.NumberFormat(s,e),Mm.set(n,i)),i}function Md(s,e,n){return y1(e,n).format(s)}const v1={values(s){return We(s)?s:""+s},numeric(s,e,n){if(s===0)return"0";const i=this.chart.options.locale;let o,l=s;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(o="scientific"),l=j1(s,n)}const c=Rg(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),Md(s,i,h)}};function j1(s,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&s!==Math.floor(s)&&(n=s-Math.floor(s)),n}var Ad={formatters:v1};function N1(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ad.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const jn=Object.create(null),cd=Object.create(null);function ai(s,e){if(!e)return s;const n=e.split(".");for(let i=0,o=n.length;i<o;++i){const l=n[i];s=s[l]||(s[l]=Object.create(null))}return s}function Ic(s,e,n){return typeof e=="string"?ui(ai(s,e),n):ui(ai(s,""),e)}class w1{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Bc(o.backgroundColor),this.hoverBorderColor=(i,o)=>Bc(o.borderColor),this.hoverColor=(i,o)=>Bc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ic(this,e,n)}get(e){return ai(this,e)}describe(e,n){return Ic(cd,e,n)}override(e,n){return Ic(jn,e,n)}route(e,n,i,o){const l=ai(this,e),c=ai(this,i),u="_"+n;Object.defineProperties(l,{[u]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],m=c[o];return _e(h)?Object.assign({},m,h):ye(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var He=new w1({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[x1,b1,N1]);function S1(s){return!s||Se(s.size)||Se(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function ao(s,e,n,i,o){let l=e[o];return l||(l=e[o]=s.measureText(o).width,n.push(o)),l>i&&(i=l),i}function _1(s,e,n,i){i=i||{};let o=i.data=i.data||{},l=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},l=i.garbageCollect=[],i.font=e),s.save(),s.font=e;let c=0;const u=n.length;let h,m,p,x,y;for(h=0;h<u;h++)if(x=n[h],x!=null&&!We(x))c=ao(s,o,l,c,x);else if(We(x))for(m=0,p=x.length;m<p;m++)y=x[m],y!=null&&!We(y)&&(c=ao(s,o,l,c,y));s.restore();const v=l.length/2;if(v>n.length){for(h=0;h<v;h++)delete o[l[h]];l.splice(0,v)}return c}function dn(s,e,n){const i=s.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*i)/i+o}function Am(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function dd(s,e,n,i){Lg(s,e,n,i,null)}function Lg(s,e,n,i,o){let l,c,u,h,m,p,x,y;const v=e.pointStyle,w=e.rotation,j=e.radius;let N=(w||0)*t1;if(v&&typeof v=="object"&&(l=v.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){s.save(),s.translate(n,i),s.rotate(N),s.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),s.restore();return}if(!(isNaN(j)||j<=0)){switch(s.beginPath(),v){default:o?s.ellipse(n,i,o/2,j,0,0,ze):s.arc(n,i,j,0,ze),s.closePath();break;case"triangle":p=o?o/2:j,s.moveTo(n+Math.sin(N)*p,i-Math.cos(N)*j),N+=km,s.lineTo(n+Math.sin(N)*p,i-Math.cos(N)*j),N+=km,s.lineTo(n+Math.sin(N)*p,i-Math.cos(N)*j),s.closePath();break;case"rectRounded":m=j*.516,h=j-m,c=Math.cos(N+cn)*h,x=Math.cos(N+cn)*(o?o/2-m:h),u=Math.sin(N+cn)*h,y=Math.sin(N+cn)*(o?o/2-m:h),s.arc(n-x,i-u,m,N-Ce,N-Ye),s.arc(n+y,i-c,m,N-Ye,N),s.arc(n+x,i+u,m,N,N+Ye),s.arc(n-y,i+c,m,N+Ye,N+Ce),s.closePath();break;case"rect":if(!w){h=Math.SQRT1_2*j,p=o?o/2:h,s.rect(n-p,i-h,2*p,2*h);break}N+=cn;case"rectRot":x=Math.cos(N)*(o?o/2:j),c=Math.cos(N)*j,u=Math.sin(N)*j,y=Math.sin(N)*(o?o/2:j),s.moveTo(n-x,i-u),s.lineTo(n+y,i-c),s.lineTo(n+x,i+u),s.lineTo(n-y,i+c),s.closePath();break;case"crossRot":N+=cn;case"cross":x=Math.cos(N)*(o?o/2:j),c=Math.cos(N)*j,u=Math.sin(N)*j,y=Math.sin(N)*(o?o/2:j),s.moveTo(n-x,i-u),s.lineTo(n+x,i+u),s.moveTo(n+y,i-c),s.lineTo(n-y,i+c);break;case"star":x=Math.cos(N)*(o?o/2:j),c=Math.cos(N)*j,u=Math.sin(N)*j,y=Math.sin(N)*(o?o/2:j),s.moveTo(n-x,i-u),s.lineTo(n+x,i+u),s.moveTo(n+y,i-c),s.lineTo(n-y,i+c),N+=cn,x=Math.cos(N)*(o?o/2:j),c=Math.cos(N)*j,u=Math.sin(N)*j,y=Math.sin(N)*(o?o/2:j),s.moveTo(n-x,i-u),s.lineTo(n+x,i+u),s.moveTo(n+y,i-c),s.lineTo(n-y,i+c);break;case"line":c=o?o/2:Math.cos(N)*j,u=Math.sin(N)*j,s.moveTo(n-c,i-u),s.lineTo(n+c,i+u);break;case"dash":s.moveTo(n,i),s.lineTo(n+Math.cos(N)*(o?o/2:j),i+Math.sin(N)*j);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function ys(s,e,n){return n=n||.5,!e||s&&s.x>e.left-n&&s.x<e.right+n&&s.y>e.top-n&&s.y<e.bottom+n}function Ld(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Od(s){s.restore()}function k1(s,e,n,i,o){if(!e)return s.lineTo(n.x,n.y);if(o==="middle"){const l=(e.x+n.x)/2;s.lineTo(l,e.y),s.lineTo(l,n.y)}else o==="after"!=!!i?s.lineTo(e.x,n.y):s.lineTo(n.x,e.y);s.lineTo(n.x,n.y)}function C1(s,e,n,i){if(!e)return s.lineTo(n.x,n.y);s.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function E1(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),Se(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function R1(s,e,n,i,o){if(o.strikethrough||o.underline){const l=s.measureText(i),c=e-l.actualBoundingBoxLeft,u=e+l.actualBoundingBoxRight,h=n-l.actualBoundingBoxAscent,m=n+l.actualBoundingBoxDescent,p=o.strikethrough?(h+m)/2:m;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=o.decorationWidth||2,s.moveTo(c,p),s.lineTo(u,p),s.stroke()}}function T1(s,e){const n=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=n}function Nn(s,e,n,i,o,l={}){const c=We(e)?e:[e],u=l.strokeWidth>0&&l.strokeColor!=="";let h,m;for(s.save(),s.font=o.string,E1(s,l),h=0;h<c.length;++h)m=c[h],l.backdrop&&T1(s,l.backdrop),u&&(l.strokeColor&&(s.strokeStyle=l.strokeColor),Se(l.strokeWidth)||(s.lineWidth=l.strokeWidth),s.strokeText(m,n,i,l.maxWidth)),s.fillText(m,n,i,l.maxWidth),R1(s,n,i,m,l),i+=Number(o.lineHeight);s.restore()}function pi(s,e){const{x:n,y:i,w:o,h:l,radius:c}=e;s.arc(n+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ce,Ce,!0),s.lineTo(n,i+l-c.bottomLeft),s.arc(n+c.bottomLeft,i+l-c.bottomLeft,c.bottomLeft,Ce,Ye,!0),s.lineTo(n+o-c.bottomRight,i+l),s.arc(n+o-c.bottomRight,i+l-c.bottomRight,c.bottomRight,Ye,0,!0),s.lineTo(n+o,i+c.topRight),s.arc(n+o-c.topRight,i+c.topRight,c.topRight,0,-Ye,!0),s.lineTo(n+c.topLeft,i)}const P1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,D1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function M1(s,e){const n=(""+s).match(P1);if(!n||n[1]==="normal")return e*1.2;switch(s=+n[2],n[3]){case"px":return s;case"%":s/=100;break}return e*s}const A1=s=>+s||0;function Fd(s,e){const n={},i=_e(e),o=i?Object.keys(e):e,l=_e(s)?i?c=>ye(s[c],s[e[c]]):c=>s[c]:()=>s;for(const c of o)n[c]=A1(l(c));return n}function Og(s){return Fd(s,{top:"y",right:"x",bottom:"y",left:"x"})}function xn(s){return Fd(s,["topLeft","topRight","bottomLeft","bottomRight"])}function ht(s){const e=Og(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Je(s,e){s=s||{},e=e||He.font;let n=ye(s.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ye(s.style,e.style);i&&!(""+i).match(D1)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:ye(s.family,e.family),lineHeight:M1(ye(s.lineHeight,e.lineHeight),n),size:n,style:i,weight:ye(s.weight,e.weight),string:""};return o.string=S1(o),o}function za(s,e,n,i){let o,l,c;for(o=0,l=s.length;o<l;++o)if(c=s[o],c!==void 0&&c!==void 0)return c}function L1(s,e,n){const{min:i,max:o}=s,l=Cg(e,(o-i)/2),c=(u,h)=>n&&u===0?0:u+h;return{min:c(i,-Math.abs(l)),max:c(o,l)}}function Xs(s,e){return Object.assign(Object.create(s),e)}function zd(s,e=[""],n,i,o=()=>s[0]){const l=n||s;typeof i>"u"&&(i=Ig("_fallback",s));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:l,_fallback:i,_getTarget:o,override:u=>zd([u,...s],e,l,i)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete s[0][h],!0},get(u,h){return zg(u,h,()=>H1(h,e,s,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(u,h){return Om(u).includes(h)},ownKeys(u){return Om(u)},set(u,h,m){const p=u._storage||(u._storage=o());return u[h]=p[h]=m,delete u._keys,!0}})}function er(s,e,n,i){const o={_cacheable:!1,_proxy:s,_context:e,_subProxy:n,_stack:new Set,_descriptors:Fg(s,i),setContext:l=>er(s,l,n,i),override:l=>er(s.override(l),e,n,i)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete s[c],!0},get(l,c,u){return zg(l,c,()=>F1(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(s,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,c)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(l,c){return Reflect.has(s,c)},ownKeys(){return Reflect.ownKeys(s)},set(l,c,u){return s[c]=u,delete l[c],!0}})}function Fg(s,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=s;return{allKeys:o,scriptable:n,indexable:i,isScriptable:qs(n)?n:()=>n,isIndexable:qs(i)?i:()=>i}}const O1=(s,e)=>s?s+Ed(e):e,Bd=(s,e)=>_e(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zg(s,e,n){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const i=n();return s[e]=i,i}function F1(s,e,n){const{_proxy:i,_context:o,_subProxy:l,_descriptors:c}=s;let u=i[e];return qs(u)&&c.isScriptable(e)&&(u=z1(e,u,s,n)),We(u)&&u.length&&(u=B1(e,u,s,c.isIndexable)),Bd(e,u)&&(u=er(u,o,l&&l[e],c)),u}function z1(s,e,n,i){const{_proxy:o,_context:l,_subProxy:c,_stack:u}=n;if(u.has(s))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+s);u.add(s);let h=e(l,c||i);return u.delete(s),Bd(s,h)&&(h=Id(o._scopes,o,s,h)),h}function B1(s,e,n,i){const{_proxy:o,_context:l,_subProxy:c,_descriptors:u}=n;if(typeof l.index<"u"&&i(s))return e[l.index%e.length];if(_e(e[0])){const h=e,m=o._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=Id(m,o,s,p);e.push(er(x,l,c&&c[s],u))}}return e}function Bg(s,e,n){return qs(s)?s(e,n):s}const I1=(s,e)=>s===!0?e:typeof s=="string"?vn(e,s):void 0;function W1(s,e,n,i,o){for(const l of e){const c=I1(n,l);if(c){s.add(c);const u=Bg(c._fallback,n,o);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(c===!1&&typeof i<"u"&&n!==i)return null}return!1}function Id(s,e,n,i){const o=e._rootScopes,l=Bg(e._fallback,n,i),c=[...s,...o],u=new Set;u.add(i);let h=Lm(u,c,n,l||n,i);return h===null||typeof l<"u"&&l!==n&&(h=Lm(u,c,l,h,i),h===null)?!1:zd(Array.from(u),[""],o,l,()=>$1(e,n,i))}function Lm(s,e,n,i,o){for(;n;)n=W1(s,e,n,i,o);return n}function $1(s,e,n){const i=s._getTarget();e in i||(i[e]={});const o=i[e];return We(o)&&_e(n)?n:o||{}}function H1(s,e,n,i){let o;for(const l of e)if(o=Ig(O1(l,s),n),typeof o<"u")return Bd(s,o)?Id(n,i,s,o):o}function Ig(s,e){for(const n of e){if(!n)continue;const i=n[s];if(typeof i<"u")return i}}function Om(s){let e=s._keys;return e||(e=s._keys=U1(s._scopes)),e}function U1(s){const e=new Set;for(const n of s)for(const i of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}const V1=Number.EPSILON||1e-14,tr=(s,e)=>e<s.length&&!s[e].skip&&s[e],Wg=s=>s==="x"?"y":"x";function q1(s,e,n,i){const o=s.skip?e:s,l=e,c=n.skip?e:n,u=ld(l,o),h=ld(c,l);let m=u/(u+h),p=h/(u+h);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const x=i*m,y=i*p;return{previous:{x:l.x-x*(c.x-o.x),y:l.y-x*(c.y-o.y)},next:{x:l.x+y*(c.x-o.x),y:l.y+y*(c.y-o.y)}}}function Y1(s,e,n){const i=s.length;let o,l,c,u,h,m=tr(s,0);for(let p=0;p<i-1;++p)if(h=m,m=tr(s,p+1),!(!h||!m)){if(ri(e[p],0,V1)){n[p]=n[p+1]=0;continue}o=n[p]/e[p],l=n[p+1]/e[p],u=Math.pow(o,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),n[p]=o*c*e[p],n[p+1]=l*c*e[p])}}function X1(s,e,n="x"){const i=Wg(n),o=s.length;let l,c,u,h=tr(s,0);for(let m=0;m<o;++m){if(c=u,u=h,h=tr(s,m+1),!u)continue;const p=u[n],x=u[i];c&&(l=(p-c[n])/3,u[`cp1${n}`]=p-l,u[`cp1${i}`]=x-l*e[m]),h&&(l=(h[n]-p)/3,u[`cp2${n}`]=p+l,u[`cp2${i}`]=x+l*e[m])}}function K1(s,e="x"){const n=Wg(e),i=s.length,o=Array(i).fill(0),l=Array(i);let c,u,h,m=tr(s,0);for(c=0;c<i;++c)if(u=h,h=m,m=tr(s,c+1),!!h){if(m){const p=m[e]-h[e];o[c]=p!==0?(m[n]-h[n])/p:0}l[c]=u?m?is(o[c-1])!==is(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}Y1(s,o,l),X1(s,l,e)}function Ba(s,e,n){return Math.max(Math.min(s,n),e)}function Q1(s,e){let n,i,o,l,c,u=ys(s[0],e);for(n=0,i=s.length;n<i;++n)c=l,l=u,u=n<i-1&&ys(s[n+1],e),l&&(o=s[n],c&&(o.cp1x=Ba(o.cp1x,e.left,e.right),o.cp1y=Ba(o.cp1y,e.top,e.bottom)),u&&(o.cp2x=Ba(o.cp2x,e.left,e.right),o.cp2y=Ba(o.cp2y,e.top,e.bottom)))}function G1(s,e,n,i,o){let l,c,u,h;if(e.spanGaps&&(s=s.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")K1(s,o);else{let m=i?s[s.length-1]:s[0];for(l=0,c=s.length;l<c;++l)u=s[l],h=q1(m,u,s[Math.min(l+1,c-(i?0:1))%c],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,m=u}e.capBezierPoints&&Q1(s,n)}function Wd(){return typeof window<"u"&&typeof document<"u"}function $d(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function oo(s,e,n){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=s,i}const yo=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function J1(s,e){return yo(s).getPropertyValue(e)}const Z1=["top","right","bottom","left"];function bn(s,e,n){const i={};n=n?"-"+n:"";for(let o=0;o<4;o++){const l=Z1[o];i[l]=parseFloat(s[e+"-"+l+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const eN=(s,e,n)=>(s>0||e>0)&&(!n||!n.shadowRoot);function tN(s,e){const n=s.touches,i=n&&n.length?n[0]:s,{offsetX:o,offsetY:l}=i;let c=!1,u,h;if(eN(o,l,s.target))u=o,h=l;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,h=i.clientY-m.top,c=!0}return{x:u,y:h,box:c}}function hn(s,e){if("native"in s)return s;const{canvas:n,currentDevicePixelRatio:i}=e,o=yo(n),l=o.boxSizing==="border-box",c=bn(o,"padding"),u=bn(o,"border","width"),{x:h,y:m,box:p}=tN(s,n),x=c.left+(p&&u.left),y=c.top+(p&&u.top);let{width:v,height:w}=e;return l&&(v-=c.width+u.width,w-=c.height+u.height),{x:Math.round((h-x)/v*n.width/i),y:Math.round((m-y)/w*n.height/i)}}function sN(s,e,n){let i,o;if(e===void 0||n===void 0){const l=s&&$d(s);if(!l)e=s.clientWidth,n=s.clientHeight;else{const c=l.getBoundingClientRect(),u=yo(l),h=bn(u,"border","width"),m=bn(u,"padding");e=c.width-m.width-h.width,n=c.height-m.height-h.height,i=oo(u.maxWidth,l,"clientWidth"),o=oo(u.maxHeight,l,"clientHeight")}}return{width:e,height:n,maxWidth:i||io,maxHeight:o||io}}const Ia=s=>Math.round(s*10)/10;function nN(s,e,n,i){const o=yo(s),l=bn(o,"margin"),c=oo(o.maxWidth,s,"clientWidth")||io,u=oo(o.maxHeight,s,"clientHeight")||io,h=sN(s,e,n);let{width:m,height:p}=h;if(o.boxSizing==="content-box"){const y=bn(o,"border","width"),v=bn(o,"padding");m-=v.width+y.width,p-=v.height+y.height}return m=Math.max(0,m-l.width),p=Math.max(0,i?m/i:p-l.height),m=Ia(Math.min(m,c,h.maxWidth)),p=Ia(Math.min(p,u,h.maxHeight)),m&&!p&&(p=Ia(m/2)),(e!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,m=Ia(Math.floor(p*i))),{width:m,height:p}}function Fm(s,e,n){const i=e||1,o=Math.floor(s.height*i),l=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const c=s.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${s.height}px`,c.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||c.height!==o||c.width!==l?(s.currentDevicePixelRatio=i,c.height=o,c.width=l,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rN=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};Wd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function zm(s,e){const n=J1(s,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function fn(s,e,n,i){return{x:s.x+n*(e.x-s.x),y:s.y+n*(e.y-s.y)}}function iN(s,e,n,i){return{x:s.x+n*(e.x-s.x),y:i==="middle"?n<.5?s.y:e.y:i==="after"?n<1?s.y:e.y:n>0?e.y:s.y}}function aN(s,e,n,i){const o={x:s.cp2x,y:s.cp2y},l={x:e.cp1x,y:e.cp1y},c=fn(s,o,n),u=fn(o,l,n),h=fn(l,e,n),m=fn(c,u,n),p=fn(u,h,n);return fn(m,p,n)}const oN=function(s,e){return{x(n){return s+s+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},lN=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Zn(s,e,n){return s?oN(e,n):lN()}function $g(s,e){let n,i;(e==="ltr"||e==="rtl")&&(n=s.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),s.prevTextDirection=i)}function Hg(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function Ug(s){return s==="angle"?{between:mi,compare:a1,normalize:Nt}:{between:$s,compare:(e,n)=>e-n,normalize:e=>e}}function Bm({start:s,end:e,count:n,loop:i,style:o}){return{start:s%n,end:e%n,loop:i&&(e-s+1)%n===0,style:o}}function cN(s,e,n){const{property:i,start:o,end:l}=n,{between:c,normalize:u}=Ug(i),h=e.length;let{start:m,end:p,loop:x}=s,y,v;if(x){for(m+=h,p+=h,y=0,v=h;y<v&&c(u(e[m%h][i]),o,l);++y)m--,p--;m%=h,p%=h}return p<m&&(p+=h),{start:m,end:p,loop:x,style:s.style}}function dN(s,e,n){if(!n)return[s];const{property:i,start:o,end:l}=n,c=e.length,{compare:u,between:h,normalize:m}=Ug(i),{start:p,end:x,loop:y,style:v}=cN(s,e,n),w=[];let j=!1,N=null,_,C,P;const W=()=>h(o,P,_)&&u(o,P)!==0,L=()=>u(l,_)===0||h(l,P,_),Y=()=>j||W(),k=()=>!j||L();for(let M=p,B=p;M<=x;++M)C=e[M%c],!C.skip&&(_=m(C[i]),_!==P&&(j=h(_,o,l),N===null&&Y()&&(N=u(_,o)===0?M:B),N!==null&&k()&&(w.push(Bm({start:N,end:M,loop:y,count:c,style:v})),N=null),B=M,P=_));return N!==null&&w.push(Bm({start:N,end:x,loop:y,count:c,style:v})),w}function uN(s,e){const n=[],i=s.segments;for(let o=0;o<i.length;o++){const l=dN(i[o],s.points,e);l.length&&n.push(...l)}return n}function hN(s,e,n,i){let o=0,l=e-1;if(n&&!i)for(;o<e&&!s[o].skip;)o++;for(;o<e&&s[o].skip;)o++;for(o%=e,n&&(l+=o);l>o&&s[l%e].skip;)l--;return l%=e,{start:o,end:l}}function fN(s,e,n,i){const o=s.length,l=[];let c=e,u=s[e],h;for(h=e+1;h<=n;++h){const m=s[h%o];m.skip||m.stop?u.skip||(i=!1,l.push({start:e%o,end:(h-1)%o,loop:i}),e=c=m.stop?h:null):(c=h,u.skip&&(e=h)),u=m}return c!==null&&l.push({start:e%o,end:c%o,loop:i}),l}function mN(s,e){const n=s.points,i=s.options.spanGaps,o=n.length;if(!o)return[];const l=!!s._loop,{start:c,end:u}=hN(n,o,l,i);if(i===!0)return Im(s,[{start:c,end:u,loop:l}],n,e);const h=u<c?u+o:u,m=!!s._fullLoop&&c===0&&u===o-1;return Im(s,fN(n,c,h,m),n,e)}function Im(s,e,n,i){return!i||!i.setContext||!n?e:pN(s,e,n,i)}function pN(s,e,n,i){const o=s._chart.getContext(),l=Wm(s.options),{_datasetIndex:c,options:{spanGaps:u}}=s,h=n.length,m=[];let p=l,x=e[0].start,y=x;function v(w,j,N,_){const C=u?-1:1;if(w!==j){for(w+=h;n[w%h].skip;)w-=C;for(;n[j%h].skip;)j+=C;w%h!==j%h&&(m.push({start:w%h,end:j%h,loop:N,style:_}),p=_,x=j%h)}}for(const w of e){x=u?x:w.start;let j=n[x%h],N;for(y=x+1;y<=w.end;y++){const _=n[y%h];N=Wm(i.setContext(Xs(o,{type:"segment",p0:j,p1:_,p0DataIndex:(y-1)%h,p1DataIndex:y%h,datasetIndex:c}))),gN(N,p)&&v(x,y-1,w.loop,p),j=_,p=N}x<y-1&&v(x,y-1,w.loop,p)}return m}function Wm(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function gN(s,e){if(!e)return!1;const n=[],i=function(o,l){return Dd(l)?(n.includes(l)||n.push(l),n.indexOf(l)):l};return JSON.stringify(s,i)!==JSON.stringify(e,i)}function Wa(s,e,n){return s.options.clip?s[n]:e[n]}function xN(s,e){const{xScale:n,yScale:i}=s;return n&&i?{left:Wa(n,e,"left"),right:Wa(n,e,"right"),top:Wa(i,e,"top"),bottom:Wa(i,e,"bottom")}:e}function bN(s,e){const n=e._clip;if(n.disabled)return!1;const i=xN(e,s.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?s.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?s.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,o){const l=n.listeners[o],c=n.duration;l.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(i-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Mg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const l=i.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(l[c]=l[l.length-1],l.pop());u&&(o.draw(),this._notify(o,i,e,"progress")),l.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),n+=l.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var gs=new yN;const $m="transparent",vN={boolean(s,e,n){return n>.5?e:s},color(s,e,n){const i=Dm(s||$m),o=i.valid&&Dm(e||$m);return o&&o.valid?o.mix(i,n).hexString():e},number(s,e,n){return s+(e-s)*n}};class jN{constructor(e,n,i,o){const l=n[i];o=za([e.to,o,l,e.from]);const c=za([e.from,l,o]);this._active=!0,this._fn=e.fn||vN[e.type||typeof c],this._easing=ii[e.easing]||ii.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const o=this._target[this._prop],l=i-this._start,c=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=za([e.to,n,o,e.from]),this._from=za([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,o=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||n<i),!this._active){this._target[o]=u,this._notify(!0);return}if(n<0){this._target[o]=l;return}h=n/i%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(l,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][n]()}}class Vg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!_e(e))return;const n=Object.keys(He.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!_e(l))return;const c={};for(const u of n)c[u]=l[u];(We(l.properties)&&l.properties||[o]).forEach(u=>{(u===o||!i.has(u))&&i.set(u,c)})})}_animateOptions(e,n){const i=n.options,o=wN(e,i);if(!o)return[];const l=this._createAnimations(o,i);return i.$shared&&NN(e.options.$animations,i).then(()=>{e.options=i},()=>{}),l}_createAnimations(e,n){const i=this._properties,o=[],l=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const m=c[h];if(m.charAt(0)==="$")continue;if(m==="options"){o.push(...this._animateOptions(e,n));continue}const p=n[m];let x=l[m];const y=i.get(m);if(x)if(y&&x.active()){x.update(y,p,u);continue}else x.cancel();if(!y||!y.duration){e[m]=p;continue}l[m]=x=new jN(y,e,m,p),o.push(x)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return gs.add(this._chart,i),!0}}function NN(s,e){const n=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const l=s[i[o]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function wN(s,e){if(!e)return;let n=s.options;if(!n){s.options=e;return}return n.$shared&&(s.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Hm(s,e){const n=s&&s.options||{},i=n.reverse,o=n.min===void 0?e:0,l=n.max===void 0?e:0;return{start:i?l:o,end:i?o:l}}function SN(s,e,n){if(n===!1)return!1;const i=Hm(s,n),o=Hm(e,n);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function _N(s){let e,n,i,o;return _e(s)?(e=s.top,n=s.right,i=s.bottom,o=s.left):e=n=i=o=s,{top:e,right:n,bottom:i,left:o,disabled:s===!1}}function qg(s,e){const n=[],i=s._getSortedDatasetMetas(e);let o,l;for(o=0,l=i.length;o<l;++o)n.push(i[o].index);return n}function Um(s,e,n,i={}){const o=s.keys,l=i.mode==="single";let c,u,h,m;if(e===null)return;let p=!1;for(c=0,u=o.length;c<u;++c){if(h=+o[c],h===n){if(p=!0,i.all)continue;break}m=s.values[h],kt(m)&&(l||e===0||is(e)===is(m))&&(e+=m)}return!p&&!i.all?0:e}function kN(s,e){const{iScale:n,vScale:i}=e,o=n.axis==="x"?"x":"y",l=i.axis==="x"?"x":"y",c=Object.keys(s),u=new Array(c.length);let h,m,p;for(h=0,m=c.length;h<m;++h)p=c[h],u[h]={[o]:p,[l]:s[p]};return u}function Wc(s,e){const n=s&&s.options.stacked;return n||n===void 0&&e.stack!==void 0}function CN(s,e,n){return`${s.id}.${e.id}.${n.stack||n.type}`}function EN(s){const{min:e,max:n,minDefined:i,maxDefined:o}=s.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function RN(s,e,n){const i=s[e]||(s[e]={});return i[n]||(i[n]={})}function Vm(s,e,n,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const l=s[o.index];if(n&&l>0||!n&&l<0)return o.index}return null}function qm(s,e){const{chart:n,_cachedMeta:i}=s,o=n._stacks||(n._stacks={}),{iScale:l,vScale:c,index:u}=i,h=l.axis,m=c.axis,p=CN(l,c,i),x=e.length;let y;for(let v=0;v<x;++v){const w=e[v],{[h]:j,[m]:N}=w,_=w._stacks||(w._stacks={});y=_[m]=RN(o,p,j),y[u]=N,y._top=Vm(y,c,!0,i.type),y._bottom=Vm(y,c,!1,i.type);const C=y._visualValues||(y._visualValues={});C[u]=N}}function $c(s,e){const n=s.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function TN(s,e){return Xs(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PN(s,e,n){return Xs(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Kr(s,e){const n=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){e=e||s._parsed;for(const o of e){const l=o._stacks;if(!l||l[i]===void 0||l[i][n]===void 0)return;delete l[i][n],l[i]._visualValues!==void 0&&l[i]._visualValues[n]!==void 0&&delete l[i]._visualValues[n]}}}const Hc=s=>s==="reset"||s==="none",Ym=(s,e)=>e?s:Object.assign({},s),DN=(s,e,n)=>s&&!e.hidden&&e._stacked&&{keys:qg(n,!0),values:null};class vo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),o=(x,y,v,w)=>x==="x"?y:x==="r"?w:v,l=n.xAxisID=ye(i.xAxisID,$c(e,"x")),c=n.yAxisID=ye(i.yAxisID,$c(e,"y")),u=n.rAxisID=ye(i.rAxisID,$c(e,"r")),h=n.indexAxis,m=n.iAxisID=o(h,l,c,u),p=n.vAxisID=o(h,c,l,u);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rm(this._data,this),e._stacked&&Kr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(_e(n)){const o=this._cachedMeta;this._data=kN(n,o)}else if(i!==n){if(i){Rm(i,this);const o=this._cachedMeta;Kr(o),o._parsed=[]}n&&Object.isExtensible(n)&&d1(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const l=n._stacked;n._stacked=Wc(n.vScale,n),n.stack!==i.stack&&(o=!0,Kr(n),n.stack=i.stack),this._resyncElements(e),(o||l!==n._stacked)&&(qm(this,n._parsed),n._stacked=Wc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:o}=this,{iScale:l,_stacked:c}=i,u=l.axis;let h=e===0&&n===o.length?!0:i._sorted,m=e>0&&i._parsed[e-1],p,x,y;if(this._parsing===!1)i._parsed=o,i._sorted=!0,y=o;else{We(o[e])?y=this.parseArrayData(i,o,e,n):_e(o[e])?y=this.parseObjectData(i,o,e,n):y=this.parsePrimitiveData(i,o,e,n);const v=()=>x[u]===null||m&&x[u]<m[u];for(p=0;p<n;++p)i._parsed[p+e]=x=y[p],h&&(v()&&(h=!1),m=x);i._sorted=h}c&&qm(this,y)}parsePrimitiveData(e,n,i,o){const{iScale:l,vScale:c}=e,u=l.axis,h=c.axis,m=l.getLabels(),p=l===c,x=new Array(o);let y,v,w;for(y=0,v=o;y<v;++y)w=y+i,x[y]={[u]:p||l.parse(m[w],w),[h]:c.parse(n[w],w)};return x}parseArrayData(e,n,i,o){const{xScale:l,yScale:c}=e,u=new Array(o);let h,m,p,x;for(h=0,m=o;h<m;++h)p=h+i,x=n[p],u[h]={x:l.parse(x[0],p),y:c.parse(x[1],p)};return u}parseObjectData(e,n,i,o){const{xScale:l,yScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(o);let p,x,y,v;for(p=0,x=o;p<x;++p)y=p+i,v=n[y],m[p]={x:l.parse(vn(v,u),y),y:c.parse(vn(v,h),y)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const o=this.chart,l=this._cachedMeta,c=n[e.axis],u={keys:qg(o,!0),values:n._stacks[e.axis]._visualValues};return Um(u,c,l.index,{mode:i})}updateRangeFromParsed(e,n,i,o){const l=i[n.axis];let c=l===null?NaN:l;const u=o&&i._stacks[n.axis];o&&u&&(o.values=u,c=Um(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const i=this._cachedMeta,o=i._parsed,l=i._sorted&&e===i.iScale,c=o.length,u=this._getOtherScale(e),h=DN(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=EN(u);let y,v;function w(){v=o[y];const j=v[u.axis];return!kt(v[e.axis])||p>j||x<j}for(y=0;y<c&&!(!w()&&(this.updateRangeFromParsed(m,e,v,h),l));++y);if(l){for(y=c-1;y>=0;--y)if(!w()){this.updateRangeFromParsed(m,e,v,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let o,l,c;for(o=0,l=n.length;o<l;++o)c=n[o][e.axis],kt(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,o=n.vScale,l=this.getParsed(e);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_N(ye(this.options.clip,SN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,o=i.data||[],l=n.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||o.length-u,m=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,l,u,h),p=u;p<u+h;++p){const x=o[p];x.hidden||(x.active&&m?c.push(x):x.draw(e,l))}for(p=0;p<c.length;++p)c[p].draw(e,l)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=PN(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=TN(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=i,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const o=n==="active",l=this._cachedDataOpts,c=e+"-"+n,u=l[c],h=this.enableOptionSharing&&hi(i);if(u)return Ym(u,h);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),x=o?[`${e}Hover`,"hover",e,""]:[e,""],y=m.getOptionScopes(this.getDataset(),p),v=Object.keys(He.elements[e]),w=()=>this.getContext(i,o,n),j=m.resolveNamedOptions(y,v,w,x);return j.$shared&&(j.$shared=h,l[c]=Object.freeze(Ym(j,h))),j}_resolveAnimations(e,n,i){const o=this.chart,l=this._cachedDataOpts,c=`animation-${n}`,u=l[c];if(u)return u;let h;if(o.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(y,this.getContext(e,i,n))}const m=new Vg(o,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),o=this._sharedOptions,l=this.getSharedOptions(i),c=this.includeOptions(n,l)||l!==o;return this.updateSharedOptions(l,n,i),{sharedOptions:l,includeOptions:c}}updateElement(e,n,i,o){Hc(o)?Object.assign(e,i):this._resolveAnimations(n,o).update(e,i)}updateSharedOptions(e,n,i){e&&!Hc(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,o){e.active=o;const l=this.getStyle(n,o);this._resolveAnimations(n,i,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const o=i.length,l=n.length,c=Math.min(l,o);c&&this.parse(0,c),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,n,i=!0){const o=this._cachedMeta,l=o.data,c=e+n;let u;const h=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(h(l),u=e;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,n),i&&this.updateElements(l,e,n,"reset")}updateElements(e,n,i,o){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,n);i._stacked&&Kr(i,o)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,o]=e;this[n](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function MN(s,e){if(!s._cache.$bar){const n=s.getMatchingVisibleMetas(e);let i=[];for(let o=0,l=n.length;o<l;o++)i=i.concat(n[o].controller.getAllParsedValues(s));s._cache.$bar=Dg(i.sort((o,l)=>o-l))}return s._cache.$bar}function AN(s){const e=s.iScale,n=MN(e,s.type);let i=e._length,o,l,c,u;const h=()=>{c===32767||c===-32768||(hi(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(o=0,l=n.length;o<l;++o)c=e.getPixelForValue(n[o]),h();for(u=void 0,o=0,l=e.ticks.length;o<l;++o)c=e.getPixelForTick(o),h();return i}function LN(s,e,n,i){const o=n.barThickness;let l,c;return Se(o)?(l=e.min*n.categoryPercentage,c=n.barPercentage):(l=o*i,c=1),{chunk:l/i,ratio:c,start:e.pixels[s]-l/2}}function ON(s,e,n,i){const o=e.pixels,l=o[s];let c=s>0?o[s-1]:null,u=s<o.length-1?o[s+1]:null;const h=n.categoryPercentage;c===null&&(c=l-(u===null?e.end-e.start:u-l)),u===null&&(u=l+l-c);const m=l-(l-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/i,ratio:n.barPercentage,start:m}}function FN(s,e,n,i){const o=n.parse(s[0],i),l=n.parse(s[1],i),c=Math.min(o,l),u=Math.max(o,l);let h=c,m=u;Math.abs(c)>Math.abs(u)&&(h=u,m=c),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:o,end:l,min:c,max:u}}function Yg(s,e,n,i){return We(s)?FN(s,e,n,i):e[n.axis]=n.parse(s,i),e}function Xm(s,e,n,i){const o=s.iScale,l=s.vScale,c=o.getLabels(),u=o===l,h=[];let m,p,x,y;for(m=n,p=n+i;m<p;++m)y=e[m],x={},x[o.axis]=u||o.parse(c[m],m),h.push(Yg(y,x,l,m));return h}function Uc(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function zN(s,e,n){return s!==0?is(s):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function BN(s){let e,n,i,o,l;return s.horizontal?(e=s.base>s.x,n="left",i="right"):(e=s.base<s.y,n="bottom",i="top"),e?(o="end",l="start"):(o="start",l="end"),{start:n,end:i,reverse:e,top:o,bottom:l}}function IN(s,e,n,i){let o=e.borderSkipped;const l={};if(!o){s.borderSkipped=l;return}if(o===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:m,bottom:p}=BN(s);o==="middle"&&n&&(s.enableBorderRadius=!0,(n._top||0)===i?o=m:(n._bottom||0)===i?o=p:(l[Km(p,c,u,h)]=!0,o=m)),l[Km(o,c,u,h)]=!0,s.borderSkipped=l}function Km(s,e,n,i){return i?(s=WN(s,e,n),s=Qm(s,n,e)):s=Qm(s,e,n),s}function WN(s,e,n){return s===e?n:s===n?e:s}function Qm(s,e,n){return s==="start"?e:s==="end"?n:s}function $N(s,{inflateAmount:e},n){s.inflateAmount=e==="auto"?n===1?.33:0:e}class HN extends vo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,o){return Xm(e,n,i,o)}parseArrayData(e,n,i,o){return Xm(e,n,i,o)}parseObjectData(e,n,i,o){const{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=l.axis==="x"?u:h,p=c.axis==="x"?u:h,x=[];let y,v,w,j;for(y=i,v=i+o;y<v;++y)j=n[y],w={},w[l.axis]=l.parse(vn(j,m),y),x.push(Yg(vn(j,p),w,c,y));return x}updateRangeFromParsed(e,n,i,o){super.updateRangeFromParsed(e,n,i,o);const l=i._custom;l&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:o}=n,l=this.getParsed(e),c=l._custom,u=Uc(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,o){const l=o==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:y}=this._getSharedOptions(n,o);for(let v=n;v<n+i;v++){const w=this.getParsed(v),j=l||Se(w[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),N=this._calculateBarIndexPixels(v,p),_=(w._stacks||{})[u.axis],C={horizontal:m,base:j.base,enableBorderRadius:!_||Uc(w._custom)||c===_._top||c===_._bottom,x:m?j.head:N.center,y:m?N.center:j.head,height:m?N.size:Math.abs(j.size),width:m?Math.abs(j.size):N.size};y&&(C.options=x||this.resolveDataElementOptions(v,e[v].active?"active":o));const P=C.options||e[v].options;IN(C,P,_,c),$N(C,P,p.ratio),this.updateElement(e[v],v,C,o)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),l=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],m=p=>{const x=p._parsed.find(v=>v[i.axis]===h),y=x&&x[p.vScale.axis];if(Se(y)||isNaN(y))return!0};for(const p of o)if(!(n!==void 0&&m(p))&&((l===!1||c.indexOf(p.stack)===-1||l===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ye(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const o=this._getStacks(e,i),l=n!==void 0?o.indexOf(n):-1;return l===-1?o.length-1:l}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,o=[];let l,c;for(l=0,c=n.data.length;l<c;++l)o.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const u=e.barThickness;return{min:u||AN(n),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:o},options:{base:l,minBarLength:c}}=this,u=l||0,h=this.getParsed(e),m=h._custom,p=Uc(m);let x=h[n.axis],y=0,v=i?this.applyStack(n,h,i):x,w,j;v!==x&&(y=v-x,v=x),p&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&is(x)!==is(m.barEnd)&&(y=0),y+=x);const N=!Se(l)&&!p?l:y;let _=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(y+v):w=_,j=w-_,Math.abs(j)<c){j=zN(j,n,u)*c,x===u&&(_-=j/2);const C=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),W=Math.min(C,P),L=Math.max(C,P);_=Math.max(Math.min(_,L),W),w=_+j,i&&!p&&(h._stacks[n.axis]._visualValues[o]=n.getValueForPixel(w)-n.getValueForPixel(_))}if(_===n.getPixelForValue(u)){const C=is(j)*n.getLineWidthForValue(u)/2;_+=C,j-=C}return{size:j,base:_,head:w,center:w+j/2}}_calculateBarIndexPixels(e,n){const i=n.scale,o=this.options,l=o.skipNull,c=ye(o.maxBarThickness,1/0);let u,h;const m=this._getAxisCount();if(n.grouped){const p=l?this._getStackCount(e):n.stackCount,x=o.barThickness==="flex"?ON(e,n,o,p*m):LN(e,n,o,p*m),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(ye(y,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+v;u=x.start+x.chunk*w+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(c,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,o=i.length;let l=0;for(;l<o;++l)this.getParsed(l)[n.axis]!==null&&!i[l].hidden&&i[l].draw(this._ctx)}}function UN(s,e,n){let i=1,o=1,l=0,c=0;if(e<ze){const u=s,h=u+e,m=Math.cos(u),p=Math.sin(u),x=Math.cos(h),y=Math.sin(h),v=(P,W,L)=>mi(P,u,h,!0)?1:Math.max(W,W*n,L,L*n),w=(P,W,L)=>mi(P,u,h,!0)?-1:Math.min(W,W*n,L,L*n),j=v(0,m,x),N=v(Ye,p,y),_=w(Ce,m,x),C=w(Ce+Ye,p,y);i=(j-_)/2,o=(N-C)/2,l=-(j+_)/2,c=-(N+C)/2}return{ratioX:i,ratioY:o,offsetX:l,offsetY:c}}class VN extends vo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:o}}=e.legend.options;return n.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let l=h=>+i[h];if(_e(i[e])){const{key:h="value"}=this._parsing;l=m=>+vn(i[m],h)}let c,u;for(c=e,u=e+n;c<u;++c)o._parsed[c]=l(c)}}_getRotation(){return rs(this.options.rotation-90)}_getCircumference(){return rs(this.options.circumference)}_getRotationExtents(){let e=ze,n=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const o=this.chart.getDatasetMeta(i).controller,l=o._getRotation(),c=o._getCircumference();e=Math.min(e,l),n=Math.max(n,l+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,o=this._cachedMeta,l=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-c)/2,0),h=Math.min(Xj(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:w,offsetY:j}=UN(x,p,h),N=(i.width-c)/y,_=(i.height-c)/v,C=Math.max(Math.min(N,_)/2,0),P=Cg(this.options.radius,C),W=Math.max(P*h,0),L=(P-W)/this._getVisibleDatasetWeightTotal();this.offsetX=w*P,this.offsetY=j*P,o.total=this.calculateTotal(),this.outerRadius=P-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*m,0),this.updateElements(l,0,l.length,e)}_circumference(e,n){const i=this.options,o=this._cachedMeta,l=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/ze)}updateElements(e,n,i,o){const l=o==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,p=(u.left+u.right)/2,x=(u.top+u.bottom)/2,y=l&&m.animateScale,v=y?0:this.innerRadius,w=y?0:this.outerRadius,{sharedOptions:j,includeOptions:N}=this._getSharedOptions(n,o);let _=this._getRotation(),C;for(C=0;C<n;++C)_+=this._circumference(C,l);for(C=n;C<n+i;++C){const P=this._circumference(C,l),W=e[C],L={x:p+this.offsetX,y:x+this.offsetY,startAngle:_,endAngle:_+P,circumference:P,outerRadius:w,innerRadius:v};N&&(L.options=j||this.resolveDataElementOptions(C,W.active?"active":o)),_+=P,this.updateElement(W,C,L,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,o;for(o=0;o<n.length;o++){const l=e._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ze*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,o=i.data.labels||[],l=Md(n._parsed[e],i.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let n=0;const i=this.chart;let o,l,c,u,h;if(!e){for(o=0,l=i.data.datasets.length;o<l;++o)if(i.isDatasetVisible(o)){c=i.getDatasetMeta(o),e=c.data,u=c.controller;break}}if(!e)return 0;for(o=0,l=e.length;o<l;++o)h=u.resolveDataElementOptions(o),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,o=e.length;i<o;++i){const l=this.resolveDataElementOptions(i);n=Math.max(n,l.offset||0,l.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ye(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class qN extends vo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:o=[],_dataset:l}=n,c=this.chart._animationsDisabled;let{start:u,count:h}=f1(n,o,c);this._drawStart=u,this._drawCount=h,m1(n)&&(u=0,h=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=o;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},e),this.updateElements(o,u,h,e)}updateElements(e,n,i,o){const l=o==="reset",{iScale:c,vScale:u,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(n,o),y=c.axis,v=u.axis,{spanGaps:w,segment:j}=this.options,N=fi(w)?w:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||l||o==="none",C=n+i,P=e.length;let W=n>0&&this.getParsed(n-1);for(let L=0;L<P;++L){const Y=e[L],k=_?Y:{};if(L<n||L>=C){k.skip=!0;continue}const M=this.getParsed(L),B=Se(M[v]),$=k[y]=c.getPixelForValue(M[y],L),q=k[v]=l||B?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,M,h):M[v],L);k.skip=isNaN($)||isNaN(q)||B,k.stop=L>0&&Math.abs(M[y]-W[y])>N,j&&(k.parsed=M,k.raw=m.data[L]),x&&(k.options=p||this.resolveDataElementOptions(L,Y.active?"active":o)),_||this.updateElement(Y,L,k,o),W=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const l=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,l,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class YN extends VN{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hd{static override(e){Object.assign(Hd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return un()}parse(){return un()}format(){return un()}add(){return un()}diff(){return un()}startOf(){return un()}endOf(){return un()}}var XN={_date:Hd};function KN(s,e,n,i){const{controller:o,data:l,_sorted:c}=s,u=o._cachedMeta.iScale,h=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&l.length){const m=u._reversePixels?l1:pn;if(i){if(o._sharedOptions){const p=l[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const y=m(l,e,n-x),v=m(l,e,n+x);return{lo:y.lo,hi:v.hi}}}}else{const p=m(l,e,n);if(h){const{vScale:x}=o._cachedMeta,{_parsed:y}=s,v=y.slice(0,p.lo+1).reverse().findIndex(j=>!Se(j[x.axis]));p.lo-=Math.max(0,v);const w=y.slice(p.hi).findIndex(j=>!Se(j[x.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:l.length-1}}function jo(s,e,n,i,o){const l=s.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,h=l.length;u<h;++u){const{index:m,data:p}=l[u],{lo:x,hi:y}=KN(l[u],e,c,o);for(let v=x;v<=y;++v){const w=p[v];w.skip||i(w,m,v)}}}function QN(s){const e=s.indexOf("x")!==-1,n=s.indexOf("y")!==-1;return function(i,o){const l=e?Math.abs(i.x-o.x):0,c=n?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Vc(s,e,n,i,o){const l=[];return!o&&!s.isPointInArea(e)||jo(s,n,e,function(u,h,m){!o&&!ys(u,s.chartArea,0)||u.inRange(e.x,e.y,i)&&l.push({element:u,datasetIndex:h,index:m})},!0),l}function GN(s,e,n,i){let o=[];function l(c,u,h){const{startAngle:m,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:x}=Tg(c,{x:e.x,y:e.y});mi(x,m,p)&&o.push({element:c,datasetIndex:u,index:h})}return jo(s,n,e,l),o}function JN(s,e,n,i,o,l){let c=[];const u=QN(n);let h=Number.POSITIVE_INFINITY;function m(p,x,y){const v=p.inRange(e.x,e.y,o);if(i&&!v)return;const w=p.getCenterPoint(o);if(!(!!l||s.isPointInArea(w))&&!v)return;const N=u(e,w);N<h?(c=[{element:p,datasetIndex:x,index:y}],h=N):N===h&&c.push({element:p,datasetIndex:x,index:y})}return jo(s,n,e,m),c}function qc(s,e,n,i,o,l){return!l&&!s.isPointInArea(e)?[]:n==="r"&&!i?GN(s,e,n,o):JN(s,e,n,i,o,l)}function Gm(s,e,n,i,o){const l=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return jo(s,n,e,(h,m,p)=>{h[c]&&h[c](e[n],o)&&(l.push({element:h,datasetIndex:m,index:p}),u=u||h.inRange(e.x,e.y,o))}),i&&!u?[]:l}var ZN={modes:{index(s,e,n,i){const o=hn(e,s),l=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Vc(s,o,l,i,c):qc(s,o,l,!1,i,c),h=[];return u.length?(s.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,x=m.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:p})}),h):[]},dataset(s,e,n,i){const o=hn(e,s),l=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Vc(s,o,l,i,c):qc(s,o,l,!1,i,c);if(u.length>0){const h=u[0].datasetIndex,m=s.getDatasetMeta(h).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:h,index:p})}return u},point(s,e,n,i){const o=hn(e,s),l=n.axis||"xy",c=n.includeInvisible||!1;return Vc(s,o,l,i,c)},nearest(s,e,n,i){const o=hn(e,s),l=n.axis||"xy",c=n.includeInvisible||!1;return qc(s,o,l,n.intersect,i,c)},x(s,e,n,i){const o=hn(e,s);return Gm(s,o,"x",n.intersect,i)},y(s,e,n,i){const o=hn(e,s);return Gm(s,o,"y",n.intersect,i)}}};const Xg=["left","top","right","bottom"];function Qr(s,e){return s.filter(n=>n.pos===e)}function Jm(s,e){return s.filter(n=>Xg.indexOf(n.pos)===-1&&n.box.axis===e)}function Gr(s,e){return s.sort((n,i)=>{const o=e?i:n,l=e?n:i;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function ew(s){const e=[];let n,i,o,l,c,u;for(n=0,i=(s||[]).length;n<i;++n)o=s[n],{position:l,options:{stack:c,stackWeight:u=1}}=o,e.push({index:n,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&l+c,stackWeight:u});return e}function tw(s){const e={};for(const n of s){const{stack:i,pos:o,stackWeight:l}=n;if(!i||!Xg.includes(o))continue;const c=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function sw(s,e){const n=tw(s),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let l,c,u;for(l=0,c=s.length;l<c;++l){u=s[l];const{fullSize:h}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=o):(u.width=i,u.height=p?p*o:h&&e.availableHeight)}return n}function nw(s){const e=ew(s),n=Gr(e.filter(m=>m.box.fullSize),!0),i=Gr(Qr(e,"left"),!0),o=Gr(Qr(e,"right")),l=Gr(Qr(e,"top"),!0),c=Gr(Qr(e,"bottom")),u=Jm(e,"x"),h=Jm(e,"y");return{fullSize:n,leftAndTop:i.concat(l),rightAndBottom:o.concat(h).concat(c).concat(u),chartArea:Qr(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:l.concat(c).concat(u)}}function Zm(s,e,n,i){return Math.max(s[n],e[n])+Math.max(s[i],e[i])}function Kg(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function rw(s,e,n,i){const{pos:o,box:l}=n,c=s.maxPadding;if(!_e(o)){n.size&&(s[o]-=n.size);const x=i[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?l.height:l.width),n.size=x.size/x.count,s[o]+=n.size}l.getPadding&&Kg(c,l.getPadding());const u=Math.max(0,e.outerWidth-Zm(c,s,"left","right")),h=Math.max(0,e.outerHeight-Zm(c,s,"top","bottom")),m=u!==s.w,p=h!==s.h;return s.w=u,s.h=h,n.horizontal?{same:m,other:p}:{same:p,other:m}}function iw(s){const e=s.maxPadding;function n(i){const o=Math.max(e[i]-s[i],0);return s[i]+=o,o}s.y+=n("top"),s.x+=n("left"),n("right"),n("bottom")}function aw(s,e){const n=e.maxPadding;function i(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{l[c]=Math.max(e[c],n[c])}),l}return i(s?["left","right"]:["top","bottom"])}function ti(s,e,n,i){const o=[];let l,c,u,h,m,p;for(l=0,c=s.length,m=0;l<c;++l){u=s[l],h=u.box,h.update(u.width||e.w,u.height||e.h,aw(u.horizontal,e));const{same:x,other:y}=rw(e,n,u,i);m|=x&&o.length,p=p||y,h.fullSize||o.push(u)}return m&&ti(o,e,n,i)||p}function $a(s,e,n,i,o){s.top=n,s.left=e,s.right=e+i,s.bottom=n+o,s.width=i,s.height=o}function ep(s,e,n,i){const o=n.padding;let{x:l,y:c}=e;for(const u of s){const h=u.box,m=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*p,y=m.size||h.height;hi(m.start)&&(c=m.start),h.fullSize?$a(h,o.left,c,n.outerWidth-o.right-o.left,y):$a(h,e.left+m.placed,c,x,y),m.start=c,m.placed+=x,c=h.bottom}else{const x=e.h*p,y=m.size||h.width;hi(m.start)&&(l=m.start),h.fullSize?$a(h,l,o.top,y,n.outerHeight-o.bottom-o.top):$a(h,l,e.top+m.placed,y,x),m.start=l,m.placed+=x,l=h.right}}e.x=l,e.y=c}var Bt={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},s.boxes.push(e)},removeBox(s,e){const n=s.boxes?s.boxes.indexOf(e):-1;n!==-1&&s.boxes.splice(n,1)},configure(s,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(s,e,n,i){if(!s)return;const o=ht(s.options.layout.padding),l=Math.max(e-o.width,0),c=Math.max(n-o.height,0),u=nw(s.boxes),h=u.vertical,m=u.horizontal;Te(s.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const p=h.reduce((j,N)=>N.box.options&&N.box.options.display===!1?j:j+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/p,hBoxMaxHeight:c/2}),y=Object.assign({},o);Kg(y,ht(i));const v=Object.assign({maxPadding:y,w:l,h:c,x:o.left,y:o.top},o),w=sw(h.concat(m),x);ti(u.fullSize,v,x,w),ti(h,v,x,w),ti(m,v,x,w)&&ti(h,v,x,w),iw(v),ep(u.leftAndTop,v,x,w),v.x+=v.w,v.y+=v.h,ep(u.rightAndBottom,v,x,w),s.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Te(u.chartArea,j=>{const N=j.box;Object.assign(N,s.chartArea),N.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Qg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,o){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):i)}}isAttached(e){return!0}updateConfig(e){}}class ow extends Qg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ja="$chartjs",lw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tp=s=>s===null||s==="";function cw(s,e){const n=s.style,i=s.getAttribute("height"),o=s.getAttribute("width");if(s[Ja]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tp(o)){const l=zm(s,"width");l!==void 0&&(s.width=l)}if(tp(i))if(s.style.height==="")s.height=s.width/(e||2);else{const l=zm(s,"height");l!==void 0&&(s.height=l)}return s}const Gg=rN?{passive:!0}:!1;function dw(s,e,n){s&&s.addEventListener(e,n,Gg)}function uw(s,e,n){s&&s.canvas&&s.canvas.removeEventListener(e,n,Gg)}function hw(s,e){const n=lw[s.type]||s.type,{x:i,y:o}=hn(s,e);return{type:n,chart:e,native:s,x:i!==void 0?i:null,y:o!==void 0?o:null}}function lo(s,e){for(const n of s)if(n===e||n.contains(e))return!0}function fw(s,e,n){const i=s.canvas,o=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||lo(u.addedNodes,i),c=c&&!lo(u.removedNodes,i);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function mw(s,e,n){const i=s.canvas,o=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||lo(u.removedNodes,i),c=c&&!lo(u.addedNodes,i);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const gi=new Map;let sp=0;function Jg(){const s=window.devicePixelRatio;s!==sp&&(sp=s,gi.forEach((e,n)=>{n.currentDevicePixelRatio!==s&&e()}))}function pw(s,e){gi.size||window.addEventListener("resize",Jg),gi.set(s,e)}function gw(s){gi.delete(s),gi.size||window.removeEventListener("resize",Jg)}function xw(s,e,n){const i=s.canvas,o=i&&$d(i);if(!o)return;const l=Ag((u,h)=>{const m=o.clientWidth;n(u,h),m<o.clientWidth&&n()},window),c=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,p=h.contentRect.height;m===0&&p===0||l(m,p)});return c.observe(o),pw(s,l),c}function Yc(s,e,n){n&&n.disconnect(),e==="resize"&&gw(s)}function bw(s,e,n){const i=s.canvas,o=Ag(l=>{s.ctx!==null&&n(hw(l,s))},s);return dw(i,e,o),o}class yw extends Qg{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(cw(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Ja])return!1;const i=n[Ja].initial;["height","width"].forEach(l=>{const c=i[l];Se(c)?n.removeAttribute(l):n.setAttribute(l,c)});const o=i.style||{};return Object.keys(o).forEach(l=>{n.style[l]=o[l]}),n.width=n.width,delete n[Ja],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),c={attach:fw,detach:mw,resize:xw}[n]||bw;o[n]=c(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),o=i[n];if(!o)return;({attach:Yc,detach:Yc,resize:Yc}[n]||uw)(e,n,o),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,o){return nN(e,n,i,o)}isAttached(e){const n=e&&$d(e);return!!(n&&n.isConnected)}}function vw(s){return!Wd()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?ow:yw}class vs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return fi(this.x)&&fi(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const o={};return e.forEach(l=>{o[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),o}}function jw(s,e){const n=s.options.ticks,i=Nw(s),o=Math.min(n.maxTicksLimit||i,i),l=n.major.enabled?Sw(e):[],c=l.length,u=l[0],h=l[c-1],m=[];if(c>o)return _w(e,m,l,c/o),m;const p=ww(l,e,o);if(c>0){let x,y;const v=c>1?Math.round((h-u)/(c-1)):null;for(Ha(e,m,p,Se(v)?0:u-v,u),x=0,y=c-1;x<y;x++)Ha(e,m,p,l[x],l[x+1]);return Ha(e,m,p,h,Se(v)?e.length:h+v),m}return Ha(e,m,p),m}function Nw(s){const e=s.options.offset,n=s._tickSize(),i=s._length/n+(e?0:1),o=s._maxLength/n;return Math.floor(Math.min(i,o))}function ww(s,e,n){const i=kw(s),o=e.length/n;if(!i)return Math.max(o,1);const l=s1(i);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>o)return h}return Math.max(o,1)}function Sw(s){const e=[];let n,i;for(n=0,i=s.length;n<i;n++)s[n].major&&e.push(n);return e}function _w(s,e,n,i){let o=0,l=n[0],c;for(i=Math.ceil(i),c=0;c<s.length;c++)c===l&&(e.push(s[c]),o++,l=n[o*i])}function Ha(s,e,n,i,o){const l=ye(i,0),c=Math.min(ye(o,s.length),s.length);let u=0,h,m,p;for(n=Math.ceil(n),o&&(h=o-i,n=h/Math.floor(h/n)),p=l;p<0;)u++,p=Math.round(l+u*n);for(m=Math.max(l,0);m<c;m++)m===p&&(e.push(s[m]),u++,p=Math.round(l+u*n))}function kw(s){const e=s.length;let n,i;if(e<2)return!1;for(i=s[0],n=1;n<e;++n)if(s[n]-s[n-1]!==i)return!1;return i}const Cw=s=>s==="left"?"right":s==="right"?"left":s,np=(s,e,n)=>e==="top"||e==="left"?s[e]+n:s[e]-n,rp=(s,e)=>Math.min(e||s,s);function ip(s,e){const n=[],i=s.length/e,o=s.length;let l=0;for(;l<o;l+=i)n.push(s[Math.floor(l)]);return n}function Ew(s,e,n){const i=s.ticks.length,o=Math.min(e,i-1),l=s._startPixel,c=s._endPixel,u=1e-6;let h=s.getPixelForTick(o),m;if(!(n&&(i===1?m=Math.max(h-l,c-h):e===0?m=(s.getPixelForTick(1)-h)/2:m=(h-s.getPixelForTick(o-1))/2,h+=o<e?m:-m,h<l-u||h>c+u)))return h}function Rw(s,e){Te(s,n=>{const i=n.gc,o=i.length/2;let l;if(o>e){for(l=0;l<o;++l)delete n.data[i[l]];i.splice(0,o)}})}function Jr(s){return s.drawTicks?s.tickLength:0}function ap(s,e){if(!s.display)return 0;const n=Je(s.font,e),i=ht(s.padding);return(We(s.text)?s.text.length:1)*n.lineHeight+i.height}function Tw(s,e){return Xs(s,{scale:e,type:"scale"})}function Pw(s,e,n){return Xs(s,{tick:n,index:e,type:"tick"})}function Dw(s,e,n){let i=Pd(s);return(n&&e!=="right"||!n&&e==="right")&&(i=Cw(i)),i}function Mw(s,e,n,i){const{top:o,left:l,bottom:c,right:u,chart:h}=s,{chartArea:m,scales:p}=h;let x=0,y,v,w;const j=c-o,N=u-l;if(s.isHorizontal()){if(v=ct(i,l,u),_e(n)){const _=Object.keys(n)[0],C=n[_];w=p[_].getPixelForValue(C)+j-e}else n==="center"?w=(m.bottom+m.top)/2+j-e:w=np(s,n,e);y=u-l}else{if(_e(n)){const _=Object.keys(n)[0],C=n[_];v=p[_].getPixelForValue(C)-N+e}else n==="center"?v=(m.left+m.right)/2-N+e:v=np(s,n,e);w=ct(i,c,o),x=n==="left"?-Ye:Ye}return{titleX:v,titleY:w,maxWidth:y,rotation:x}}class or extends vs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:o}=this;return e=ts(e,Number.POSITIVE_INFINITY),n=ts(n,Number.NEGATIVE_INFINITY),i=ts(i,Number.POSITIVE_INFINITY),o=ts(o,Number.NEGATIVE_INFINITY),{min:ts(e,i),max:ts(n,o),minDefined:kt(e),maxDefined:kt(n)}}getMinMax(e){let{min:n,max:i,minDefined:o,maxDefined:l}=this.getUserBounds(),c;if(o&&l)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)c=u[h].controller.getMinMax(this,e),o||(n=Math.min(n,c.min)),l||(i=Math.max(i,c.max));return n=l&&n>i?i:n,i=o&&n>i?n:i,{min:ts(n,ts(i,n)),max:ts(i,ts(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:o,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L1(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?ip(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=jw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,o,l;for(i=0,o=e.length;i<o;i++)l=e[i],l.label=Me(n.callback,[l.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=rp(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,l=n.maxRotation;let c=o,u,h,m;if(!this._isVisible()||!n.display||o>=l||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const p=this._getLabelSizes(),x=p.widest.width,y=p.highest.height,v=ut(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/i:v/(i-1),x+6>u&&(u=v/(i-(e.offset?.5:1)),h=this.maxHeight-Jr(e.grid)-n.padding-ap(e.title,this.chart.options.font),m=Math.sqrt(x*x+y*y),c=Rd(Math.min(Math.asin(ut((p.highest.height+6)/u,-1,1)),Math.asin(ut(h/m,-1,1))-Math.asin(ut(y/m,-1,1)))),c=Math.max(o,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:o,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=ap(o,n.options.font);if(u?(e.width=this.maxWidth,e.height=Jr(l)+h):(e.height=this.maxHeight,e.width=Jr(l)+h),i.display&&this.ticks.length){const{first:m,last:p,widest:x,highest:y}=this._getLabelSizes(),v=i.padding*2,w=rs(this.labelRotation),j=Math.cos(w),N=Math.sin(w);if(u){const _=i.mirror?0:N*x.width+j*y.height;e.height=Math.min(this.maxHeight,e.height+_+v)}else{const _=i.mirror?0:j*x.width+N*y.height;e.width=Math.min(this.maxWidth,e.width+_+v)}this._calculatePadding(m,p,N,j)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,o){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;h?m?(y=o*e.width,v=i*n.height):(y=i*e.height,v=o*n.width):l==="start"?v=n.width:l==="end"?y=e.width:l!=="inner"&&(y=e.width/2,v=n.width/2),this.paddingLeft=Math.max((y-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let p=n.height/2,x=e.height/2;l==="start"?(p=0,x=e.height):l==="end"&&(p=n.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Se(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=ip(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:o,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(n/rp(n,i));let m=0,p=0,x,y,v,w,j,N,_,C,P,W,L;for(x=0;x<n;x+=h){if(w=e[x].label,j=this._resolveTickFontOptions(x),o.font=N=j.string,_=l[N]=l[N]||{data:{},gc:[]},C=j.lineHeight,P=W=0,!Se(w)&&!We(w))P=ao(o,_.data,_.gc,P,w),W=C;else if(We(w))for(y=0,v=w.length;y<v;++y)L=w[y],!Se(L)&&!We(L)&&(P=ao(o,_.data,_.gc,P,L),W+=C);c.push(P),u.push(W),m=Math.max(P,m),p=Math.max(W,p)}Rw(l,n);const Y=c.indexOf(m),k=u.indexOf(p),M=B=>({width:c[B]||0,height:u[B]||0});return{first:M(0),last:M(n-1),widest:M(Y),highest:M(k),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return o1(this._alignToPixels?dn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Pw(this.getContext(),e,i))}return this.$context||(this.$context=Tw(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rs(this.labelRotation),i=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*i>u*o?u/i:h/o:h*o<u*i?h/i:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,o=this.options,{grid:l,position:c,border:u}=o,h=l.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),y=Jr(l),v=[],w=u.setContext(this.getContext()),j=w.display?w.width:0,N=j/2,_=function(F){return dn(i,F,j)};let C,P,W,L,Y,k,M,B,$,q,z,ne;if(c==="top")C=_(this.bottom),k=this.bottom-y,B=C-N,q=_(e.top)+N,ne=e.bottom;else if(c==="bottom")C=_(this.top),q=e.top,ne=_(e.bottom)-N,k=C+N,B=this.top+y;else if(c==="left")C=_(this.right),Y=this.right-y,M=C-N,$=_(e.left)+N,z=e.right;else if(c==="right")C=_(this.left),$=e.left,z=_(e.right)-N,Y=C+N,M=this.left+y;else if(n==="x"){if(c==="center")C=_((e.top+e.bottom)/2+.5);else if(_e(c)){const F=Object.keys(c)[0],Q=c[F];C=_(this.chart.scales[F].getPixelForValue(Q))}q=e.top,ne=e.bottom,k=C+N,B=k+y}else if(n==="y"){if(c==="center")C=_((e.left+e.right)/2);else if(_e(c)){const F=Object.keys(c)[0],Q=c[F];C=_(this.chart.scales[F].getPixelForValue(Q))}Y=C-N,M=Y-y,$=e.left,z=e.right}const ee=ye(o.ticks.maxTicksLimit,x),U=Math.max(1,Math.ceil(x/ee));for(P=0;P<x;P+=U){const F=this.getContext(P),Q=l.setContext(F),X=u.setContext(F),re=Q.lineWidth,te=Q.color,A=X.dash||[],K=X.dashOffset,me=Q.tickWidth,pe=Q.tickColor,ve=Q.tickBorderDash||[],xe=Q.tickBorderDashOffset;W=Ew(this,P,h),W!==void 0&&(L=dn(i,W,re),m?Y=M=$=z=L:k=B=q=ne=L,v.push({tx1:Y,ty1:k,tx2:M,ty2:B,x1:$,y1:q,x2:z,y2:ne,width:re,color:te,borderDash:A,borderDashOffset:K,tickWidth:me,tickColor:pe,tickBorderDash:ve,tickBorderDashOffset:xe}))}return this._ticksLength=x,this._borderValue=C,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:o,ticks:l}=i,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:p,mirror:x}=l,y=Jr(i.grid),v=y+p,w=x?-p:v,j=-rs(this.labelRotation),N=[];let _,C,P,W,L,Y,k,M,B,$,q,z,ne="middle";if(o==="top")Y=this.bottom-w,k=this._getXAxisLabelAlignment();else if(o==="bottom")Y=this.top+w,k=this._getXAxisLabelAlignment();else if(o==="left"){const U=this._getYAxisLabelAlignment(y);k=U.textAlign,L=U.x}else if(o==="right"){const U=this._getYAxisLabelAlignment(y);k=U.textAlign,L=U.x}else if(n==="x"){if(o==="center")Y=(e.top+e.bottom)/2+v;else if(_e(o)){const U=Object.keys(o)[0],F=o[U];Y=this.chart.scales[U].getPixelForValue(F)+v}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")L=(e.left+e.right)/2-v;else if(_e(o)){const U=Object.keys(o)[0],F=o[U];L=this.chart.scales[U].getPixelForValue(F)}k=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(h==="start"?ne="top":h==="end"&&(ne="bottom"));const ee=this._getLabelSizes();for(_=0,C=u.length;_<C;++_){P=u[_],W=P.label;const U=l.setContext(this.getContext(_));M=this.getPixelForTick(_)+l.labelOffset,B=this._resolveTickFontOptions(_),$=B.lineHeight,q=We(W)?W.length:1;const F=q/2,Q=U.color,X=U.textStrokeColor,re=U.textStrokeWidth;let te=k;c?(L=M,k==="inner"&&(_===C-1?te=this.options.reverse?"left":"right":_===0?te=this.options.reverse?"right":"left":te="center"),o==="top"?m==="near"||j!==0?z=-q*$+$/2:m==="center"?z=-ee.highest.height/2-F*$+$:z=-ee.highest.height+$/2:m==="near"||j!==0?z=$/2:m==="center"?z=ee.highest.height/2-F*$:z=ee.highest.height-q*$,x&&(z*=-1),j!==0&&!U.showLabelBackdrop&&(L+=$/2*Math.sin(j))):(Y=M,z=(1-q)*$/2);let A;if(U.showLabelBackdrop){const K=ht(U.backdropPadding),me=ee.heights[_],pe=ee.widths[_];let ve=z-K.top,xe=0-K.left;switch(ne){case"middle":ve-=me/2;break;case"bottom":ve-=me;break}switch(k){case"center":xe-=pe/2;break;case"right":xe-=pe;break;case"inner":_===C-1?xe-=pe:_>0&&(xe-=pe/2);break}A={left:xe,top:ve,width:pe+K.width,height:me+K.height,color:U.backdropColor}}N.push({label:W,font:B,textOffset:z,options:{rotation:j,color:Q,strokeColor:X,strokeWidth:re,textAlign:te,textBaseline:ne,translation:[L,Y],backdrop:A}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rs(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:o,padding:l}}=this.options,c=this._getLabelSizes(),u=e+l,h=c.widest.width;let m,p;return n==="left"?o?(p=this.right+l,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p+=h)):(p=this.right-u,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p=this.left)):n==="right"?o?(p=this.left+l,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p-=h)):(p=this.left+u,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:o,width:l,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,o,l,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(l=>l.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const u=(h,m,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(l=0,c=o.length;l<c;++l){const h=o[l];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:o}}=this,l=i.setContext(this.getContext()),c=i.display?l.width:0;if(!c)return;const u=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,p,x,y;this.isHorizontal()?(m=dn(e,this.left,c)-c/2,p=dn(e,this.right,u)+u/2,x=y=h):(x=dn(e,this.top,c)-c/2,y=dn(e,this.bottom,u)+u/2,m=p=h),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(m,x),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&Ld(i,o);const l=this.getLabelItems(e);for(const c of l){const u=c.options,h=c.font,m=c.label,p=c.textOffset;Nn(i,m,0,p,h,u)}o&&Od(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:o}}=this;if(!i.display)return;const l=Je(i.font),c=ht(i.padding),u=i.align;let h=l.lineHeight/2;n==="bottom"||n==="center"||_e(n)?(h+=c.bottom,We(i.text)&&(h+=l.lineHeight*(i.text.length-1))):h+=c.top;const{titleX:m,titleY:p,maxWidth:x,rotation:y}=Mw(this,h,n,u);Nn(e,i.text,0,0,l,{color:i.color,maxWidth:x,rotation:y,textAlign:Dw(u,n,o),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ye(e.grid&&e.grid.z,-1),o=ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==or.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:i,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let l,c;for(l=0,c=n.length;l<c;++l){const u=n[l];u[i]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Je(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ua{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Ow(n)&&(i=this.register(n));const o=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in o||(o[l]=e,Aw(e,c,i),this.override&&He.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,o=this.scope;i in n&&delete n[i],o&&i in He[o]&&(delete He[o][i],this.override&&delete jn[i])}}function Aw(s,e,n){const i=ui(Object.create(null),[n?He.get(n):{},He.get(e),s.defaults]);He.set(e,i),s.defaultRoutes&&Lw(e,s.defaultRoutes),s.descriptors&&He.describe(e,s.descriptors)}function Lw(s,e){Object.keys(e).forEach(n=>{const i=n.split("."),o=i.pop(),l=[s].concat(i).join("."),c=e[n].split("."),u=c.pop(),h=c.join(".");He.route(l,o,h,u)})}function Ow(s){return"id"in s&&"defaults"in s}class Fw{constructor(){this.controllers=new Ua(vo,"datasets",!0),this.elements=new Ua(vs,"elements"),this.plugins=new Ua(Object,"plugins"),this.scales=new Ua(or,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(o=>{const l=i||this._getRegistryForType(o);i||l.isForType(o)||l===this.plugins&&o.id?this._exec(e,l,o):Te(o,c=>{const u=i||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,i){const o=Ed(e);Me(i["before"+o],[],i),n[e](i),Me(i["after"+o],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var ns=new Fw;class zw{constructor(){this._init=[]}notify(e,n,i,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=o?this._descriptors(e).filter(o):this._descriptors(e),c=this._notify(l,e,n,i);return n==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,i,o){o=o||{};for(const l of e){const c=l.plugin,u=c[i],h=[n,o,l.options];if(Me(u,h,c)===!1&&o.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,o=ye(i.options&&i.options.plugins,{}),l=Bw(i);return o===!1&&!n?[]:Ww(e,l,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,o=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(o(n,i),e,"stop"),this._notify(o(i,n),e,"start")}}function Bw(s){const e={},n=[],i=Object.keys(ns.plugins.items);for(let l=0;l<i.length;l++)n.push(ns.getPlugin(i[l]));const o=s.plugins||[];for(let l=0;l<o.length;l++){const c=o[l];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function Iw(s,e){return!e&&s===!1?null:s===!0?{}:s}function Ww(s,{plugins:e,localIds:n},i,o){const l=[],c=s.getContext();for(const u of e){const h=u.id,m=Iw(i[h],o);m!==null&&l.push({plugin:u,options:$w(s.config,{plugin:u,local:n[h]},m,c)})}return l}function $w(s,{plugin:e,local:n},i,o){const l=s.pluginScopeKeys(e),c=s.getOptionScopes(i,l);return n&&e.defaults&&c.push(e.defaults),s.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ud(s,e){const n=He.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Hw(s,e){let n=s;return s==="_index_"?n=e:s==="_value_"&&(n=e==="x"?"y":"x"),n}function Uw(s,e){return s===e?"_index_":"_value_"}function op(s){if(s==="x"||s==="y"||s==="r")return s}function Vw(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function hd(s,...e){if(op(s))return s;for(const n of e){const i=n.axis||Vw(n.position)||s.length>1&&op(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function lp(s,e,n){if(n[e+"AxisID"]===s)return{axis:e}}function qw(s,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(n.length)return lp(s,"x",n[0])||lp(s,"y",n[0])}return{}}function Yw(s,e){const n=jn[s.type]||{scales:{}},i=e.scales||{},o=ud(s.type,e),l=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!_e(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=hd(c,u,qw(c,s),He.scales[u.type]),m=Uw(h,o),p=n.scales||{};l[c]=ni(Object.create(null),[{axis:h},u,p[h],p[m]])}),s.data.datasets.forEach(c=>{const u=c.type||s.type,h=c.indexAxis||ud(u,e),p=(jn[u]||{}).scales||{};Object.keys(p).forEach(x=>{const y=Hw(x,h),v=c[y+"AxisID"]||y;l[v]=l[v]||Object.create(null),ni(l[v],[{axis:y},i[v],p[x]])})}),Object.keys(l).forEach(c=>{const u=l[c];ni(u,[He.scales[u.type],He.scale])}),l}function Zg(s){const e=s.options||(s.options={});e.plugins=ye(e.plugins,{}),e.scales=Yw(s,e)}function ex(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Xw(s){return s=s||{},s.data=ex(s.data),Zg(s),s}const cp=new Map,tx=new Set;function Va(s,e){let n=cp.get(s);return n||(n=e(),cp.set(s,n),tx.add(n)),n}const Zr=(s,e,n)=>{const i=vn(e,n);i!==void 0&&s.add(i)};class Kw{constructor(e){this._config=Xw(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ex(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Va(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Va(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Va(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Va(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let o=i.get(e);return(!o||n)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,n,i){const{options:o,type:l}=this,c=this._cachedScopes(e,i),u=c.get(n);if(u)return u;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(x=>Zr(h,e,x))),p.forEach(x=>Zr(h,o,x)),p.forEach(x=>Zr(h,jn[l]||{},x)),p.forEach(x=>Zr(h,He,x)),p.forEach(x=>Zr(h,cd,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),tx.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,jn[n]||{},He.datasets[n]||{},{type:n},He,cd]}resolveNamedOptions(e,n,i,o=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=dp(this._resolverCache,e,o);let h=c;if(Gw(c,n)){l.$shared=!1,i=qs(i)?i():i;const m=this.createResolver(e,i,u);h=er(c,i,m)}for(const m of n)l[m]=h[m];return l}createResolver(e,n,i=[""],o){const{resolver:l}=dp(this._resolverCache,e,i);return _e(n)?er(l,n,void 0,o):l}}function dp(s,e,n){let i=s.get(e);i||(i=new Map,s.set(e,i));const o=n.join();let l=i.get(o);return l||(l={resolver:zd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(o,l)),l}const Qw=s=>_e(s)&&Object.getOwnPropertyNames(s).some(e=>qs(s[e]));function Gw(s,e){const{isScriptable:n,isIndexable:i}=Fg(s);for(const o of e){const l=n(o),c=i(o),u=(c||l)&&s[o];if(l&&(qs(u)||Qw(u))||c&&We(u))return!0}return!1}var Jw="4.5.0";const Zw=["top","bottom","left","right","chartArea"];function up(s,e){return s==="top"||s==="bottom"||Zw.indexOf(s)===-1&&e==="x"}function hp(s,e){return function(n,i){return n[s]===i[s]?n[e]-i[e]:n[s]-i[s]}}function fp(s){const e=s.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[s],e)}function eS(s){const e=s.chart,n=e.options.animation;Me(n&&n.onProgress,[s],e)}function sx(s){return Wd()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Za={},mp=s=>{const e=sx(s);return Object.values(Za).filter(n=>n.canvas===e).pop()};function tS(s,e,n){const i=Object.keys(s);for(const o of i){const l=+o;if(l>=e){const c=s[o];delete s[o],(n>0||l>e)&&(s[l+n]=c)}}}function sS(s,e,n,i){return!n||s.type==="mouseout"?null:i?e:s}let Sn=class{static defaults=He;static instances=Za;static overrides=jn;static registry=ns;static version=Jw;static getChart=mp;static register(...e){ns.add(...e),pp()}static unregister(...e){ns.remove(...e),pp()}constructor(e,n){const i=this.config=new Kw(n),o=sx(e),l=mp(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||vw(o)),this.platform.updateConfig(i);const u=this.platform.acquireContext(o,c.aspectRatio),h=u&&u.canvas,m=h&&h.height,p=h&&h.width;if(this.id=Yj(),this.ctx=u,this.canvas=h,this.width=p,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=u1(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],Za[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}gs.listen(this,"complete",fp),gs.listen(this,"progress",eS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:o,_aspectRatio:l}=this;return Se(e)?n&&l?l:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Am(this.canvas,this.ctx),this}stop(){return gs.stop(this),this}resize(e,n){gs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,o=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,e,n,l),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Fm(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Me(i.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Te(n,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,o=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let l=[];n&&(l=l.concat(Object.keys(n).map(c=>{const u=n[c],h=hd(c,u),m=h==="r",p=h==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),Te(l,c=>{const u=c.options,h=u.id,m=hd(h,u),p=ye(u.type,c.dtype);(u.position===void 0||up(u.position,m)!==up(c.dposition))&&(u.position=c.dposition),o[h]=!0;let x=null;if(h in i&&i[h].type===p)x=i[h];else{const y=ns.getScale(p);x=new y({id:h,type:p,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(u,e)}),Te(o,(c,u)=>{c||delete i[u]}),Te(i,c=>{Bt.configure(this,c,c.options),Bt.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((o,l)=>o.index-l.index),i>n){for(let o=n;o<i;++o)this._destroyDatasetMeta(o);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(hp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,o)=>{n.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=n.length;i<o;i++){const l=n[i];let c=this.getDatasetMeta(i);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=l.indexAxis||ud(u,this.options),c.order=l.order||0,c.index=i,c.label=""+l.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const h=ns.getController(u),{datasetElementType:m,dataElementType:p}=He.datasets[u];Object.assign(h,{dataElementType:ns.getElement(p),datasetElementType:m&&ns.getElement(m)}),c.controller=new h(this,i),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:x}=this.getDatasetMeta(m),y=!o&&l.indexOf(x)===-1;x.buildOrUpdateElements(y),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),o||Te(l,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hp("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Te(this.scales,e=>{Bt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!_m(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:l}of n){const c=i==="_removeElements"?-l:l;tS(e,o,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=l=>new Set(e.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),o=i(0);for(let l=1;l<n;l++)if(!_m(o,i(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Te(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,qs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gs.has(this)?this.attached&&!gs.running(this)&&gs.start(this):(this.draw(),fp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let o,l;for(o=0,l=n.length;o<l;++o){const c=n[o];(!e||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=bN(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Ld(n,o),e.controller.draw(),o&&Od(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ys(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,o){const l=ZN.modes[n];return typeof l=="function"?l(this,e,i,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let o=i.filter(l=>l&&l._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const o=i?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,o);hi(n)?(l.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),c.update(l,{visible:i}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),gs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Am(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Za[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},o=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};Te(this.options.events,l=>i(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},o=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},l=(h,m)=>{this.canvas&&this.resize(h,m)};let c;const u=()=>{o("attach",u),this.attached=!0,this.resize(),i("resize",l),i("detach",c)};c=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){Te(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Te(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const o=i?"set":"remove";let l,c,u,h;for(n==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!no(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const o=this.options.hover,l=(h,m)=>h.filter(p=>!m.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=l(n,e),u=i?e:l(e,n);c.length&&this.updateHoverStyle(c,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const l=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(l||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:o=[],options:l}=this,c=n,u=this._getActiveElements(e,o,i,c),h=Zj(e),m=sS(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Me(l.onHover,[e,u,this],this),h&&Me(l.onClick,[e,u,this],this));const p=!no(u,o);return(p||n)&&(this._active=u,this._updateHoverStyles(u,o,n)),this._lastEvent=m,p}_getActiveElements(e,n,i,o){if(e.type==="mouseout")return[];if(!i)return n;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}};function pp(){return Te(Sn.instances,s=>s._plugins.invalidate())}function nS(s,e,n){const{startAngle:i,x:o,y:l,outerRadius:c,innerRadius:u,options:h}=e,{borderWidth:m,borderJoinStyle:p}=h,x=Math.min(m/c,Nt(i-n));if(s.beginPath(),s.arc(o,l,c-m/2,i+x/2,n-x/2),u>0){const y=Math.min(m/u,Nt(i-n));s.arc(o,l,u+m/2,n-y/2,i+y/2,!0)}else{const y=Math.min(m/2,c*Nt(i-n));if(p==="round")s.arc(o,l,y,n-Ce/2,i+Ce/2,!0);else if(p==="bevel"){const v=2*y*y,w=-v*Math.cos(n+Ce/2)+o,j=-v*Math.sin(n+Ce/2)+l,N=v*Math.cos(i+Ce/2)+o,_=v*Math.sin(i+Ce/2)+l;s.lineTo(w,j),s.lineTo(N,_)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function rS(s,e,n){const{startAngle:i,pixelMargin:o,x:l,y:c,outerRadius:u,innerRadius:h}=e;let m=o/u;s.beginPath(),s.arc(l,c,u,i-m,n+m),h>o?(m=o/h,s.arc(l,c,h,n+m,i-m,!0)):s.arc(l,c,o,n+Ye,i-Ye),s.closePath(),s.clip()}function iS(s){return Fd(s,["outerStart","outerEnd","innerStart","innerEnd"])}function aS(s,e,n,i){const o=iS(s.options.borderRadius),l=(n-e)/2,c=Math.min(l,i*e/2),u=h=>{const m=(n-Math.min(l,h))*i/2;return ut(h,0,Math.min(l,m))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:ut(o.innerStart,0,c),innerEnd:ut(o.innerEnd,0,c)}}function Jn(s,e,n,i){return{x:n+s*Math.cos(e),y:i+s*Math.sin(e)}}function co(s,e,n,i,o,l){const{x:c,y:u,startAngle:h,pixelMargin:m,innerRadius:p}=e,x=Math.max(e.outerRadius+i+n-m,0),y=p>0?p+i+n+m:0;let v=0;const w=o-h;if(i){const U=p>0?p-i:0,F=x>0?x-i:0,Q=(U+F)/2,X=Q!==0?w*Q/(Q+i):w;v=(w-X)/2}const j=Math.max(.001,w*x-n/Ce)/x,N=(w-j)/2,_=h+N+v,C=o-N-v,{outerStart:P,outerEnd:W,innerStart:L,innerEnd:Y}=aS(e,y,x,C-_),k=x-P,M=x-W,B=_+P/k,$=C-W/M,q=y+L,z=y+Y,ne=_+L/q,ee=C-Y/z;if(s.beginPath(),l){const U=(B+$)/2;if(s.arc(c,u,x,B,U),s.arc(c,u,x,U,$),W>0){const re=Jn(M,$,c,u);s.arc(re.x,re.y,W,$,C+Ye)}const F=Jn(z,C,c,u);if(s.lineTo(F.x,F.y),Y>0){const re=Jn(z,ee,c,u);s.arc(re.x,re.y,Y,C+Ye,ee+Math.PI)}const Q=(C-Y/y+(_+L/y))/2;if(s.arc(c,u,y,C-Y/y,Q,!0),s.arc(c,u,y,Q,_+L/y,!0),L>0){const re=Jn(q,ne,c,u);s.arc(re.x,re.y,L,ne+Math.PI,_-Ye)}const X=Jn(k,_,c,u);if(s.lineTo(X.x,X.y),P>0){const re=Jn(k,B,c,u);s.arc(re.x,re.y,P,_-Ye,B)}}else{s.moveTo(c,u);const U=Math.cos(B)*x+c,F=Math.sin(B)*x+u;s.lineTo(U,F);const Q=Math.cos($)*x+c,X=Math.sin($)*x+u;s.lineTo(Q,X)}s.closePath()}function oS(s,e,n,i,o){const{fullCircles:l,startAngle:c,circumference:u}=e;let h=e.endAngle;if(l){co(s,e,n,i,h,o);for(let m=0;m<l;++m)s.fill();isNaN(u)||(h=c+(u%ze||ze))}return co(s,e,n,i,h,o),s.fill(),h}function lS(s,e,n,i,o){const{fullCircles:l,startAngle:c,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:p,borderDash:x,borderDashOffset:y,borderRadius:v}=h,w=h.borderAlign==="inner";if(!m)return;s.setLineDash(x||[]),s.lineDashOffset=y,w?(s.lineWidth=m*2,s.lineJoin=p||"round"):(s.lineWidth=m,s.lineJoin=p||"bevel");let j=e.endAngle;if(l){co(s,e,n,i,j,o);for(let N=0;N<l;++N)s.stroke();isNaN(u)||(j=c+(u%ze||ze))}w&&rS(s,e,j),h.selfJoin&&j-c>=Ce&&v===0&&p!=="miter"&&nS(s,e,j),l||(co(s,e,n,i,j,o),s.stroke())}class No extends vs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const o=this.getProps(["x","y"],i),{angle:l,distance:c}=Tg(o,{x:e,y:n}),{startAngle:u,endAngle:h,innerRadius:m,outerRadius:p,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,v=ye(x,h-u),w=mi(l,u,h)&&u!==h,j=v>=ze||w,N=$s(c,m+y,p+y);return j&&N}getCenterPoint(e){const{x:n,y:i,startAngle:o,endAngle:l,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,p=(o+l)/2,x=(c+u+m+h)/2;return{x:n+Math.cos(p)*x,y:i+Math.sin(p)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,o=(n.offset||0)/4,l=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ze?Math.floor(i/ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o);const h=1-Math.sin(Math.min(Ce,i||0)),m=o*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,oS(e,this,m,l,c),lS(e,this,m,l,c),e.restore()}}function nx(s,e,n=e){s.lineCap=ye(n.borderCapStyle,e.borderCapStyle),s.setLineDash(ye(n.borderDash,e.borderDash)),s.lineDashOffset=ye(n.borderDashOffset,e.borderDashOffset),s.lineJoin=ye(n.borderJoinStyle,e.borderJoinStyle),s.lineWidth=ye(n.borderWidth,e.borderWidth),s.strokeStyle=ye(n.borderColor,e.borderColor)}function cS(s,e,n){s.lineTo(n.x,n.y)}function dS(s){return s.stepped?k1:s.tension||s.cubicInterpolationMode==="monotone"?C1:cS}function rx(s,e,n={}){const i=s.length,{start:o=0,end:l=i-1}=n,{start:c,end:u}=e,h=Math.max(o,c),m=Math.min(l,u),p=o<c&&l<c||o>u&&l>u;return{count:i,start:h,loop:e.loop,ilen:m<h&&!p?i+m-h:m-h}}function uS(s,e,n,i){const{points:o,options:l}=e,{count:c,start:u,loop:h,ilen:m}=rx(o,n,i),p=dS(l);let{move:x=!0,reverse:y}=i||{},v,w,j;for(v=0;v<=m;++v)w=o[(u+(y?m-v:v))%c],!w.skip&&(x?(s.moveTo(w.x,w.y),x=!1):p(s,j,w,y,l.stepped),j=w);return h&&(w=o[(u+(y?m:0))%c],p(s,j,w,y,l.stepped)),!!h}function hS(s,e,n,i){const o=e.points,{count:l,start:c,ilen:u}=rx(o,n,i),{move:h=!0,reverse:m}=i||{};let p=0,x=0,y,v,w,j,N,_;const C=W=>(c+(m?u-W:W))%l,P=()=>{j!==N&&(s.lineTo(p,N),s.lineTo(p,j),s.lineTo(p,_))};for(h&&(v=o[C(0)],s.moveTo(v.x,v.y)),y=0;y<=u;++y){if(v=o[C(y)],v.skip)continue;const W=v.x,L=v.y,Y=W|0;Y===w?(L<j?j=L:L>N&&(N=L),p=(x*p+W)/++x):(P(),s.lineTo(W,L),w=Y,x=0,j=N=L),_=L}P()}function fd(s){const e=s.options,n=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?hS:uS}function fS(s){return s.stepped?iN:s.tension||s.cubicInterpolationMode==="monotone"?aN:fn}function mS(s,e,n,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,i)&&o.closePath()),nx(s,e.options),s.stroke(o)}function pS(s,e,n,i){const{segments:o,options:l}=e,c=fd(e);for(const u of o)nx(s,l,u.style),s.beginPath(),c(s,e,u,{start:n,end:n+i-1})&&s.closePath(),s.stroke()}const gS=typeof Path2D=="function";function xS(s,e,n,i){gS&&!e.options.segment?mS(s,e,n,i):pS(s,e,n,i)}class wo extends vs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;G1(this._points,i,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=mN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,o=e[n],l=this.points,c=uN(this,{property:n,start:o,end:o});if(!c.length)return;const u=[],h=fS(i);let m,p;for(m=0,p=c.length;m<p;++m){const{start:x,end:y}=c[m],v=l[x],w=l[y];if(v===w){u.push(v);continue}const j=Math.abs((o-v[n])/(w[n]-v[n])),N=h(v,w,j,i.stepped);N[n]=e[n],u.push(N)}return u.length===1?u[0]:u}pathSegment(e,n,i){return fd(this)(e,this,n,i)}path(e,n,i){const o=this.segments,l=fd(this);let c=this._loop;n=n||0,i=i||this.points.length-n;for(const u of o)c&=l(e,this,u,{start:n,end:n+i-1});return!!c}draw(e,n,i,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),xS(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gp(s,e,n,i){const o=s.options,{[n]:l}=s.getProps([n],i);return Math.abs(e-l)<o.radius+o.hitRadius}class So extends vs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const o=this.options,{x:l,y:c}=this.getProps(["x","y"],i);return Math.pow(e-l,2)+Math.pow(n-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return gp(this,e,"x",n)}inYRange(e,n){return gp(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ys(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,dd(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function ix(s,e){const{x:n,y:i,base:o,width:l,height:c}=s.getProps(["x","y","base","width","height"],e);let u,h,m,p,x;return s.horizontal?(x=c/2,u=Math.min(n,o),h=Math.max(n,o),m=i-x,p=i+x):(x=l/2,u=n-x,h=n+x,m=Math.min(i,o),p=Math.max(i,o)),{left:u,top:m,right:h,bottom:p}}function Hs(s,e,n,i){return s?0:ut(e,n,i)}function bS(s,e,n){const i=s.options.borderWidth,o=s.borderSkipped,l=Og(i);return{t:Hs(o.top,l.top,0,n),r:Hs(o.right,l.right,0,e),b:Hs(o.bottom,l.bottom,0,n),l:Hs(o.left,l.left,0,e)}}function yS(s,e,n){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),o=s.options.borderRadius,l=xn(o),c=Math.min(e,n),u=s.borderSkipped,h=i||_e(o);return{topLeft:Hs(!h||u.top||u.left,l.topLeft,0,c),topRight:Hs(!h||u.top||u.right,l.topRight,0,c),bottomLeft:Hs(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:Hs(!h||u.bottom||u.right,l.bottomRight,0,c)}}function vS(s){const e=ix(s),n=e.right-e.left,i=e.bottom-e.top,o=bS(s,n/2,i/2),l=yS(s,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:l},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,l.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(o.b,o.r))}}}}function Xc(s,e,n,i){const o=e===null,l=n===null,u=s&&!(o&&l)&&ix(s,i);return u&&(o||$s(e,u.left,u.right))&&(l||$s(n,u.top,u.bottom))}function jS(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function NS(s,e){s.rect(e.x,e.y,e.w,e.h)}function Kc(s,e,n={}){const i=s.x!==n.x?-e:0,o=s.y!==n.y?-e:0,l=(s.x+s.w!==n.x+n.w?e:0)-i,c=(s.y+s.h!==n.y+n.h?e:0)-o;return{x:s.x+i,y:s.y+o,w:s.w+l,h:s.h+c,radius:s.radius}}class _o extends vs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:o}}=this,{inner:l,outer:c}=vS(this),u=jS(c.radius)?pi:NS;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),u(e,Kc(c,n,l)),e.clip(),u(e,Kc(l,-n,c)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Kc(l,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,i){return Xc(this,e,n,i)}inXRange(e,n){return Xc(this,e,null,n)}inYRange(e,n){return Xc(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:o,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(n+o)/2:n,y:l?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const xp=(s,e)=>{let{boxHeight:n=e,boxWidth:i=e}=s;return s.usePointStyle&&(n=Math.min(n,e),i=s.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},wS=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class bp extends vs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=Je(i.font),l=o.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=xp(i,l);let m,p;n.font=o.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(c,l,u,h)+10):(p=this.maxHeight,m=this._fitCols(c,o,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,o){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],p=o+u;let x=e;l.textAlign="left",l.textBaseline="middle";let y=-1,v=-p;return this.legendItems.forEach((w,j)=>{const N=i+n/2+l.measureText(w.text).width;(j===0||m[m.length-1]+N+2*u>c)&&(x+=p,m[m.length-(j>0?0:1)]=0,v+=p,y++),h[j]={left:0,top:v,row:y,width:N,height:o},m[m.length-1]+=N+u}),x}_fitCols(e,n,i,o){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],p=c-e;let x=u,y=0,v=0,w=0,j=0;return this.legendItems.forEach((N,_)=>{const{itemWidth:C,itemHeight:P}=SS(i,n,l,N,o);_>0&&v+P+2*u>p&&(x+=y+u,m.push({width:y,height:v}),w+=y+u,j++,y=v=0),h[_]={left:w,top:v,col:j,width:C,height:P},y=Math.max(y,C),v+=P+u}),x+=y,m.push({width:y,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:o},rtl:l}}=this,c=Zn(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=ct(i,this.left+o,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,h=ct(i,this.left+o,this.right-this.lineWidths[u])),m.top+=this.top+e+o,m.left=c.leftForLtr(c.x(h),m.width),h+=m.width+o}else{let u=0,h=ct(i,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,h=ct(i,this.top+e+o,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+o,m.left=c.leftForLtr(c.x(m.left),m.width),h+=m.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ld(e,this),this._draw(),Od(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:o}=this,{align:l,labels:c}=e,u=He.color,h=Zn(e.rtl,this.left,this.width),m=Je(c.font),{padding:p}=c,x=m.size,y=x/2;let v;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=m.string;const{boxWidth:w,boxHeight:j,itemHeight:N}=xp(c,x),_=function(Y,k,M){if(isNaN(w)||w<=0||isNaN(j)||j<0)return;o.save();const B=ye(M.lineWidth,1);if(o.fillStyle=ye(M.fillStyle,u),o.lineCap=ye(M.lineCap,"butt"),o.lineDashOffset=ye(M.lineDashOffset,0),o.lineJoin=ye(M.lineJoin,"miter"),o.lineWidth=B,o.strokeStyle=ye(M.strokeStyle,u),o.setLineDash(ye(M.lineDash,[])),c.usePointStyle){const $={radius:j*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:B},q=h.xPlus(Y,w/2),z=k+y;Lg(o,$,q,z,c.pointStyleWidth&&w)}else{const $=k+Math.max((x-j)/2,0),q=h.leftForLtr(Y,w),z=xn(M.borderRadius);o.beginPath(),Object.values(z).some(ne=>ne!==0)?pi(o,{x:q,y:$,w,h:j,radius:z}):o.rect(q,$,w,j),o.fill(),B!==0&&o.stroke()}o.restore()},C=function(Y,k,M){Nn(o,M.text,Y,k+N/2,m,{strikethrough:M.hidden,textAlign:h.textAlign(M.textAlign)})},P=this.isHorizontal(),W=this._computeTitleHeight();P?v={x:ct(l,this.left+p,this.right-i[0]),y:this.top+p+W,line:0}:v={x:this.left+p,y:ct(l,this.top+W+p,this.bottom-n[0].height),line:0},$g(this.ctx,e.textDirection);const L=N+p;this.legendItems.forEach((Y,k)=>{o.strokeStyle=Y.fontColor,o.fillStyle=Y.fontColor;const M=o.measureText(Y.text).width,B=h.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),$=w+y+M;let q=v.x,z=v.y;h.setWidth(this.width),P?k>0&&q+$+p>this.right&&(z=v.y+=L,v.line++,q=v.x=ct(l,this.left+p,this.right-i[v.line])):k>0&&z+L>this.bottom&&(q=v.x=q+n[v.line].width+p,v.line++,z=v.y=ct(l,this.top+W+p,this.bottom-n[v.line].height));const ne=h.x(q);if(_(ne,z,Y),q=h1(B,q+w+y,P?q+$:this.right,e.rtl),C(h.x(q),z,Y),P)v.x+=$+p;else if(typeof Y.text!="string"){const ee=m.lineHeight;v.y+=ax(Y,ee)+p}else v.y+=L}),Hg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Je(n.font),o=ht(n.padding);if(!n.display)return;const l=Zn(e.rtl,this.left,this.width),c=this.ctx,u=n.position,h=i.size/2,m=o.top+h;let p,x=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+m,x=ct(e.align,x,this.right-y);else{const w=this.columnSizes.reduce((j,N)=>Math.max(j,N.height),0);p=m+ct(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const v=ct(u,x,x+y);c.textAlign=l.textAlign(Pd(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=i.string,Nn(c,n.text,v,p,i)}_computeTitleHeight(){const e=this.options.title,n=Je(e.font),i=ht(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,o,l;if($s(e,this.left,this.right)&&$s(n,this.top,this.bottom)){for(l=this.legendHitBoxes,i=0;i<l.length;++i)if(o=l[i],$s(e,o.left,o.left+o.width)&&$s(n,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!CS(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,l=wS(o,i);o&&!l&&Me(n.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!l&&Me(n.onHover,[e,i,this],this)}else i&&Me(n.onClick,[e,i,this],this)}}function SS(s,e,n,i,o){const l=_S(i,s,e,n),c=kS(o,i,e.lineHeight);return{itemWidth:l,itemHeight:c}}function _S(s,e,n,i){let o=s.text;return o&&typeof o!="string"&&(o=o.reduce((l,c)=>l.length>c.length?l:c)),e+n.size/2+i.measureText(o).width}function kS(s,e,n){let i=s;return typeof e.text!="string"&&(i=ax(e,n)),i}function ax(s,e){const n=s.text?s.text.length:0;return e*n}function CS(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var ko={id:"legend",_element:bp,start(s,e,n){const i=s.legend=new bp({ctx:s.ctx,options:n,chart:s});Bt.configure(s,i,n),Bt.addBox(s,i)},stop(s){Bt.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,n){const i=s.legend;Bt.configure(s,i,n),i.options=n},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,n){const i=e.datasetIndex,o=n.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:l,useBorderRadius:c,borderRadius:u}}=s.legend.options;return s._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),p=ht(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:o||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ox extends vs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=We(i.text)?i.text.length:1;this._padding=ht(i.padding);const l=o*Je(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:o,right:l,options:c}=this,u=c.align;let h=0,m,p,x;return this.isHorizontal()?(p=ct(u,i,l),x=n+e,m=l-i):(c.position==="left"?(p=i+e,x=ct(u,o,n),h=Ce*-.5):(p=l-e,x=ct(u,n,o),h=Ce*.5),m=o-n),{titleX:p,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Je(n.font),l=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:m}=this._drawArgs(l);Nn(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:m,textAlign:Pd(n.align),textBaseline:"middle",translation:[c,u]})}}function ES(s,e){const n=new ox({ctx:s.ctx,options:e,chart:s});Bt.configure(s,n,e),Bt.addBox(s,n),s.titleBlock=n}var Co={id:"title",_element:ox,start(s,e,n){ES(s,n)},stop(s){const e=s.titleBlock;Bt.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,n){const i=s.titleBlock;Bt.configure(s,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const si={average(s){if(!s.length)return!1;let e,n,i=new Set,o=0,l=0;for(e=0,n=s.length;e<n;++e){const u=s[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),o+=h.y,++l}}return l===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:o/l}},nearest(s,e){if(!s.length)return!1;let n=e.x,i=e.y,o=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=s.length;l<c;++l){const h=s[l].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),p=ld(e,m);p<o&&(o=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function ss(s,e){return e&&(We(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function xs(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function RS(s,e){const{element:n,datasetIndex:i,index:o}=e,l=s.getDatasetMeta(i).controller,{label:c,value:u}=l.getLabelAndValue(o);return{chart:s,label:c,parsed:l.getParsed(o),raw:s.data.datasets[i].data[o],formattedValue:u,dataset:l.getDataset(),dataIndex:o,datasetIndex:i,element:n}}function yp(s,e){const n=s.chart.ctx,{body:i,footer:o,title:l}=s,{boxWidth:c,boxHeight:u}=e,h=Je(e.bodyFont),m=Je(e.titleFont),p=Je(e.footerFont),x=l.length,y=o.length,v=i.length,w=ht(e.padding);let j=w.height,N=0,_=i.reduce((W,L)=>W+L.before.length+L.lines.length+L.after.length,0);if(_+=s.beforeBody.length+s.afterBody.length,x&&(j+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),_){const W=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;j+=v*W+(_-v)*h.lineHeight+(_-1)*e.bodySpacing}y&&(j+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let C=0;const P=function(W){N=Math.max(N,n.measureText(W).width+C)};return n.save(),n.font=m.string,Te(s.title,P),n.font=h.string,Te(s.beforeBody.concat(s.afterBody),P),C=e.displayColors?c+2+e.boxPadding:0,Te(i,W=>{Te(W.before,P),Te(W.lines,P),Te(W.after,P)}),C=0,n.font=p.string,Te(s.footer,P),n.restore(),N+=w.width,{width:N,height:j}}function TS(s,e){const{y:n,height:i}=e;return n<i/2?"top":n>s.height-i/2?"bottom":"center"}function PS(s,e,n,i){const{x:o,width:l}=i,c=n.caretSize+n.caretPadding;if(s==="left"&&o+l+c>e.width||s==="right"&&o-l-c<0)return!0}function DS(s,e,n,i){const{x:o,width:l}=n,{width:c,chartArea:{left:u,right:h}}=s;let m="center";return i==="center"?m=o<=(u+h)/2?"left":"right":o<=l/2?m="left":o>=c-l/2&&(m="right"),PS(m,s,e,n)&&(m="center"),m}function vp(s,e,n){const i=n.yAlign||e.yAlign||TS(s,n);return{xAlign:n.xAlign||e.xAlign||DS(s,e,n,i),yAlign:i}}function MS(s,e){let{x:n,width:i}=s;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function AS(s,e,n){let{y:i,height:o}=s;return e==="top"?i+=n:e==="bottom"?i-=o+n:i-=o/2,i}function jp(s,e,n,i){const{caretSize:o,caretPadding:l,cornerRadius:c}=s,{xAlign:u,yAlign:h}=n,m=o+l,{topLeft:p,topRight:x,bottomLeft:y,bottomRight:v}=xn(c);let w=MS(e,u);const j=AS(e,h,m);return h==="center"?u==="left"?w+=m:u==="right"&&(w-=m):u==="left"?w-=Math.max(p,y)+o:u==="right"&&(w+=Math.max(x,v)+o),{x:ut(w,0,i.width-e.width),y:ut(j,0,i.height-e.height)}}function qa(s,e,n){const i=ht(n.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-i.right:s.x+i.left}function Np(s){return ss([],xs(s))}function LS(s,e,n){return Xs(s,{tooltip:e,tooltipItems:n,type:"tooltip"})}function wp(s,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?s.override(n):s}const lx={beforeTitle:ps,title(s){if(s.length>0){const e=s[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ps,beforeBody:ps,beforeLabel:ps,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const n=s.formattedValue;return Se(n)||(e+=n),e},labelColor(s){const n=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const n=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ps,afterBody:ps,beforeFooter:ps,footer:ps,afterFooter:ps};function jt(s,e,n,i){const o=s[e].call(n,i);return typeof o>"u"?lx[e].call(n,i):o}class Sp extends vs{static positioners=si;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&n.options.animation&&i.animations,l=new Vg(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=LS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,o=jt(i,"beforeTitle",this,e),l=jt(i,"title",this,e),c=jt(i,"afterTitle",this,e);let u=[];return u=ss(u,xs(o)),u=ss(u,xs(l)),u=ss(u,xs(c)),u}getBeforeBody(e,n){return Np(jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,o=[];return Te(e,l=>{const c={before:[],lines:[],after:[]},u=wp(i,l);ss(c.before,xs(jt(u,"beforeLabel",this,l))),ss(c.lines,jt(u,"label",this,l)),ss(c.after,xs(jt(u,"afterLabel",this,l))),o.push(c)}),o}getAfterBody(e,n){return Np(jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,o=jt(i,"beforeFooter",this,e),l=jt(i,"footer",this,e),c=jt(i,"afterFooter",this,e);let u=[];return u=ss(u,xs(o)),u=ss(u,xs(l)),u=ss(u,xs(c)),u}_createItems(e){const n=this._active,i=this.chart.data,o=[],l=[],c=[];let u=[],h,m;for(h=0,m=n.length;h<m;++h)u.push(RS(this.chart,n[h]));return e.filter&&(u=u.filter((p,x,y)=>e.filter(p,x,y,i))),e.itemSort&&(u=u.sort((p,x)=>e.itemSort(p,x,i))),Te(u,p=>{const x=wp(e.callbacks,p);o.push(jt(x,"labelColor",this,p)),l.push(jt(x,"labelPointStyle",this,p)),c.push(jt(x,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),o=this._active;let l,c=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const u=si[i.position].call(this,o,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const h=this._size=yp(this,i),m=Object.assign({},u,h),p=vp(this.chart,i,m),x=jp(i,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,o){const l=this.getCaretPosition(e,i,o);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(e,n,i){const{xAlign:o,yAlign:l}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:x}=xn(u),{x:y,y:v}=e,{width:w,height:j}=n;let N,_,C,P,W,L;return l==="center"?(W=v+j/2,o==="left"?(N=y,_=N-c,P=W+c,L=W-c):(N=y+w,_=N+c,P=W-c,L=W+c),C=N):(o==="left"?_=y+Math.max(h,p)+c:o==="right"?_=y+w-Math.max(m,x)-c:_=this.caretX,l==="top"?(P=v,W=P-c,N=_-c,C=_+c):(P=v+j,W=P+c,N=_+c,C=_-c),L=P),{x1:N,x2:_,x3:C,y1:P,y2:W,y3:L}}drawTitle(e,n,i){const o=this.title,l=o.length;let c,u,h;if(l){const m=Zn(i.rtl,this.x,this.width);for(e.x=qa(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",c=Je(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=c.string,h=0;h<l;++h)n.fillText(o[h],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,h+1===l&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,o,l){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:m}=l,p=Je(l.bodyFont),x=qa(this,"left",l),y=o.x(x),v=h<p.lineHeight?(p.lineHeight-h)/2:0,w=n.y+v;if(l.usePointStyle){const j={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},N=o.leftForLtr(y,m)+m/2,_=w+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,dd(e,j,N,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,dd(e,j,N,_)}else{e.lineWidth=_e(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const j=o.leftForLtr(y,m),N=o.leftForLtr(o.xPlus(y,1),m-2),_=xn(c.borderRadius);Object.values(_).some(C=>C!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,pi(e,{x:j,y:w,w:m,h,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),pi(e,{x:N,y:w+1,w:m-2,h:h-2,radius:_}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(j,w,m,h),e.strokeRect(j,w,m,h),e.fillStyle=c.backgroundColor,e.fillRect(N,w+1,m-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:o}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:p}=i,x=Je(i.bodyFont);let y=x.lineHeight,v=0;const w=Zn(i.rtl,this.x,this.width),j=function(M){n.fillText(M,w.x(e.x+v),e.y+y/2),e.y+=y+l},N=w.textAlign(c);let _,C,P,W,L,Y,k;for(n.textAlign=c,n.textBaseline="middle",n.font=x.string,e.x=qa(this,N,i),n.fillStyle=i.bodyColor,Te(this.beforeBody,j),v=u&&N!=="right"?c==="center"?m/2+p:m+2+p:0,W=0,Y=o.length;W<Y;++W){for(_=o[W],C=this.labelTextColors[W],n.fillStyle=C,Te(_.before,j),P=_.lines,u&&P.length&&(this._drawColorBox(n,e,W,w,i),y=Math.max(x.lineHeight,h)),L=0,k=P.length;L<k;++L)j(P[L]),y=x.lineHeight;Te(_.after,j)}v=0,y=x.lineHeight,Te(this.afterBody,j),e.y-=l}drawFooter(e,n,i){const o=this.footer,l=o.length;let c,u;if(l){const h=Zn(i.rtl,this.x,this.width);for(e.x=qa(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",c=Je(i.footerFont),n.fillStyle=i.footerColor,n.font=c.string,u=0;u<l;++u)n.fillText(o[u],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+i.footerSpacing}}drawBackground(e,n,i,o){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=e,{width:m,height:p}=i,{topLeft:x,topRight:y,bottomLeft:v,bottomRight:w}=xn(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(u+x,h),c==="top"&&this.drawCaret(e,n,i,o),n.lineTo(u+m-y,h),n.quadraticCurveTo(u+m,h,u+m,h+y),c==="center"&&l==="right"&&this.drawCaret(e,n,i,o),n.lineTo(u+m,h+p-w),n.quadraticCurveTo(u+m,h+p,u+m-w,h+p),c==="bottom"&&this.drawCaret(e,n,i,o),n.lineTo(u+v,h+p),n.quadraticCurveTo(u,h+p,u,h+p-v),c==="center"&&l==="left"&&this.drawCaret(e,n,i,o),n.lineTo(u,h+x),n.quadraticCurveTo(u,h,u+x,h),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,o=i&&i.x,l=i&&i.y;if(o||l){const c=si[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=yp(this,e),h=Object.assign({},c,this._size),m=vp(n,e,h),p=jp(e,h,m,n);(o._to!==p.x||l._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ht(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(l,e,o,n),$g(e,n.textDirection),l.y+=c.top,this.drawTitle(l,e,n),this.drawBody(l,e,n),this.drawFooter(l,e,n),Hg(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,o=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),l=!no(i,o),c=this._positionChanged(o,n);(l||c)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],c=this._getActiveElements(e,l,n,i),u=this._positionChanged(c,e),h=n||!no(c,l)||u;return h&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,o){const l=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,i);return l.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:i,caretY:o,options:l}=this,c=si[l.position].call(this,e,n);return c!==!1&&(i!==c.x||o!==c.y)}}var Eo={id:"tooltip",_element:Sp,positioners:si,afterInit(s,e,n){n&&(s.tooltip=new Sp({chart:s,options:n}))},beforeUpdate(s,e,n){s.tooltip&&s.tooltip.initialize(n)},reset(s,e,n){s.tooltip&&s.tooltip.initialize(n)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",n)}},afterEvent(s,e){if(s.tooltip){const n=e.replay;s.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const OS=(s,e,n,i)=>(typeof e=="string"?(n=s.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function FS(s,e,n,i){const o=s.indexOf(e);if(o===-1)return OS(s,e,n,i);const l=s.lastIndexOf(e);return o!==l?n:o}const zS=(s,e)=>s===null?null:ut(Math.round(s),0,e);function _p(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class Ro extends or{static id="category";static defaults={ticks:{callback:_p}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:o,label:l}of n)i[o]===l&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Se(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:FS(i,e,ye(n,e),this._addedLabels),zS(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,o=[];let l=this.getLabels();l=e===0&&n===l.length-1?l:l.slice(e,n+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=e;c<=n;c++)o.push({value:c});return o}getLabelForValue(e){return _p.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function BS(s,e){const n=[],{bounds:o,step:l,min:c,max:u,precision:h,count:m,maxTicks:p,maxDigits:x,includeBounds:y}=s,v=l||1,w=p-1,{min:j,max:N}=e,_=!Se(c),C=!Se(u),P=!Se(m),W=(N-j)/(x+1);let L=Cm((N-j)/w/v)*v,Y,k,M,B;if(L<1e-14&&!_&&!C)return[{value:j},{value:N}];B=Math.ceil(N/L)-Math.floor(j/L),B>w&&(L=Cm(B*L/w/v)*v),Se(h)||(Y=Math.pow(10,h),L=Math.ceil(L*Y)/Y),o==="ticks"?(k=Math.floor(j/L)*L,M=Math.ceil(N/L)*L):(k=j,M=N),_&&C&&l&&r1((u-c)/l,L/1e3)?(B=Math.round(Math.min((u-c)/L,p)),L=(u-c)/B,k=c,M=u):P?(k=_?c:k,M=C?u:M,B=m-1,L=(M-k)/B):(B=(M-k)/L,ri(B,Math.round(B),L/1e3)?B=Math.round(B):B=Math.ceil(B));const $=Math.max(Em(L),Em(k));Y=Math.pow(10,Se(h)?$:h),k=Math.round(k*Y)/Y,M=Math.round(M*Y)/Y;let q=0;for(_&&(y&&k!==c?(n.push({value:c}),k<c&&q++,ri(Math.round((k+q*L)*Y)/Y,c,kp(c,W,s))&&q++):k<c&&q++);q<B;++q){const z=Math.round((k+q*L)*Y)/Y;if(C&&z>u)break;n.push({value:z})}return C&&y&&M!==u?n.length&&ri(n[n.length-1].value,u,kp(u,W,s))?n[n.length-1].value=u:n.push({value:u}):(!C||M===u)&&n.push({value:M}),n}function kp(s,e,{horizontal:n,minRotation:i}){const o=rs(i),l=(n?Math.sin(o):Math.cos(o))||.001,c=.75*e*(""+s).length;return Math.min(e/l,c)}class md extends or{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:l}=this;const c=h=>o=n?o:h,u=h=>l=i?l:h;if(e){const h=is(o),m=is(l);h<0&&m<0?u(0):h>0&&m>0&&c(0)}if(o===l){let h=l===0?1:Math.abs(l*.05);u(l+h),e||c(o-h)}this.min=o,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,c=BS(o,l);return e.bounds==="ticks"&&i1(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-n)/Math.max(e.length-1,1)/2;n-=o,i+=o}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Md(e,this.chart.options.locale,this.options.ticks.format)}}class To extends md{static id="linear";static defaults={ticks:{callback:Ad.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kt(e)?e:0,this.max=kt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=rs(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function pd(s){const e=s.ticks;if(e.display&&s.display){const n=ht(e.backdropPadding);return ye(e.font&&e.font.size,He.font.size)+n.height}return 0}function IS(s,e,n){return n=We(n)?n:[n],{w:_1(s,e.string,n),h:n.length*e.lineHeight}}function Cp(s,e,n,i,o){return s===i||s===o?{start:e-n/2,end:e+n/2}:s<i||s>o?{start:e-n,end:e}:{start:e,end:e+n}}function WS(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},n=Object.assign({},e),i=[],o=[],l=s._pointLabels.length,c=s.options.pointLabels,u=c.centerPointLabels?Ce/l:0;for(let h=0;h<l;h++){const m=c.setContext(s.getPointLabelContext(h));o[h]=m.padding;const p=s.getPointPosition(h,s.drawingArea+o[h],u),x=Je(m.font),y=IS(s.ctx,x,s._pointLabels[h]);i[h]=y;const v=Nt(s.getIndexAngle(h)+u),w=Math.round(Rd(v)),j=Cp(w,p.x,y.w,0,180),N=Cp(w,p.y,y.h,90,270);$S(n,e,v,j,N)}s.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),s._pointLabelItems=VS(s,i,o)}function $S(s,e,n,i,o){const l=Math.abs(Math.sin(n)),c=Math.abs(Math.cos(n));let u=0,h=0;i.start<e.l?(u=(e.l-i.start)/l,s.l=Math.min(s.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/l,s.r=Math.max(s.r,e.r+u)),o.start<e.t?(h=(e.t-o.start)/c,s.t=Math.min(s.t,e.t-h)):o.end>e.b&&(h=(o.end-e.b)/c,s.b=Math.max(s.b,e.b+h))}function HS(s,e,n){const i=s.drawingArea,{extra:o,additionalAngle:l,padding:c,size:u}=n,h=s.getPointPosition(e,i+o+c,l),m=Math.round(Rd(Nt(h.angle+Ye))),p=XS(h.y,u.h,m),x=qS(m),y=YS(h.x,u.w,x);return{visible:!0,x:h.x,y:p,textAlign:x,left:y,top:p,right:y+u.w,bottom:p+u.h}}function US(s,e){if(!e)return!0;const{left:n,top:i,right:o,bottom:l}=s;return!(ys({x:n,y:i},e)||ys({x:n,y:l},e)||ys({x:o,y:i},e)||ys({x:o,y:l},e))}function VS(s,e,n){const i=[],o=s._pointLabels.length,l=s.options,{centerPointLabels:c,display:u}=l.pointLabels,h={extra:pd(l)/2,additionalAngle:c?Ce/o:0};let m;for(let p=0;p<o;p++){h.padding=n[p],h.size=e[p];const x=HS(s,p,h);i.push(x),u==="auto"&&(x.visible=US(x,m),x.visible&&(m=x))}return i}function qS(s){return s===0||s===180?"center":s<180?"left":"right"}function YS(s,e,n){return n==="right"?s-=e:n==="center"&&(s-=e/2),s}function XS(s,e,n){return n===90||n===270?s-=e/2:(n>270||n<90)&&(s-=e),s}function KS(s,e,n){const{left:i,top:o,right:l,bottom:c}=n,{backdropColor:u}=e;if(!Se(u)){const h=xn(e.borderRadius),m=ht(e.backdropPadding);s.fillStyle=u;const p=i-m.left,x=o-m.top,y=l-i+m.width,v=c-o+m.height;Object.values(h).some(w=>w!==0)?(s.beginPath(),pi(s,{x:p,y:x,w:y,h:v,radius:h}),s.fill()):s.fillRect(p,x,y,v)}}function QS(s,e){const{ctx:n,options:{pointLabels:i}}=s;for(let o=e-1;o>=0;o--){const l=s._pointLabelItems[o];if(!l.visible)continue;const c=i.setContext(s.getPointLabelContext(o));KS(n,c,l);const u=Je(c.font),{x:h,y:m,textAlign:p}=l;Nn(n,s._pointLabels[o],h,m+u.lineHeight/2,u,{color:c.color,textAlign:p,textBaseline:"middle"})}}function cx(s,e,n,i){const{ctx:o}=s;if(n)o.arc(s.xCenter,s.yCenter,e,0,ze);else{let l=s.getPointPosition(0,e);o.moveTo(l.x,l.y);for(let c=1;c<i;c++)l=s.getPointPosition(c,e),o.lineTo(l.x,l.y)}}function GS(s,e,n,i,o){const l=s.ctx,c=e.circular,{color:u,lineWidth:h}=e;!c&&!i||!u||!h||n<0||(l.save(),l.strokeStyle=u,l.lineWidth=h,l.setLineDash(o.dash||[]),l.lineDashOffset=o.dashOffset,l.beginPath(),cx(s,n,c,i),l.closePath(),l.stroke(),l.restore())}function JS(s,e,n){return Xs(s,{label:n,index:e,type:"pointLabel"})}class ZS extends md{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ad.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ht(pd(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=kt(e)&&!isNaN(e)?e:0,this.max=kt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pd(this.options))}generateTickLabels(e){md.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const o=Me(this.options.pointLabels.callback,[n,i],this);return o||o===0?o:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?WS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,o){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,o))}getIndexAngle(e){const n=ze/(this._pointLabels.length||1),i=this.options.startAngle||0;return Nt(e*n+rs(i))}getDistanceFromCenterForValue(e){if(Se(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Se(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return JS(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const o=this.getIndexAngle(e)-Ye+i;return{x:Math.cos(o)*n+this.xCenter,y:Math.sin(o)*n+this.yCenter,angle:o}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:o,bottom:l}=this._pointLabelItems[e];return{left:n,top:i,right:o,bottom:l}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),cx(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:o,border:l}=n,c=this._pointLabels.length;let u,h,m;if(n.pointLabels.display&&QS(this,c),o.display&&this.ticks.forEach((p,x)=>{if(x!==0||x===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const y=this.getContext(x),v=o.setContext(y),w=l.setContext(y);GS(this,v,h,c,w)}}),i.display){for(e.save(),u=c-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:x,lineWidth:y}=p;!y||!x||(e.lineWidth=y,e.strokeStyle=x,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),m=this.getPointPosition(u,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(m.x,m.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let l,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(h===0&&this.min>=0&&!n.reverse)return;const m=i.setContext(this.getContext(h)),p=Je(m.font);if(l=this.getDistanceFromCenterForValue(this.ticks[h].value),m.showLabelBackdrop){e.font=p.string,c=e.measureText(u.label).width,e.fillStyle=m.backdropColor;const x=ht(m.backdropPadding);e.fillRect(-c/2-x.left,-l-p.size/2-x.top,c+x.width,p.size+x.height)}Nn(e,u.label,0,-l,p,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),e.restore()}drawTitle(){}}const Po={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wt=Object.keys(Po);function Ep(s,e){return s-e}function Rp(s,e){if(Se(e))return null;const n=s._adapter,{parser:i,round:o,isoWeekday:l}=s._parseOpts;let c=e;return typeof i=="function"&&(c=i(c)),kt(c)||(c=typeof i=="string"?n.parse(c,i):n.parse(c)),c===null?null:(o&&(c=o==="week"&&(fi(l)||l===!0)?n.startOf(c,"isoWeek",l):n.startOf(c,o)),+c)}function Tp(s,e,n,i){const o=wt.length;for(let l=wt.indexOf(s);l<o-1;++l){const c=Po[wt[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=i)return wt[l]}return wt[o-1]}function e2(s,e,n,i,o){for(let l=wt.length-1;l>=wt.indexOf(n);l--){const c=wt[l];if(Po[c].common&&s._adapter.diff(o,i,c)>=e-1)return c}return wt[n?wt.indexOf(n):0]}function t2(s){for(let e=wt.indexOf(s)+1,n=wt.length;e<n;++e)if(Po[wt[e]].common)return wt[e]}function Pp(s,e,n){if(!n)s[e]=!0;else if(n.length){const{lo:i,hi:o}=Td(n,e),l=n[i]>=e?n[i]:n[o];s[l]=!0}}function s2(s,e,n,i){const o=s._adapter,l=+o.startOf(e[0].value,i),c=e[e.length-1].value;let u,h;for(u=l;u<=c;u=+o.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function Dp(s,e,n){const i=[],o={},l=e.length;let c,u;for(c=0;c<l;++c)u=e[c],o[u]=c,i.push({value:u,major:!1});return l===0||!n?i:s2(s,i,o,n)}class Mp extends or{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),o=this._adapter=new XN._date(e.adapters.date);o.init(n),ni(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rp(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:o,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(m){!c&&!isNaN(m.min)&&(o=Math.min(o,m.min)),!u&&!isNaN(m.max)&&(l=Math.max(l,m.max))}(!c||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=kt(o)&&!isNaN(o)?o:+n.startOf(Date.now(),i),l=kt(l)&&!isNaN(l)?l:+n.endOf(Date.now(),i)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,c=this.max,u=c1(o,l,c);return this._unit=n.unit||(i.autoSkip?Tp(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):e2(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:t2(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),Dp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?i=l:i=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=ut(n,0,c),i=ut(i,0,c),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,o=this.options,l=o.time,c=l.unit||Tp(l.minUnit,n,i,this._getLabelCapacity(n)),u=ye(o.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,m=fi(h)||h===!0,p={};let x=n,y,v;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":c),e.diff(i,n,c)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+c);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(y=x,v=0;y<i;y=+e.add(y,u,c),v++)Pp(p,y,w);return(y===i||o.bounds==="ticks"||v===1)&&Pp(p,y,w),Object.keys(p).sort(Ep).map(j=>+j)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,l=this._unit,c=n||o[l];return this._adapter.format(e,c)}_tickFormatFunction(e,n,i,o){const l=this.options,c=l.ticks.callback;if(c)return Me(c,[e,n,i],this);const u=l.time.displayFormats,h=this._unit,m=this._majorUnit,p=h&&u[h],x=m&&u[m],y=i[n],v=m&&x&&y&&y.major;return this._adapter.format(e,o||(v?x:p))}generateTickLabels(e){let n,i,o;for(n=0,i=e.length;n<i;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,o=rs(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(o),c=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:i*l+u*c,h:i*c+u*l}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,l=this._tickFormatFunction(e,0,Dp(this,[e],this._majorUnit),o),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,i=o.length;n<i;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const o=this.getLabels();for(n=0,i=o.length;n<i;++n)e.push(Rp(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Dg(e.sort(Ep))}}function Ya(s,e,n){let i=0,o=s.length-1,l,c,u,h;n?(e>=s[i].pos&&e<=s[o].pos&&({lo:i,hi:o}=pn(s,"pos",e)),{pos:l,time:u}=s[i],{pos:c,time:h}=s[o]):(e>=s[i].time&&e<=s[o].time&&({lo:i,hi:o}=pn(s,"time",e)),{time:l,pos:u}=s[i],{time:c,pos:h}=s[o]);const m=c-l;return m?u+(h-u)*(e-l)/m:u}class O2 extends Mp{static id="timeseries";static defaults=Mp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ya(n,this.min),this._tableRange=Ya(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,o=[],l=[];let c,u,h,m,p;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=i&&o.push(m);if(o.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(c=0,u=o.length;c<u;++c)p=o[c+1],h=o[c-1],m=o[c],Math.round((p+h)/2)!==m&&l.push({time:m,pos:c/(u-1)});return l}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((o,l)=>o-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ya(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ya(this._table,i*this._tableRange+this._minPos,!0)}}const dx="label";function Ap(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function n2(s,e){const n=s.options;n&&e&&Object.assign(n,e)}function ux(s,e){s.labels=e}function hx(s,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dx;const i=[];s.datasets=e.map(o=>{const l=s.datasets.find(c=>c[n]===o[n]);return!l||!o.data||i.includes(l)?{...o}:(i.push(l),Object.assign(l,o),l)})}function r2(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dx;const n={labels:[],datasets:[]};return ux(n,s.labels),hx(n,s.datasets,e),n}function i2(s,e){const{height:n=150,width:i=300,redraw:o=!1,datasetIdKey:l,type:c,data:u,options:h,plugins:m=[],fallbackContent:p,updateMode:x,...y}=s,v=E.useRef(null),w=E.useRef(null),j=()=>{v.current&&(w.current=new Sn(v.current,{type:c,data:r2(u,l),options:h&&{...h},plugins:m}),Ap(e,w.current))},N=()=>{Ap(e,null),w.current&&(w.current.destroy(),w.current=null)};return E.useEffect(()=>{!o&&w.current&&h&&n2(w.current,h)},[o,h]),E.useEffect(()=>{!o&&w.current&&ux(w.current.config.data,u.labels)},[o,u.labels]),E.useEffect(()=>{!o&&w.current&&u.datasets&&hx(w.current.config.data,u.datasets,l)},[o,u.datasets]),E.useEffect(()=>{w.current&&(o?(N(),setTimeout(j)):w.current.update(x))},[o,h,u.labels,u.datasets,x]),E.useEffect(()=>{w.current&&(N(),setTimeout(j))},[c]),E.useEffect(()=>(j(),()=>N()),[]),uo.createElement("canvas",{ref:v,role:"img",height:n,width:i,...y},p)}const a2=E.forwardRef(i2);function Ud(s,e){return Sn.register(e),E.forwardRef((n,i)=>uo.createElement(a2,{...n,ref:i,type:s}))}const Do=Ud("line",qN),sr=Ud("bar",HN),Vd=Ud("pie",YN);Sn.register(Ro,To,So,wo,_o,Co,Eo,ko,No);const o2=()=>{const{user:s}=Ze(),[e,n]=E.useState(!0),[i,o]=E.useState(null),[l,c]=E.useState({startDate:"",endDate:"",program:"",enrollmentYear:""});E.useEffect(()=>{s?.role==="ADMIN"&&u()},[s,l]);const u=async()=>{try{n(!0);const w=await ie.get("/admin/reports/members",{params:l});o(w.data.data)}catch(w){console.error("Error fetching member reports:",w)}finally{n(!1)}},h=w=>{c({...l,[w.target.name]:w.target.value})},m=async()=>{try{const w=await ie.get("/admin/reports/members/export/excel",{params:l,responseType:"blob"}),j=window.URL.createObjectURL(new Blob([w.data])),N=document.createElement("a");N.href=j,N.setAttribute("download",`member-reports-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(N),N.click(),N.remove()}catch(w){console.error("Error exporting to Excel:",w)}},p=async()=>{try{const w=await ie.get("/admin/reports/members/export/pdf",{params:l,responseType:"blob"}),j=window.URL.createObjectURL(new Blob([w.data])),N=document.createElement("a");N.href=j,N.setAttribute("download",`member-reports-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(N),N.click(),N.remove()}catch(w){console.error("Error exporting to PDF:",w)}},x={labels:i?.hoursDistribution?.map(w=>w.range)||[],datasets:[{label:"จำนวนสมาชิก",data:i?.hoursDistribution?.map(w=>w.count)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],borderWidth:2,borderColor:"#fff"}]},y={labels:i?.programDistribution?.map(w=>w.program)||[],datasets:[{label:"จำนวนสมาชิก",data:i?.programDistribution?.map(w=>w.count)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],borderWidth:2,borderColor:"#fff"}]},v={labels:i?.monthlyProgress?.map(w=>w.month)||[],datasets:[{label:"ชั่วโมงสะสมรวม",data:i?.monthlyProgress?.map(w=>w.totalHours)||[],borderColor:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.1)",borderWidth:3,fill:!0,tension:.4}]};return s?.role!=="ADMIN"?t.jsx("div",{className:"container mt-4",children:t.jsx("div",{className:"alert alert-danger",children:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้"})}):t.jsxs("div",{className:"container-fluid py-4",children:[t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"mb-1 text-primary",children:[t.jsx("i",{className:"fas fa-users me-2"}),"รายงานสมาชิก"]}),t.jsx("p",{className:"text-muted mb-0",children:"ข้อมูลการสะสมชั่วโมงและสถิติสมาชิก"})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("button",{className:"btn btn-success btn-sm",onClick:m,disabled:e,children:[t.jsx("i",{className:"fas fa-file-excel me-1"}),"Excel"]}),t.jsxs("button",{className:"btn btn-danger btn-sm",onClick:p,disabled:e,children:[t.jsx("i",{className:"fas fa-file-pdf me-1"}),"PDF"]})]})]})})}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-filter me-2"}),"ตัวกรองข้อมูล"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row g-3",children:[t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่เริ่มต้น"}),t.jsx("input",{type:"date",className:"form-control",name:"startDate",value:l.startDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่สิ้นสุด"}),t.jsx("input",{type:"date",className:"form-control",name:"endDate",value:l.endDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"สาขาวิชา"}),t.jsxs("select",{className:"form-select",name:"program",value:l.program,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.programs?.map(w=>t.jsx("option",{value:w,children:w},w))]})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"ปีที่เข้าเรียน"}),t.jsxs("select",{className:"form-select",name:"enrollmentYear",value:l.enrollmentYear,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.enrollmentYears?.map(w=>t.jsx("option",{value:w,children:w},w))]})]})]})})]})})}),e?t.jsxs("div",{className:"text-center py-5",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"กำลังโหลดข้อมูล..."})]}):i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-primary mb-2",children:t.jsx("i",{className:"fas fa-users fa-2x"})}),t.jsx("h4",{className:"text-primary mb-1",children:i.summary?.totalMembers||0}),t.jsx("p",{className:"text-muted mb-0",children:"สมาชิกทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-success mb-2",children:t.jsx("i",{className:"fas fa-clock fa-2x"})}),t.jsx("h4",{className:"text-success mb-1",children:i.summary?.totalHours||0}),t.jsx("p",{className:"text-muted mb-0",children:"ชั่วโมงสะสมรวม"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-info mb-2",children:t.jsx("i",{className:"fas fa-chart-line fa-2x"})}),t.jsx("h4",{className:"text-info mb-1",children:typeof i.summary?.averageHours=="number"?i.summary.averageHours.toFixed(1):(parseFloat(i.summary?.averageHours)||0).toFixed(1)}),t.jsx("p",{className:"text-muted mb-0",children:"ชั่วโมงเฉลี่ย"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-warning mb-2",children:t.jsx("i",{className:"fas fa-trophy fa-2x"})}),t.jsx("h4",{className:"text-warning mb-1",children:i.summary?.activeMembers||0}),t.jsx("p",{className:"text-muted mb-0",children:"สมาชิกที่ใช้งาน"})]})})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-pie me-2"}),"การกระจายชั่วโมงสะสม"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Vd,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},height:300})})]})}),t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"การกระจายตามสาขาวิชา"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})})]}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-line me-2"}),"เทรนด์การสะสมชั่วโมงรายเดือน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Do,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:100})})]})})}),t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-medal me-2"}),"อันดับสมาชิกที่สะสมชั่วโมงสูงสุด"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border-0",children:"อันดับ"}),t.jsx("th",{className:"border-0",children:"ชื่อ-นามสกุล"}),t.jsx("th",{className:"border-0",children:"รหัสนักศึกษา"}),t.jsx("th",{className:"border-0",children:"สาขาวิชา"}),t.jsx("th",{className:"border-0",children:"ชั่วโมงสะสม"}),t.jsx("th",{className:"border-0",children:"จำนวนกิจกรรม"})]})}),t.jsx("tbody",{children:i?.topStudents?.map((w,j)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:`badge ${j===0?"bg-warning":j===1?"bg-secondary":j===2?"bg-danger":"bg-light text-dark"}`,children:j+1})}),t.jsx("td",{className:"fw-semibold",children:w.user?.name||"ไม่ระบุ"}),t.jsx("td",{className:"text-muted",children:w.user?.student_code||"ไม่ระบุ"}),t.jsx("td",{className:"text-muted",children:w.user?.program||"ไม่ระบุ"}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-success",children:[w.total_hours," ชั่วโมง"]})}),t.jsxs("td",{className:"text-muted",children:[w.activity_count||0," กิจกรรม"]})]},w.user_id||`student-${j}`))})]})})})]})})})]}):t.jsx("div",{className:"text-center py-5",children:t.jsxs("div",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-exclamation-triangle fa-3x mb-3"}),t.jsx("p",{children:"ไม่พบข้อมูล"})]})})]})};Sn.register(Ro,To,So,wo,_o,Co,Eo,ko,No);const l2=()=>{const{user:s}=Ze(),[e,n]=E.useState(!0),[i,o]=E.useState(null),[l,c]=E.useState({startDate:"",endDate:"",status:"",category:""});E.useEffect(()=>{s?.role==="ADMIN"&&u()},[s,l]);const u=async()=>{try{n(!0);const j=await ie.get("/admin/reports/activities",{params:l});o(j.data.data)}catch(j){console.error("Error fetching activity reports:",j)}finally{n(!1)}},h=j=>{c({...l,[j.target.name]:j.target.value})},m=async()=>{try{const j=await ie.get("/admin/reports/activities/export/excel",{params:l,responseType:"blob"}),N=window.URL.createObjectURL(new Blob([j.data])),_=document.createElement("a");_.href=N,_.setAttribute("download",`activity-reports-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(_),_.click(),_.remove()}catch(j){console.error("Error exporting to Excel:",j)}},p=async()=>{try{const j=await ie.get("/admin/reports/activities/export/pdf",{params:l,responseType:"blob"}),N=window.URL.createObjectURL(new Blob([j.data])),_=document.createElement("a");_.href=N,_.setAttribute("download",`activity-reports-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(_),_.click(),_.remove()}catch(j){console.error("Error exporting to PDF:",j)}},x={labels:i?.participationTrend?.map(j=>j.month)||[],datasets:[{label:"จำนวนผู้เข้าร่วม",data:i?.participationTrend?.map(j=>j.participants)||[],borderColor:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.1)",borderWidth:3,fill:!0,tension:.4}]},y={labels:i?.activityStatus?.map(j=>j.status)||[],datasets:[{label:"จำนวนกิจกรรม",data:i?.activityStatus?.map(j=>j.count)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"],borderWidth:2,borderColor:"#fff"}]},v={labels:i?.topActivities?.map(j=>j.title?.substring(0,20)+"...")||[],datasets:[{label:"จำนวนผู้เข้าร่วม",data:i?.topActivities?.map(j=>j.participantCount)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],borderWidth:2,borderColor:"#fff"}]},w={labels:["1 ดาว","2 ดาว","3 ดาว","4 ดาว","5 ดาว"],datasets:[{label:"จำนวนการประเมิน",data:i?.ratingDistribution||[],backgroundColor:["#FF6B6B","#FFA07A","#FFEAA7","#98D8C8","#4ECDC4"],borderWidth:2,borderColor:"#fff"}]};return s?.role!=="ADMIN"?t.jsx("div",{className:"container mt-4",children:t.jsx("div",{className:"alert alert-danger",children:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้"})}):t.jsxs("div",{className:"container-fluid py-4",children:[t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"mb-1 text-primary",children:[t.jsx("i",{className:"fas fa-calendar-alt me-2"}),"รายงานกิจกรรม"]}),t.jsx("p",{className:"text-muted mb-0",children:"ข้อมูลการจัดกิจกรรมและผลตอบรับ"})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("button",{className:"btn btn-success btn-sm",onClick:m,disabled:e,children:[t.jsx("i",{className:"fas fa-file-excel me-1"}),"Excel"]}),t.jsxs("button",{className:"btn btn-danger btn-sm",onClick:p,disabled:e,children:[t.jsx("i",{className:"fas fa-file-pdf me-1"}),"PDF"]})]})]})})}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-filter me-2"}),"ตัวกรองข้อมูล"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row g-3",children:[t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่เริ่มต้น"}),t.jsx("input",{type:"date",className:"form-control",name:"startDate",value:l.startDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่สิ้นสุด"}),t.jsx("input",{type:"date",className:"form-control",name:"endDate",value:l.endDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"สถานะ"}),t.jsxs("select",{className:"form-select",name:"status",value:l.status,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.statuses?.map(j=>t.jsx("option",{value:j,children:j},j))]})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"ประเภท"}),t.jsxs("select",{className:"form-select",name:"category",value:l.category,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.categories?.map(j=>t.jsx("option",{value:j,children:j},j))]})]})]})})]})})}),e?t.jsxs("div",{className:"text-center py-5",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"กำลังโหลดข้อมูล..."})]}):i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-primary mb-2",children:t.jsx("i",{className:"fas fa-calendar-check fa-2x"})}),t.jsx("h4",{className:"text-primary mb-1",children:i.summary?.totalActivities||0}),t.jsx("p",{className:"text-muted mb-0",children:"กิจกรรมทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-success mb-2",children:t.jsx("i",{className:"fas fa-check-circle fa-2x"})}),t.jsx("h4",{className:"text-success mb-1",children:i.summary?.completedActivities||0}),t.jsx("p",{className:"text-muted mb-0",children:"กิจกรรมที่เสร็จสิ้น"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-info mb-2",children:t.jsx("i",{className:"fas fa-users fa-2x"})}),t.jsx("h4",{className:"text-info mb-1",children:i.summary?.totalParticipants||0}),t.jsx("p",{className:"text-muted mb-0",children:"ผู้เข้าร่วมทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-warning mb-2",children:t.jsx("i",{className:"fas fa-star fa-2x"})}),t.jsx("h4",{className:"text-warning mb-1",children:i.summary?.averageRating?.toFixed(1)||0}),t.jsx("p",{className:"text-muted mb-0",children:"คะแนนเฉลี่ย"})]})})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-line me-2"}),"เทรนด์การเข้าร่วมรายเดือน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Do,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})}),t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-pie me-2"}),"การกระจายสถานะกิจกรรม"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Vd,{data:y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},height:300})})]})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"กิจกรรมยอดนิยม"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})}),t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-star me-2"}),"การกระจายคะแนนประเมิน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})})]}),t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-trophy me-2"}),"อันดับกิจกรรมยอดนิยม"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border-0",children:"อันดับ"}),t.jsx("th",{className:"border-0",children:"ชื่อกิจกรรม"}),t.jsx("th",{className:"border-0",children:"วันที่จัด"}),t.jsx("th",{className:"border-0",children:"ผู้เข้าร่วม"}),t.jsx("th",{className:"border-0",children:"คะแนนเฉลี่ย"}),t.jsx("th",{className:"border-0",children:"สถานะ"})]})}),t.jsx("tbody",{children:i?.topActivities?.map((j,N)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:`badge ${N===0?"bg-warning":N===1?"bg-secondary":N===2?"bg-danger":"bg-light text-dark"}`,children:N+1})}),t.jsx("td",{className:"fw-semibold",children:j.title}),t.jsx("td",{className:"text-muted",children:new Date(j.start_date).toLocaleDateString("th-TH")}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info",children:[j.participantCount," คน"]})}),t.jsx("td",{children:t.jsx("span",{className:"badge bg-warning",children:typeof j.averageRating=="number"?j.averageRating.toFixed(1):"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`badge ${j.status==="CLOSED"?"bg-success":j.status==="OPEN"?"bg-warning":j.status==="DRAFT"?"bg-secondary":"bg-light text-dark"}`,children:j.status==="CLOSED"?"เสร็จสิ้น":j.status==="OPEN"?"กำลังดำเนินการ":j.status==="DRAFT"?"ร่าง":"ไม่ระบุ"})})]},j.id||`activity-${N}`))})]})})})]})})})]}):t.jsx("div",{className:"text-center py-5",children:t.jsxs("div",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-exclamation-triangle fa-3x mb-3"}),t.jsx("p",{children:"ไม่พบข้อมูล"})]})})]})};Sn.register(Ro,To,So,wo,_o,Co,Eo,ko,ZS,No);const c2=()=>{const{user:s}=Ze(),[e,n]=E.useState(!0),[i,o]=E.useState(null),[l,c]=E.useState({startDate:"",endDate:"",activityId:"",ratingRange:""});E.useEffect(()=>{s?.role==="ADMIN"&&u()},[s,l]);const u=async()=>{try{n(!0);const y=await ie.get("/admin/reports/evaluations",{params:l});o(y.data.data)}catch(y){console.error("Error fetching evaluation reports:",y)}finally{n(!1)}},h=y=>{c({...l,[y.target.name]:y.target.value})},m=async()=>{try{const y=await ie.get("/admin/reports/evaluations/export/excel",{params:l,responseType:"blob"}),v=window.URL.createObjectURL(new Blob([y.data])),w=document.createElement("a");w.href=v,w.setAttribute("download",`evaluation-reports-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(w),w.click(),w.remove()}catch(y){console.error("Error exporting to Excel:",y)}},p=async()=>{try{const y=await ie.get("/admin/reports/evaluations/export/pdf",{params:l,responseType:"blob"}),v=window.URL.createObjectURL(new Blob([y.data])),w=document.createElement("a");w.href=v,w.setAttribute("download",`evaluation-reports-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(w),w.click(),w.remove()}catch(y){console.error("Error exporting to PDF:",y)}},x={labels:i?.ratingTrend?.map(y=>y.month)||[],datasets:[{label:"คะแนนรวม",data:i?.ratingTrend?.map(y=>y.overallRating)||[],borderColor:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.1)",borderWidth:3,fill:!0,tension:.4},{label:"ความสนุก",data:i?.ratingTrend?.map(y=>y.funRating)||[],borderColor:"#FF6B6B",backgroundColor:"rgba(255, 107, 107, 0.1)",borderWidth:3,fill:!1,tension:.4},{label:"การเรียนรู้",data:i?.ratingTrend?.map(y=>y.learningRating)||[],borderColor:"#45B7D1",backgroundColor:"rgba(69, 183, 209, 0.1)",borderWidth:3,fill:!1,tension:.4}]};return i?.categoryComparison?.map(y=>y.category),i?.categoryComparison?.map(y=>y.overallRating),i?.categoryComparison?.map(y=>y.funRating),i?.categoryComparison?.map(y=>y.learningRating),i?.detailedRatings?.map((y,v)=>`กิจกรรม ${v+1}`),i?.detailedRatings?.map((y,v)=>({label:y.title,data:[y.overallRating,y.funRating,y.learningRating,y.organizationRating,y.venueRating],backgroundColor:[`hsl(${v*60}, 70%, 70%)`,`hsl(${v*60}, 70%, 60%)`,`hsl(${v*60}, 70%, 50%)`,`hsl(${v*60}, 70%, 40%)`,`hsl(${v*60}, 70%, 30%)`],borderWidth:2})),s?.role!=="ADMIN"?t.jsx("div",{className:"container mt-4",children:t.jsx("div",{className:"alert alert-danger",children:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้"})}):t.jsxs("div",{className:"container-fluid py-4",children:[t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"mb-1 text-primary",children:[t.jsx("i",{className:"fas fa-star me-2"}),"รายงานประเมินกิจกรรม"]}),t.jsx("p",{className:"text-muted mb-0",children:"ข้อมูลการประเมินและความคิดเห็นของสมาชิก"})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("button",{className:"btn btn-success btn-sm",onClick:m,disabled:e,children:[t.jsx("i",{className:"fas fa-file-excel me-1"}),"Excel"]}),t.jsxs("button",{className:"btn btn-danger btn-sm",onClick:p,disabled:e,children:[t.jsx("i",{className:"fas fa-file-pdf me-1"}),"PDF"]})]})]})})}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-filter me-2"}),"ตัวกรองข้อมูล"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row g-3",children:[t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่เริ่มต้น"}),t.jsx("input",{type:"date",className:"form-control",name:"startDate",value:l.startDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่สิ้นสุด"}),t.jsx("input",{type:"date",className:"form-control",name:"endDate",value:l.endDate,onChange:h})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"กิจกรรม"}),t.jsxs("select",{className:"form-select",name:"activityId",value:l.activityId,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.activities?.map(y=>t.jsx("option",{value:y.id,children:y.title},y.id))]})]}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("label",{className:"form-label fw-semibold",children:"ช่วงคะแนน"}),t.jsxs("select",{className:"form-select",name:"ratingRange",value:l.ratingRange,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),t.jsx("option",{value:"1",children:"1 ดาว"}),t.jsx("option",{value:"2",children:"2 ดาว"}),t.jsx("option",{value:"3",children:"3 ดาว"}),t.jsx("option",{value:"4",children:"4 ดาว"}),t.jsx("option",{value:"5",children:"5 ดาว"})]})]})]})})]})})}),e?t.jsxs("div",{className:"text-center py-5",children:[t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"กำลังโหลดข้อมูล..."})]}):i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-primary mb-2",children:t.jsx("i",{className:"fas fa-comments fa-2x"})}),t.jsx("h4",{className:"text-primary mb-1",children:i.summary?.totalEvaluations||0}),t.jsx("p",{className:"text-muted mb-0",children:"การประเมินทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-success mb-2",children:t.jsx("i",{className:"fas fa-star fa-2x"})}),t.jsx("h4",{className:"text-success mb-1",children:typeof i.summary?.averageOverallRating=="number"?i.summary.averageOverallRating.toFixed(1):"0.0"}),t.jsx("p",{className:"text-muted mb-0",children:"คะแนนเฉลี่ยรวม"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-info mb-2",children:t.jsx("i",{className:"fas fa-smile fa-2x"})}),t.jsx("h4",{className:"text-info mb-1",children:typeof i.summary?.averageFunRating=="number"?i.summary.averageFunRating.toFixed(1):"0.0"}),t.jsx("p",{className:"text-muted mb-0",children:"คะแนนความสนุกเฉลี่ย"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-warning mb-2",children:t.jsx("i",{className:"fas fa-graduation-cap fa-2x"})}),t.jsx("h4",{className:"text-warning mb-1",children:typeof i.summary?.averageLearningRating=="number"?i.summary.averageLearningRating.toFixed(1):"0.0"}),t.jsx("p",{className:"text-muted mb-0",children:"คะแนนการเรียนรู้เฉลี่ย"})]})})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-8",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-line me-2"}),"เทรนด์คะแนนประเมินรายเดือน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Do,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:5}}},height:300})})]})}),t.jsx("div",{className:"col-lg-4",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"การกระจายคะแนน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:{labels:["1 ดาว","2 ดาว","3 ดาว","4 ดาว","5 ดาว"],datasets:[{label:"จำนวนการประเมิน",data:i?.ratingDistribution||[],backgroundColor:["#FF6B6B","#FFA07A","#FFEAA7","#98D8C8","#4ECDC4"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})})]}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-trophy me-2"}),"อันดับกิจกรรมที่ได้รับคะแนนสูงสุด"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border-0",children:"อันดับ"}),t.jsx("th",{className:"border-0",children:"ชื่อกิจกรรม"}),t.jsx("th",{className:"border-0",children:"วันที่จัด"}),t.jsx("th",{className:"border-0",children:"คะแนนรวม"}),t.jsx("th",{className:"border-0",children:"ความสนุก"}),t.jsx("th",{className:"border-0",children:"การเรียนรู้"}),t.jsx("th",{className:"border-0",children:"การจัดระเบียบ"}),t.jsx("th",{className:"border-0",children:"สถานที่"}),t.jsx("th",{className:"border-0",children:"จำนวนการประเมิน"})]})}),t.jsx("tbody",{children:i?.topRatedActivities?.map((y,v)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:`badge ${v===0?"bg-warning":v===1?"bg-secondary":v===2?"bg-danger":"bg-light text-dark"}`,children:v+1})}),t.jsx("td",{className:"fw-semibold",children:y.title}),t.jsx("td",{className:"text-muted",children:new Date(y.start_date).toLocaleDateString("th-TH")}),t.jsx("td",{children:t.jsx("span",{className:"badge bg-primary",children:typeof y.overallRating=="number"?y.overallRating.toFixed(1):"N/A"})}),t.jsx("td",{className:"text-muted",children:typeof y.funRating=="number"?y.funRating.toFixed(1):"N/A"}),t.jsx("td",{className:"text-muted",children:typeof y.learningRating=="number"?y.learningRating.toFixed(1):"N/A"}),t.jsx("td",{className:"text-muted",children:typeof y.organizationRating=="number"?y.organizationRating.toFixed(1):"N/A"}),t.jsx("td",{className:"text-muted",children:typeof y.venueRating=="number"?y.venueRating.toFixed(1):"N/A"}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info",children:[y.reviewCount," รายการ"]})})]},y.id||`activity-${v}`))})]})})})]})})}),t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-comment-dots me-2"}),"การประเมินล่าสุด"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border-0",children:"กิจกรรม"}),t.jsx("th",{className:"border-0",children:"ผู้ประเมิน"}),t.jsx("th",{className:"border-0",children:"คะแนนรวม"}),t.jsx("th",{className:"border-0",children:"ความคิดเห็น"}),t.jsx("th",{className:"border-0",children:"วันที่ประเมิน"})]})}),t.jsx("tbody",{children:i?.recentReviews?.map((y,v)=>t.jsxs("tr",{children:[t.jsx("td",{className:"fw-semibold",children:y.activity?.title||"ไม่ระบุ"}),t.jsx("td",{className:"text-muted",children:y.user?.name||"ไม่ระบุ"}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-primary",children:[y.overall_rating," ดาว"]})}),t.jsx("td",{className:"text-muted",children:y.comment?t.jsx("span",{className:"text-truncate d-inline-block",style:{maxWidth:"200px"},title:y.comment,children:y.comment}):t.jsx("span",{className:"text-muted",children:"ไม่มีความคิดเห็น"})}),t.jsx("td",{className:"text-muted",children:new Date(y.created_at).toLocaleDateString("th-TH")})]},y.id||`review-${v}`))})]})})})]})})})]}):t.jsx("div",{className:"text-center py-5",children:t.jsxs("div",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-exclamation-triangle fa-3x mb-3"}),t.jsx("p",{children:"ไม่พบข้อมูล"})]})})]})},d2=()=>{const[s,e]=E.useState({totalActivities:0,publishedActivities:0,recentActivities:[]}),[n,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{i(!0);const u=(await ie.get("/activities")).data.data.activities||[];e({totalActivities:u.length,publishedActivities:u.filter(h=>h.status==="OPEN").length,recentActivities:u.slice(0,5)})}catch(c){console.error("Error fetching dashboard data:",c)}finally{i(!1)}},l=c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return n?t.jsx("div",{className:"container",style:{padding:"40px 20px"},children:t.jsx("div",{className:"text-center",children:t.jsx("div",{children:"Loading dashboard..."})})}):t.jsx("div",{className:"staff-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"staff-header",children:[t.jsx("h1",{children:"แดชบอร์ดเจ้าหน้าที่"}),t.jsx("p",{children:"ยินดีต้อนรับสู่ระบบจัดการกิจกรรม"})]}),t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"📅"}),t.jsx("div",{className:"stat-number",children:s.totalActivities}),t.jsx("div",{className:"stat-label",children:"กิจกรรมทั้งหมด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"✅"}),t.jsx("div",{className:"stat-number",children:s.publishedActivities}),t.jsx("div",{className:"stat-label",children:"กิจกรรมที่เปิด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"📊"}),t.jsxs("div",{className:"stat-number",children:[s.totalActivities>0?Math.round(s.publishedActivities/s.totalActivities*100):0,"%"]}),t.jsx("div",{className:"stat-label",children:"อัตราการเปิด"})]}),t.jsxs("div",{className:"stat-card",children:[t.jsx("span",{className:"stat-icon",children:"🎯"}),t.jsx("div",{className:"stat-number",children:s.recentActivities.length}),t.jsx("div",{className:"stat-label",children:"กิจกรรมล่าสุด"})]})]}),t.jsxs("div",{className:"content-card",children:[t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("h3",{children:"กิจกรรมล่าสุด"}),t.jsx(Ne,{to:"/staff/activities",className:"btn btn-outline-primary",children:"ดูทั้งหมด"})]}),s.recentActivities.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"fas fa-calendar-times"}),t.jsx("h5",{children:"ไม่พบกิจกรรม"}),t.jsx("p",{children:"คุณยังไม่ได้สร้างกิจกรรมใดๆ"}),t.jsx(Ne,{to:"/staff/activities/create",className:"btn btn-primary",children:"สร้างกิจกรรมแรก"})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อกิจกรรม"}),t.jsx("th",{children:"ผู้สร้าง"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"วันที่สร้าง"}),t.jsx("th",{children:"การดำเนินการ"})]})}),t.jsx("tbody",{children:s.recentActivities.map(c=>t.jsxs("tr",{children:[t.jsxs("td",{children:[t.jsx("strong",{children:c.title}),c.description&&t.jsx("div",{className:"text-muted small",children:c.description.length>50?`${c.description.substring(0,50)}...`:c.description})]}),t.jsx("td",{children:t.jsxs("div",{className:"d-flex align-items-center",children:[t.jsx("div",{className:"avatar-sm bg-info text-white rounded-circle d-flex align-items-center justify-content-center me-2",children:c.creator?.name?.charAt(0)?.toUpperCase()||"?"}),t.jsxs("div",{children:[t.jsx("div",{children:c.creator?.name||"ไม่ทราบ"}),t.jsx("small",{className:"text-muted",children:c.creator?.role})]})]})}),t.jsx("td",{children:t.jsx("span",{className:`badge bg-${c.status==="OPEN"?"success":"secondary"}`,children:c.status})}),t.jsx("td",{children:t.jsx("small",{className:"text-muted",children:l(c.id)})}),t.jsx("td",{children:t.jsx(Ne,{to:"/staff/activities",className:"btn btn-sm btn-outline-primary",children:t.jsx("i",{className:"fas fa-eye"})})})]},c.id))})]})})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("h3",{children:"การดำเนินการด่วน"}),t.jsxs("div",{className:"quick-actions",children:[t.jsxs(Ne,{to:"/staff/activities/create",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"➕"}),t.jsx("h6",{className:"quick-action-title",children:"สร้างกิจกรรมใหม่"})]}),t.jsxs(Ne,{to:"/staff/activities",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"📅"}),t.jsx("h6",{className:"quick-action-title",children:"จัดการกิจกรรม"})]}),t.jsxs(Ne,{to:"/staff/serials/send",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"📤"}),t.jsx("h6",{className:"quick-action-title",children:"ส่งซีเรียล"})]}),t.jsxs(Ne,{to:"/staff/reports/activities",className:"quick-action-card",children:[t.jsx("span",{className:"quick-action-icon",children:"📊"}),t.jsx("h6",{className:"quick-action-title",children:"รายงานกิจกรรม"})]})]})]})]})})},Qc=s=>typeof s=="string"?s.toLowerCase():"",Xa=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const n=e.getDate().toString().padStart(2,"0"),i=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();return`${n}/${i}/${o}`},Lp=s=>({OPEN:"bg-success",DRAFT:"bg-warning text-dark",CANCELLED:"bg-danger",COMPLETED:"bg-info text-dark"})[s]||"bg-secondary",Op=s=>({OPEN:"เปิดรับสมัคร",DRAFT:"ร่าง",CANCELLED:"ยกเลิก",COMPLETED:"เสร็จสิ้น"})[s]||s,u2=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(null),[h,m]=E.useState(!1),[p,x]=E.useState(""),[y,v]=E.useState([]),[w,j]=E.useState("all"),[N,_]=E.useState("");E.useEffect(()=>{C()},[]);const C=async()=>{try{i(!0),l("");const k=await ie.get("/admin/activities");if(console.log("🔍 [FRONTEND] Activities API response:",k.data),k?.data?.success){const M=k.data.data?.activities||[];console.log("📊 [FRONTEND] Activities data:",M.map(B=>({id:B.id,title:B.title,participant_count:B.participant_count,checkins:B.checkins}))),M.forEach(B=>{console.log(`🎯 Activity ${B.id} (${B.title}): participant_count = ${B.participant_count}`)}),e(M)}else e([])}catch(k){console.error("Error fetching activities:",k),l("ไม่สามารถโหลดข้อมูลกิจกรรมได้")}finally{i(!1)}},P=async k=>{try{l("");const M=await ie.get(`/activities/${k}`);if(M?.data?.success){const B=M.data.data?.activity;u(B||null);try{const $=await ie.get(`/admin/activities/${k}/participants`);$?.data?.success?v($.data.data?.participants||[]):v([])}catch($){console.warn("Fetch participants failed:",$),v([])}if(B?.public_slug){const $=`${window.location.origin}/checkin/${B.public_slug}`;x($)}else x("");m(!0)}}catch(M){console.error("Error fetching activity details:",M),l("ไม่สามารถโหลดรายละเอียดกิจกรรมได้")}},W=E.useMemo(()=>{const k=Qc(N);return(s||[]).filter(M=>{const B=w==="all"||M?.status===w,$=Qc(M?.title),q=Qc(M?.description),z=$.includes(k)||q.includes(k);return B&&z})},[s,w,N]),L=E.useMemo(()=>(s||[]).reduce((k,M)=>{const B=M?.status||"UNKNOWN";return k[B]=(k[B]||0)+1,k},{}),[s]),Y=()=>{m(!1),u(null),v([]),x("")};return n?t.jsx("div",{className:"staff-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:400},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"staff-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"staff-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"h3 mb-1",children:"จัดการกิจกรรม"}),t.jsx("p",{className:"text-muted mb-0",children:"ดูข้อมูลกิจกรรมทั้งหมดในระบบ"})]}),t.jsxs(Ne,{to:"/staff/activities/create",className:"btn btn-primary",children:[t.jsx("i",{className:"fas fa-plus me-2"}),"สร้างกิจกรรมใหม่"]})]})}),o&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("h5",{className:"mb-0",children:"รายการกิจกรรม"}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("select",{className:"form-select",style:{width:"auto"},value:w,onChange:k=>j(k.target.value),children:[t.jsxs("option",{value:"all",children:["ทั้งหมด (",s.length,")"]}),t.jsxs("option",{value:"OPEN",children:["เปิดรับสมัคร (",L.OPEN||0,")"]}),t.jsxs("option",{value:"DRAFT",children:["ร่าง (",L.DRAFT||0,")"]}),t.jsxs("option",{value:"CANCELLED",children:["ยกเลิก (",L.CANCELLED||0,")"]}),t.jsxs("option",{value:"COMPLETED",children:["เสร็จสิ้น (",L.COMPLETED||0,")"]})]}),t.jsx("input",{type:"text",className:"form-control",placeholder:"ค้นหากิจกรรม...",value:N,onChange:k=>_(k.target.value),style:{width:250}})]})]})}),W.length===0?t.jsxs("div",{className:"empty-state text-center py-5",children:[t.jsx("i",{className:"fas fa-calendar-times fa-3x text-muted mb-3"}),t.jsx("h5",{children:"ไม่มีกิจกรรม"}),t.jsx("p",{className:"text-muted",children:"ยังไม่มีกิจกรรมที่ตรงกับเงื่อนไขการค้นหา"})]}):t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อกิจกรรม"}),t.jsx("th",{children:"วันที่จัด"}),t.jsx("th",{children:"ชั่วโมง"}),t.jsx("th",{children:"ผู้เข้าร่วม"}),t.jsx("th",{children:"สถานะ"}),t.jsx("th",{children:"จัดการ"})]})}),t.jsx("tbody",{children:W.map(k=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("strong",{children:k?.title||"-"})}),t.jsx("td",{children:Xa(k?.start_date)}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info text-dark",children:[k?.hours_awarded??0," ชม."]})}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-primary",children:[k?.participant_count??0," คน"]})}),t.jsx("td",{children:t.jsx("span",{className:`badge ${Lp(k?.status)}`,children:Op(k?.status)})}),t.jsx("td",{children:t.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>P(k.id),title:"ดูรายละเอียด",children:[t.jsx("i",{className:"fas fa-eye"})," ดู"]})})]},k.id))})]})})]}),h&&c&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"modal-backdrop show",onClick:Y}),t.jsx("div",{className:"modal show",tabIndex:-1,role:"dialog",style:{display:"block"},children:t.jsx("div",{className:"modal-dialog modal-xl",role:"document",onClick:k=>k.stopPropagation(),children:t.jsxs("div",{className:"modal-content",style:{borderRadius:"20px",border:"none",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[t.jsxs("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"20px 20px 0 0",border:"none",padding:"1.5rem 2rem"},children:[t.jsxs("h4",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-calendar-alt me-3"}),"รายละเอียดกิจกรรม"]}),t.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:Y,style:{fontSize:"1.2rem"}})]}),t.jsx("div",{className:"modal-body",style:{padding:"2rem"},children:t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-lg-8",children:[t.jsxs("div",{className:"activity-info-card",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",borderRadius:"15px",padding:"2rem",marginBottom:"2rem"},children:[t.jsx("h2",{className:"mb-3",style:{color:"#2c3e50",fontWeight:700,fontSize:"2rem"},children:c?.title||"-"}),t.jsx("p",{className:"text-muted mb-4",style:{fontSize:"1.1rem",lineHeight:1.6},children:c?.description||"-"}),t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-calendar text-primary me-2"}),t.jsx("strong",{children:"วันที่จัด:"}),t.jsx("br",{}),t.jsxs("span",{className:"text-muted",children:[Xa(c?.start_date)," - ",Xa(c?.end_date)]})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-map-marker-alt text-success me-2"}),t.jsx("strong",{children:"สถานที่:"}),t.jsx("br",{}),t.jsx("span",{className:"text-muted",children:c?.location||"-"})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-clock text-warning me-2"}),t.jsx("strong",{children:"ชั่วโมงที่ได้รับ:"}),t.jsx("br",{}),t.jsxs("span",{className:"badge bg-info text-dark",style:{fontSize:"1rem",padding:"0.5rem 1rem"},children:[c?.hours_awarded??0," ชั่วโมง"]})]})}),t.jsx("div",{className:"col-md-6 mb-3",children:t.jsxs("div",{className:"info-item",children:[t.jsx("i",{className:"fas fa-info-circle text-info me-2"}),t.jsx("strong",{children:"สถานะ:"}),t.jsx("br",{}),t.jsx("span",{className:`badge ${Lp(c?.status)}`,style:{fontSize:"1rem",padding:"0.5rem 1rem"},children:Op(c?.status)})]})})]})]}),t.jsxs("div",{className:"participants-section",children:[t.jsxs("h5",{className:"mb-3",style:{color:"#2c3e50"},children:[t.jsx("i",{className:"fas fa-users me-2"}),"ผู้เข้าร่วม (",y?.length||0," คน)"]}),t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",style:{borderRadius:"10px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("thead",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:t.jsxs("tr",{children:[t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-user me-1"}),"ชื่อ"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-id-card me-1"}),"รหัสนักเรียน"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-envelope me-1"}),"อีเมล"]}),t.jsxs("th",{children:[t.jsx("i",{className:"fas fa-calendar me-1"}),"วันที่ลงทะเบียน"]})]})}),t.jsx("tbody",{children:y&&y.length>0?y.map(k=>{const M=k.name||k.full_name||(k.identifier_type==="NAME"?k.identifier_value:"-")||"-",B=k.student_code||(k.identifier_type==="STUDENT_CODE"?k.identifier_value:"-")||"-",$=k.email||(k.identifier_type==="EMAIL"?k.identifier_value:"-")||"-";return t.jsxs("tr",{children:[t.jsx("td",{children:M}),t.jsx("td",{children:B}),t.jsx("td",{children:$}),t.jsx("td",{children:Xa(k.created_at)})]},k.id??`${k.identifier_type}-${k.identifier_value}-${k.created_at}`)}):t.jsx("tr",{children:t.jsxs("td",{colSpan:4,className:"text-center text-muted py-4",children:[t.jsx("i",{className:"fas fa-users fa-2x mb-2"}),t.jsx("br",{}),"ยังไม่มีผู้เข้าร่วม"]})})})]})})]})]}),t.jsx("div",{className:"col-lg-4",children:t.jsxs("div",{className:"qr-section",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",padding:"2rem",color:"white",textAlign:"center",position:"sticky",top:"2rem"},children:[t.jsxs("h5",{className:"mb-4",children:[t.jsx("i",{className:"fas fa-qrcode me-2"}),"QR Code สำหรับลงทะเบียน"]}),p?t.jsxs("div",{children:[t.jsx("div",{style:{background:"white",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",display:"inline-block"},children:t.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(p)}`,alt:"QR Code",style:{maxWidth:200,width:"100%",height:"auto"}})}),t.jsxs("p",{className:"mb-3",style:{fontSize:"0.9rem"},children:[t.jsx("i",{className:"fas fa-mobile-alt me-1"}),"สแกน QR Code เพื่อลงทะเบียนกิจกรรม"]}),t.jsxs("div",{className:"mb-3",style:{background:"rgba(255,255,255,0.1)",borderRadius:"10px",padding:"1rem",fontSize:"0.8rem",wordBreak:"break-all"},children:[t.jsx("strong",{children:"ลิงก์ลงทะเบียน:"}),t.jsx("br",{}),t.jsx("code",{style:{color:"#fff"},children:p})]}),t.jsxs("div",{className:"d-grid gap-2",children:[t.jsxs("a",{href:`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(p)}`,download:`qr-${(c?.title||"activity").replace(/[^a-zA-Z0-9ก-๙]/g,"-")}.png`,className:"btn btn-light btn-sm",style:{borderRadius:"10px"},children:[t.jsx("i",{className:"fas fa-download me-2"}),"ดาวน์โหลด QR Code"]}),t.jsxs("button",{className:"btn btn-outline-light btn-sm",style:{borderRadius:"10px"},onClick:()=>{navigator.clipboard.writeText(p),alert("คัดลอกลิงก์ลงทะเบียนแล้ว!")},children:[t.jsx("i",{className:"fas fa-copy me-2"}),"คัดลอกลิงก์"]})]})]}):t.jsxs("div",{className:"text-center",children:[t.jsx("i",{className:"fas fa-qrcode fa-3x mb-3",style:{opacity:.5}}),t.jsx("p",{children:"กำลังสร้าง QR Code..."})]})]})})]})}),t.jsx("div",{className:"modal-footer",style:{background:"#f8f9fa",borderRadius:"0 0 20px 20px",border:"none",padding:"1.5rem 2rem"},children:t.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:Y,style:{borderRadius:"10px",padding:"0.5rem 1.5rem"},children:[t.jsx("i",{className:"fas fa-times me-2"}),"ปิด"]})})]})})})]})]})})},h2=()=>{const[s,e]=E.useState([]),[n,i]=E.useState(!0),[o,l]=E.useState(""),[c,u]=E.useState(""),[h,m]=E.useState(null),[p,x]=E.useState([]),[y,v]=E.useState(new Set),[w,j]=E.useState("pending");E.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const k=await ie.get("/admin/activities");if(console.log("Activities response:",k.data),k.data.success){const M=k.data.data.activities||[];console.log("Activities data:",M);const B=await Promise.all(M.map(async $=>{try{const q=await ie.get(`/admin/activities/${$.id}/participants`);console.log(`Participants for activity ${$.id}:`,q.data);const z=q.data.success?q.data.data.participants||[]:[];console.log(`🔍 [FRONTEND] Raw participants data for activity ${$.id}:`,z.map(ee=>({id:ee.id,identifier_value:ee.identifier_value,serial_sent:ee.serial_sent,serial_sent_at:ee.serial_sent_at,fullData:ee})));const ne=z.map(ee=>({...ee,hasSerial:ee.serial_sent||!1}));return console.log(`✅ [FRONTEND] Processed participants for activity ${$.id}:`,ne.map(ee=>({id:ee.id,identifier_value:ee.identifier_value,hasSerial:ee.hasSerial,serial_sent:ee.serial_sent}))),{...$,participants:ne,pendingCount:ne.filter(ee=>!ee.hasSerial).length}}catch{return{...$,participants:[],pendingCount:0}}}));e(B),console.log("Final activities with participants:",B)}}catch(k){console.error("Error fetching activities:",k),l("ไม่สามารถโหลดข้อมูลกิจกรรมได้")}finally{i(!1)}},_=async(k,M,B="email")=>{try{console.log("🔵 [FRONTEND] Sending serial request to /serials/send:",{activity_id:k,participant_id:M,method:B,timestamp:new Date().toISOString()}),v(q=>new Set([...q,`${k}-${M}`]));const $=await ie.post("/serials/send",{activity_id:k,participant_id:M,method:B});if(console.log("📥 [FRONTEND] Received response:",$.data),$.data.success){console.log("✅ [FRONTEND] Success response data:",$.data.data);const q=$.data.data?.code||"N/A",z=$.data.data?.email_sent;if(console.log("📊 [FRONTEND] Extracted data:",{serialCode:q,emailSent:z,fullData:$.data.data}),u(`✅ ส่งซีเรียลสำเร็จ! รหัส: ${q}${z?" (อีเมลส่งแล้ว)":""}`),await N(),h){const ne=s.find(ee=>ee.id===h.id);ne&&m(ne)}}else console.log("❌ [FRONTEND] Error response:",$.data),l($.data.message||"ไม่สามารถส่งซีเรียลได้")}catch($){console.error("Error sending serial:",$);const q=$.response?.data?.message||"ไม่สามารถส่งซีเรียลได้";if(q.includes("Serial already exists")){if(console.log("🔄 [FRONTEND] Serial already exists - refreshing data to update status"),await N(),h){const z=s.find(ne=>ne.id===h.id);z&&m(z)}u("✅ ซีเรียลมีอยู่แล้ว - อัปเดตสถานะแล้ว")}else l(q)}finally{v($=>{const q=new Set($);return q.delete(`${k}-${M}`),q})}},C=async(k,M="email")=>{const B=s.find(q=>q.id===k);if(!B)return;const $=B.participants.filter(q=>!q.hasSerial);try{v(U=>new Set([...U,`all-${k}`]));const q=$.map(U=>ie.post("/serials/generate",{activity_id:k,participant_id:U.id,method:M})),z=await Promise.allSettled(q),ne=z.filter(U=>U.status==="fulfilled"&&U.value.data.success).length,ee=$.length-ne;if(ne>0){const F=z.filter(X=>X.status==="fulfilled"&&X.value.data.success).map(X=>X.value.data.data?.code).filter(Boolean).slice(0,3),Q=F.length>0?` รหัส: ${F.join(", ")}${F.length<ne?"...":""}`:"";u(`✅ ส่งซีเรียลสำเร็จ ${ne}/${$.length} คน${Q}${ee>0?` (ล้มเหลว ${ee} คน)`:""}`)}else l(`❌ ส่งซีเรียลล้มเหลวทั้งหมด ${$.length} คน`);if(await N(),h){const U=s.find(F=>F.id===h.id);U&&m(U)}}catch(q){console.error("Error sending serials to all:",q),l("ไม่สามารถส่งซีเรียลให้ทุกคนได้")}finally{v(q=>{const z=new Set(q);return z.delete(`all-${k}`),z})}},P=k=>({OPEN:"badge-success",DRAFT:"badge-warning",CANCELLED:"badge-danger",COMPLETED:"badge-info"})[k]||"badge-secondary",W=k=>({OPEN:"เปิดรับสมัคร",DRAFT:"ร่าง",CANCELLED:"ยกเลิก",COMPLETED:"เสร็จสิ้น"})[k]||k,L=k=>new Date(k).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=s.filter(k=>w==="pending"?k.pendingCount>0:w==="completed"?k.pendingCount===0&&k.participants.length>0:!0);return n?t.jsx("div",{className:"staff-dashboard",children:t.jsx("div",{className:"container",children:t.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:t.jsx("div",{className:"spinner-border text-primary",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})})})})}):t.jsx("div",{className:"staff-dashboard",children:t.jsxs("div",{className:"container",children:[t.jsx("div",{className:"staff-header",children:t.jsx("div",{className:"d-flex justify-content-between align-items-center",children:t.jsxs("div",{children:[t.jsx("h1",{className:"h3 mb-1",children:"ส่งเมลซีเรียล"}),t.jsx("p",{className:"text-muted mb-0",children:"ส่งรหัสซีเรียลให้ผู้เข้าร่วมกิจกรรม"})]})})}),o&&t.jsxs("div",{className:"alert alert-danger",role:"alert",children:[t.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),o,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>l("")})]}),c&&t.jsxs("div",{className:"alert alert-success",role:"alert",children:[t.jsx("i",{className:"fas fa-check-circle me-2"}),c,t.jsx("button",{type:"button",className:"btn-close",onClick:()=>u("")})]}),t.jsxs("div",{className:"content-card",children:[t.jsx("div",{className:"table-header",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[t.jsx("h5",{className:"mb-0",children:"กิจกรรมที่รอส่งซีเรียล"}),t.jsx("div",{className:"d-flex gap-2",children:t.jsxs("select",{className:"form-select",style:{width:"auto"},value:w,onChange:k=>j(k.target.value),children:[t.jsx("option",{value:"pending",children:"รอส่งซีเรียล"}),t.jsx("option",{value:"completed",children:"ส่งครบแล้ว"}),t.jsx("option",{value:"all",children:"ทั้งหมด"})]})})]})}),Y.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("i",{className:"fas fa-check-circle fa-3x text-success mb-3"}),t.jsx("h5",{children:"ไม่มีกิจกรรมที่ต้องส่งซีเรียล"}),t.jsx("p",{className:"text-muted",children:"ทุกกิจกรรมได้ส่งซีเรียลครบแล้ว"})]}):t.jsx("div",{className:"row",children:Y.map(k=>t.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:t.jsxs("div",{className:"card h-100",children:[t.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[t.jsx("h6",{className:"mb-0",children:k.title}),t.jsx("span",{className:`badge ${P(k.status)}`,children:W(k.status)})]}),t.jsxs("div",{className:"card-body",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("small",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-calendar me-1"}),L(k.start_date)]})}),t.jsx("div",{className:"mb-2",children:t.jsxs("small",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-map-marker-alt me-1"}),k.location||"ไม่ระบุสถานที่"]})}),t.jsx("div",{className:"mb-3",children:t.jsxs("small",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-clock me-1"}),k.hours_awarded," ชั่วโมง"]})}),t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"row text-center",children:[t.jsx("div",{className:"col-4",children:t.jsxs("div",{className:"border-end",children:[t.jsx("div",{className:"h6 mb-0 text-primary",children:k.participants.length}),t.jsx("small",{className:"text-muted",children:"ลงทะเบียน"})]})}),t.jsx("div",{className:"col-4",children:t.jsxs("div",{className:"border-end",children:[t.jsx("div",{className:"h6 mb-0 text-success",children:k.participants.filter(M=>M.hasSerial).length}),t.jsx("small",{className:"text-muted",children:"ส่งแล้ว"})]})}),t.jsxs("div",{className:"col-4",children:[t.jsx("div",{className:"h6 mb-0 text-warning",children:k.pendingCount}),t.jsx("small",{className:"text-muted",children:"รอส่ง"})]})]})}),k.pendingCount>0&&t.jsxs("div",{className:"d-grid gap-2",children:[t.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>C(k.id,"email"),disabled:y.has(`all-${k.id}`),children:y.has(`all-${k.id}`)?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังส่ง..."]}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-envelope me-2"}),"ส่งให้ทุกคน (อีเมล)"]})}),t.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>m(k),children:[t.jsx("i",{className:"fas fa-list me-2"}),"ดูรายละเอียด"]})]})]})]})},k.id))})]}),h&&t.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:t.jsx("div",{className:"modal-dialog modal-lg",children:t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsxs("div",{children:[t.jsxs("h5",{className:"modal-title",children:[t.jsx("i",{className:"fas fa-users me-2"}),"รายชื่อผู้เข้าร่วม - ",h.title]}),t.jsxs("div",{className:"d-flex gap-3 mt-2",children:[t.jsxs("span",{className:"badge bg-primary",children:[t.jsx("i",{className:"fas fa-user-plus me-1"}),"ลงทะเบียน ",h.participants.length," คน"]}),t.jsxs("span",{className:"badge bg-success",children:[t.jsx("i",{className:"fas fa-check me-1"}),"ส่งแล้ว ",h.participants.filter(k=>k.hasSerial).length," คน"]}),t.jsxs("span",{className:"badge bg-warning",children:[t.jsx("i",{className:"fas fa-clock me-1"}),"รอส่ง ",h.pendingCount," คน"]})]})]}),t.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(null)})]}),t.jsx("div",{className:"modal-body",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"ชื่อ"}),t.jsx("th",{children:"รหัสนักเรียน"}),t.jsx("th",{children:"อีเมล"}),t.jsx("th",{children:"สถานะซีเรียล"}),t.jsx("th",{children:"วันที่ส่ง"}),t.jsx("th",{children:"จัดการ"})]})}),t.jsx("tbody",{children:h.participants.map(k=>t.jsxs("tr",{children:[t.jsxs("td",{children:[k.name||k.identifier_value,k.identifier_type!=="EMAIL"&&t.jsxs("small",{className:"text-muted d-block",children:["(",k.identifier_type==="USERNAME"?"Username":"Student Code",")"]})]}),t.jsx("td",{children:k.student_code||"-"}),t.jsx("td",{children:k.email||k.identifier_value}),t.jsx("td",{children:k.hasSerial?t.jsx("span",{className:"badge badge-success",children:"ส่งแล้ว"}):t.jsx("span",{className:"badge badge-warning",children:"รอส่ง"})}),t.jsx("td",{children:k.serial_sent_at?t.jsx("small",{className:"text-muted",children:L(k.serial_sent_at)}):t.jsx("span",{className:"text-muted",children:"-"})}),t.jsx("td",{children:!k.hasSerial&&t.jsxs("div",{className:"btn-group",role:"group",children:[t.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>_(h.id,k.id,"email"),disabled:y.has(`${h.id}-${k.id}`),title:"ส่งทางอีเมล",children:y.has(`${h.id}-${k.id}`)?t.jsx("span",{className:"spinner-border spinner-border-sm",role:"status"}):t.jsxs(t.Fragment,{children:[t.jsx("i",{className:"fas fa-envelope"})," อีเมล"]})}),t.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>_(h.id,k.id,"account"),disabled:y.has(`${h.id}-${k.id}`),title:"ส่งไปบัญชี",children:[t.jsx("i",{className:"fas fa-user"})," บัญชี"]})]})})]},k.id))})]})})}),t.jsx("div",{className:"modal-footer",children:t.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(null),children:"ปิด"})})]})})}),t.jsxs("div",{className:"content-card mt-4",children:[t.jsx("div",{className:"table-header",children:t.jsxs("h5",{className:"mb-3",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"สรุปสถิติการส่งซีเรียล"]})}),t.jsxs("div",{className:"row text-center",children:[t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"border-end",children:[t.jsx("div",{className:"h4 mb-0 text-primary",children:s.reduce((k,M)=>k+M.participants.length,0)}),t.jsx("small",{className:"text-muted",children:"ผู้ลงทะเบียนทั้งหมด"})]})}),t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"border-end",children:[t.jsx("div",{className:"h4 mb-0 text-success",children:s.reduce((k,M)=>k+M.participants.filter(B=>B.hasSerial).length,0)}),t.jsx("small",{className:"text-muted",children:"ส่งซีเรียลแล้ว"})]})}),t.jsx("div",{className:"col-md-3",children:t.jsxs("div",{className:"border-end",children:[t.jsx("div",{className:"h4 mb-0 text-warning",children:s.reduce((k,M)=>k+M.pendingCount,0)}),t.jsx("small",{className:"text-muted",children:"รอส่งซีเรียล"})]})}),t.jsxs("div",{className:"col-md-3",children:[t.jsx("div",{className:"h4 mb-0 text-info",children:s.length}),t.jsx("small",{className:"text-muted",children:"กิจกรรมทั้งหมด"})]})]})]})]})})},f2=()=>{const{user:s}=Ze(),[e,n]=E.useState({name:"",email:"",username:"",phone:"",address:"",department:"",position:""}),[i,o]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=E.useState(!1),[u,h]=E.useState(""),[m,p]=E.useState(""),[x,y]=E.useState("profile");E.useEffect(()=>{s&&n({name:s.name||"",email:s.email||"",username:s.username||"",phone:s.phone||"",address:s.address||"",department:s.department||"",position:s.position||""})},[s]);const v=_=>{const{name:C,value:P}=_.target;n(W=>({...W,[C]:P}))},w=_=>{const{name:C,value:P}=_.target;o(W=>({...W,[C]:P}))},j=async _=>{_.preventDefault(),c(!0),h(""),p("");try{const C=await ie.put("/auth/profile",e);C.data.success?(p("อัปเดตข้อมูลโปรไฟล์สำเร็จ"),window.location.reload()):h(C.data.message||"ไม่สามารถอัปเดตข้อมูลได้")}catch(C){console.error("Error updating profile:",C),h(C.response?.data?.message||"ไม่สามารถอัปเดตข้อมูลได้")}finally{c(!1)}},N=async _=>{if(_.preventDefault(),c(!0),h(""),p(""),i.newPassword!==i.confirmPassword){h("รหัสผ่านใหม่ไม่ตรงกัน"),c(!1);return}if(i.newPassword.length<6){h("รหัสผ่านใหม่ต้องมีอย่างน้อย 6 ตัวอักษร"),c(!1);return}try{const C=await ie.put("/auth/change-password",{currentPassword:i.currentPassword,newPassword:i.newPassword});C.data.success?(p("เปลี่ยนรหัสผ่านสำเร็จ"),o({currentPassword:"",newPassword:"",confirmPassword:""})):h(C.data.message||"ไม่สามารถเปลี่ยนรหัสผ่านได้")}catch(C){console.error("Error changing password:",C),h(C.response?.data?.message||"ไม่สามารถเปลี่ยนรหัสผ่านได้")}finally{c(!1)}};return t.jsxs("div",{className:"container",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",padding:"30px",borderRadius:"15px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(40,167,69,0.3)"},children:t.jsxs("div",{className:"row align-items-center",children:[t.jsxs("div",{className:"col-md-8",children:[t.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"👨‍💼 โปรไฟล์เจ้าหน้าที่"}),t.jsxs("p",{style:{fontSize:"1.2rem",margin:0,opacity:.9},children:["สวัสดี ",s?.name,"! จัดการข้อมูลส่วนตัวและรหัสผ่านของคุณ"]})]}),t.jsx("div",{className:"col-md-4 text-end",children:t.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:"⚙️"})})]})}),u&&t.jsx("div",{className:"alert alert-danger",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #f5c6cb"},children:u}),m&&t.jsx("div",{className:"alert alert-success",style:{backgroundColor:"#d4edda",color:"#155724",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #c3e6cb"},children:m}),t.jsxs("div",{className:"card mb-4",style:{border:"none",boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[t.jsx("div",{className:"card-header",style:{backgroundColor:"#f8f9fa",border:"none"},children:t.jsxs("ul",{className:"nav nav-tabs card-header-tabs",style:{border:"none"},children:[t.jsx("li",{className:"nav-item",children:t.jsx("button",{className:`nav-link ${x==="profile"?"active":""}`,onClick:()=>y("profile"),style:{border:"none",backgroundColor:x==="profile"?"#28a745":"transparent",color:x==="profile"?"white":"#28a745",borderRadius:"25px",padding:"10px 20px",marginRight:"10px",fontWeight:"bold",transition:"all 0.3s ease"},children:"📋 ข้อมูลส่วนตัว"})}),t.jsx("li",{className:"nav-item",children:t.jsx("button",{className:`nav-link ${x==="password"?"active":""}`,onClick:()=>y("password"),style:{border:"none",backgroundColor:x==="password"?"#28a745":"transparent",color:x==="password"?"white":"#28a745",borderRadius:"25px",padding:"10px 20px",fontWeight:"bold",transition:"all 0.3s ease"},children:"🔐 เปลี่ยนรหัสผ่าน"})})]})}),t.jsxs("div",{className:"card-body",children:[x==="profile"&&t.jsxs("form",{onSubmit:j,children:[t.jsxs("div",{className:"row",children:[t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#28a745",marginBottom:"20px"},children:"📋 ข้อมูลพื้นฐาน"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"name",className:"form-label",children:"ชื่อ-นามสกุล *"}),t.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:e.name,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"email",className:"form-label",children:"อีเมล *"}),t.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:e.email,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"username",className:"form-label",children:"ชื่อผู้ใช้ *"}),t.jsx("input",{type:"text",className:"form-control",id:"username",name:"username",value:e.username,onChange:v,required:!0})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"phone",className:"form-label",children:"เบอร์โทรศัพท์"}),t.jsx("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:e.phone,onChange:v,placeholder:"0812345678"})]})]}),t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#28a745",marginBottom:"20px"},children:"💼 ข้อมูลการทำงาน"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"department",className:"form-label",children:"แผนก/หน่วยงาน"}),t.jsx("input",{type:"text",className:"form-control",id:"department",name:"department",value:e.department,onChange:v,placeholder:"เช่น ฝ่ายกิจการนักศึกษา"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"position",className:"form-label",children:"ตำแหน่ง"}),t.jsx("input",{type:"text",className:"form-control",id:"position",name:"position",value:e.position,onChange:v,placeholder:"เช่น เจ้าหน้าที่กิจการนักศึกษา"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"address",className:"form-label",children:"ที่อยู่"}),t.jsx("textarea",{className:"form-control",id:"address",name:"address",value:e.address,onChange:v,rows:"4",placeholder:"กรอกที่อยู่"})]})]})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{type:"submit",className:"btn",disabled:l,style:{padding:"12px 40px",backgroundColor:"#28a745",border:"none",borderRadius:"25px",color:"white",fontSize:"1.1rem",fontWeight:"bold",boxShadow:"0 4px 15px rgba(40,167,69,0.3)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#218838",_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 20px rgba(40,167,69,0.4)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#28a745",_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 15px rgba(40,167,69,0.3)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังบันทึก..."]}):t.jsx(t.Fragment,{children:"💾 บันทึกข้อมูล"})})})]}),x==="password"&&t.jsx("form",{onSubmit:N,children:t.jsx("div",{className:"row justify-content-center",children:t.jsxs("div",{className:"col-md-6",children:[t.jsx("h5",{style:{color:"#28a745",marginBottom:"20px"},children:"🔐 เปลี่ยนรหัสผ่าน"}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"currentPassword",className:"form-label",children:"รหัสผ่านปัจจุบัน *"}),t.jsx("input",{type:"password",className:"form-control",id:"currentPassword",name:"currentPassword",value:i.currentPassword,onChange:w,required:!0,placeholder:"กรอกรหัสผ่านปัจจุบัน"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"รหัสผ่านใหม่ *"}),t.jsx("input",{type:"password",className:"form-control",id:"newPassword",name:"newPassword",value:i.newPassword,onChange:w,required:!0,placeholder:"กรอกรหัสผ่านใหม่ (อย่างน้อย 6 ตัวอักษร)"})]}),t.jsxs("div",{className:"mb-3",children:[t.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"ยืนยันรหัสผ่านใหม่ *"}),t.jsx("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:w,required:!0,placeholder:"ยืนยันรหัสผ่านใหม่"})]}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"submit",className:"btn",disabled:l,style:{padding:"12px 40px",backgroundColor:"#ffc107",border:"none",borderRadius:"25px",color:"#333",fontSize:"1.1rem",fontWeight:"bold",boxShadow:"0 4px 15px rgba(255,193,7,0.3)",transition:"all 0.3s ease"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#e0a800",_.currentTarget.style.transform="translateY(-2px)",_.currentTarget.style.boxShadow="0 6px 20px rgba(255,193,7,0.4)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#ffc107",_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 4px 15px rgba(255,193,7,0.3)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"กำลังเปลี่ยน..."]}):t.jsx(t.Fragment,{children:"🔑 เปลี่ยนรหัสผ่าน"})})})]})})})]})]})]})};Sn.register(Ro,To,So,wo,_o,Co,Eo,ko,No);const m2=()=>{const{user:s}=Ze(),[e,n]=E.useState(!0),[i,o]=E.useState(null),[l,c]=E.useState({startDate:"",endDate:"",status:""});E.useEffect(()=>{s?.role==="STAFF"&&u()},[s,l]);const u=async()=>{try{n(!0);const j=await ie.get("/admin/reports/staff/activities",{params:l});o(j.data.data)}catch(j){console.error("Error fetching activity reports:",j)}finally{n(!1)}},h=j=>{c({...l,[j.target.name]:j.target.value})},m=async()=>{try{const j=await ie.get("/admin/reports/staff/activities/export/excel",{params:l,responseType:"blob"}),N=window.URL.createObjectURL(new Blob([j.data])),_=document.createElement("a");_.href=N,_.setAttribute("download",`activity-reports-${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(_),_.click(),_.remove()}catch(j){console.error("Error exporting to Excel:",j)}},p=async()=>{try{const j=await ie.get("/admin/reports/staff/activities/export/pdf",{params:l,responseType:"blob"}),N=window.URL.createObjectURL(new Blob([j.data])),_=document.createElement("a");_.href=N,_.setAttribute("download",`activity-reports-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(_),_.click(),_.remove()}catch(j){console.error("Error exporting to PDF:",j)}},x={labels:i?.participationTrend?.map(j=>j.month)||[],datasets:[{label:"จำนวนผู้เข้าร่วม",data:i?.participationTrend?.map(j=>j.participants)||[],borderColor:"#4ECDC4",backgroundColor:"rgba(78, 205, 196, 0.1)",borderWidth:3,fill:!0,tension:.4}]},y={labels:i?.activityStatus?.map(j=>j.status)||[],datasets:[{label:"จำนวนกิจกรรม",data:i?.activityStatus?.map(j=>j.count)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"],borderWidth:2,borderColor:"#fff"}]},v={labels:i?.topActivities?.map(j=>j.title?.substring(0,20)+"...")||[],datasets:[{label:"จำนวนผู้เข้าร่วม",data:i?.topActivities?.map(j=>j.participantCount)||[],backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],borderWidth:2,borderColor:"#fff"}]},w={labels:["1 ดาว","2 ดาว","3 ดาว","4 ดาว","5 ดาว"],datasets:[{label:"จำนวนการประเมิน",data:i?.ratingDistribution||[],backgroundColor:["#FF6B6B","#FFA07A","#FFEAA7","#98D8C8","#4ECDC4"],borderWidth:2,borderColor:"#fff"}]};return s?.role!=="STAFF"?t.jsx("div",{className:"container mt-4",children:t.jsx("div",{className:"alert alert-danger",children:"คุณไม่มีสิทธิ์เข้าถึงหน้านี้"})}):t.jsxs("div",{className:"container-fluid py-4",children:[t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"mb-1 text-success",children:[t.jsx("i",{className:"fas fa-calendar-alt me-2"}),"รายงานกิจกรรม"]}),t.jsx("p",{className:"text-muted mb-0",children:"ข้อมูลการจัดกิจกรรมและผลตอบรับ"})]}),t.jsxs("div",{className:"d-flex gap-2",children:[t.jsxs("button",{className:"btn btn-success btn-sm",onClick:m,disabled:e,children:[t.jsx("i",{className:"fas fa-file-excel me-1"}),"Excel"]}),t.jsxs("button",{className:"btn btn-danger btn-sm",onClick:p,disabled:e,children:[t.jsx("i",{className:"fas fa-file-pdf me-1"}),"PDF"]})]})]})})}),t.jsx("div",{className:"row mb-4",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-filter me-2"}),"ตัวกรองข้อมูล"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row g-3",children:[t.jsxs("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่เริ่มต้น"}),t.jsx("input",{type:"date",className:"form-control",name:"startDate",value:l.startDate,onChange:h})]}),t.jsxs("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"วันที่สิ้นสุด"}),t.jsx("input",{type:"date",className:"form-control",name:"endDate",value:l.endDate,onChange:h})]}),t.jsxs("div",{className:"col-md-4",children:[t.jsx("label",{className:"form-label fw-semibold",children:"สถานะ"}),t.jsxs("select",{className:"form-select",name:"status",value:l.status,onChange:h,children:[t.jsx("option",{value:"",children:"ทั้งหมด"}),i?.statuses?.map(j=>t.jsx("option",{value:j,children:j},j))]})]})]})})]})})}),e?t.jsxs("div",{className:"text-center py-5",children:[t.jsx("div",{className:"spinner-border text-success",role:"status",children:t.jsx("span",{className:"visually-hidden",children:"กำลังโหลด..."})}),t.jsx("p",{className:"mt-3 text-muted",children:"กำลังโหลดข้อมูล..."})]}):i?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-success mb-2",children:t.jsx("i",{className:"fas fa-calendar-check fa-2x"})}),t.jsx("h4",{className:"text-success mb-1",children:i.summary?.totalActivities||0}),t.jsx("p",{className:"text-muted mb-0",children:"กิจกรรมทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-primary mb-2",children:t.jsx("i",{className:"fas fa-check-circle fa-2x"})}),t.jsx("h4",{className:"text-primary mb-1",children:i.summary?.completedActivities||0}),t.jsx("p",{className:"text-muted mb-0",children:"กิจกรรมที่เสร็จสิ้น"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-info mb-2",children:t.jsx("i",{className:"fas fa-users fa-2x"})}),t.jsx("h4",{className:"text-info mb-1",children:i.summary?.totalParticipants||0}),t.jsx("p",{className:"text-muted mb-0",children:"ผู้เข้าร่วมทั้งหมด"})]})})}),t.jsx("div",{className:"col-md-3",children:t.jsx("div",{className:"card border-0 shadow-sm h-100",children:t.jsxs("div",{className:"card-body text-center",children:[t.jsx("div",{className:"text-warning mb-2",children:t.jsx("i",{className:"fas fa-star fa-2x"})}),t.jsx("h4",{className:"text-warning mb-1",children:typeof i.summary?.averageRating=="number"?i.summary.averageRating.toFixed(1):(parseFloat(i.summary?.averageRating)||0).toFixed(1)}),t.jsx("p",{className:"text-muted mb-0",children:"คะแนนเฉลี่ย"})]})})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-line me-2"}),"เทรนด์การเข้าร่วมรายเดือน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Do,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})}),t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-pie me-2"}),"การกระจายสถานะกิจกรรม"]})}),t.jsx("div",{className:"card-body",children:t.jsx(Vd,{data:y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}},height:300})})]})})]}),t.jsxs("div",{className:"row mb-4",children:[t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-chart-bar me-2"}),"กิจกรรมยอดนิยม"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})}),t.jsx("div",{className:"col-lg-6",children:t.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-star me-2"}),"การกระจายคะแนนประเมิน"]})}),t.jsx("div",{className:"card-body",children:t.jsx(sr,{data:w,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}},height:300})})]})})]}),t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light border-0",children:t.jsxs("h6",{className:"mb-0 text-dark",children:[t.jsx("i",{className:"fas fa-trophy me-2"}),"อันดับกิจกรรมยอดนิยม"]})}),t.jsx("div",{className:"card-body p-0",children:t.jsx("div",{className:"table-responsive",children:t.jsxs("table",{className:"table table-hover mb-0",children:[t.jsx("thead",{className:"table-light",children:t.jsxs("tr",{children:[t.jsx("th",{className:"border-0",children:"อันดับ"}),t.jsx("th",{className:"border-0",children:"ชื่อกิจกรรม"}),t.jsx("th",{className:"border-0",children:"วันที่จัด"}),t.jsx("th",{className:"border-0",children:"ผู้เข้าร่วม"}),t.jsx("th",{className:"border-0",children:"คะแนนเฉลี่ย"}),t.jsx("th",{className:"border-0",children:"สถานะ"})]})}),t.jsx("tbody",{children:i?.topActivities?.map((j,N)=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx("span",{className:`badge ${N===0?"bg-warning":N===1?"bg-secondary":N===2?"bg-danger":"bg-light text-dark"}`,children:N+1})}),t.jsx("td",{className:"fw-semibold",children:j.title}),t.jsx("td",{className:"text-muted",children:new Date(j.start_date).toLocaleDateString("th-TH")}),t.jsx("td",{children:t.jsxs("span",{className:"badge bg-info",children:[j.participantCount," คน"]})}),t.jsx("td",{children:t.jsx("span",{className:"badge bg-warning",children:typeof j.averageRating=="number"?j.averageRating.toFixed(1):"N/A"})}),t.jsx("td",{children:t.jsx("span",{className:`badge ${j.status==="CLOSED"?"bg-success":j.status==="OPEN"?"bg-warning":j.status==="DRAFT"?"bg-secondary":"bg-light text-dark"}`,children:j.status==="CLOSED"?"เสร็จสิ้น":j.status==="OPEN"?"กำลังดำเนินการ":j.status==="DRAFT"?"ร่าง":j.status})})]},j.id||`activity-${N}`))})]})})})]})})})]}):t.jsx("div",{className:"text-center py-5",children:t.jsxs("div",{className:"text-muted",children:[t.jsx("i",{className:"fas fa-exclamation-triangle fa-3x mb-3"}),t.jsx("p",{children:"ไม่พบข้อมูล"})]})})]})},p2=({children:s})=>{const{isAuthenticated:e}=Ze();return e?t.jsx(ad,{children:s}):t.jsx(Ng,{children:s})};function g2(){return t.jsx(tj,{children:t.jsxs(fy,{children:[t.jsxs(be,{path:"/",element:t.jsx(Ng,{}),children:[t.jsx(be,{index:!0,element:t.jsx(oj,{})}),t.jsx(be,{path:"login",element:t.jsx(lj,{})}),t.jsx(be,{path:"register",element:t.jsx(cj,{})})]}),t.jsx(be,{path:"/checkin/:slug",element:t.jsx(gj,{})}),t.jsxs(be,{path:"/admin",element:t.jsx(Qn,{requiredRole:"ADMIN",children:t.jsx(ad,{})}),children:[t.jsx(be,{index:!0,element:t.jsx(uj,{})}),t.jsx(be,{path:"activities",element:t.jsx(yj,{})}),t.jsx(be,{path:"activities/create",element:t.jsx(Lc,{})}),t.jsx(be,{path:"serials/send",element:t.jsx(vj,{})}),t.jsx(be,{path:"users/students",element:t.jsx(Fc,{role:"STUDENT",roleName:"นักเรียน",roleIcon:"fa-graduation-cap"})}),t.jsx(be,{path:"users/staff",element:t.jsx(Fc,{role:"STAFF",roleName:"สตาฟ",roleIcon:"fa-user-tie"})}),t.jsx(be,{path:"users/admins",element:t.jsx(Fc,{role:"ADMIN",roleName:"แอดมิน",roleIcon:"fa-crown"})}),t.jsx(be,{path:"reports/members",element:t.jsx(o2,{})}),t.jsx(be,{path:"reports/activities",element:t.jsx(l2,{})}),t.jsx(be,{path:"reports/evaluations",element:t.jsx(c2,{})}),t.jsx(be,{path:"settings",element:t.jsx(jj,{})}),t.jsx(be,{path:"mail-settings",element:t.jsx(xj,{})}),t.jsx(be,{path:"mail-test",element:t.jsx(bj,{})})]}),t.jsxs(be,{path:"/staff",element:t.jsx(Qn,{requiredRole:"STAFF",children:t.jsx(aj,{})}),children:[t.jsx(be,{index:!0,element:t.jsx(d2,{})}),t.jsx(be,{path:"activities",element:t.jsx(u2,{})}),t.jsx(be,{path:"activities/create",element:t.jsx(Lc,{})}),t.jsx(be,{path:"serials/send",element:t.jsx(h2,{})}),t.jsx(be,{path:"profile",element:t.jsx(f2,{})}),t.jsx(be,{path:"reports/activities",element:t.jsx(m2,{})})]}),t.jsxs(be,{path:"/student",element:t.jsx(Qn,{requiredRole:"STUDENT",children:t.jsx(ad,{})}),children:[t.jsx(be,{index:!0,element:t.jsx(hj,{})}),t.jsx(be,{path:"progress",element:t.jsx(fj,{})}),t.jsx(be,{path:"serials",element:t.jsx(pj,{})}),t.jsx(be,{path:"history",element:t.jsx(mj,{})}),t.jsx(be,{path:"profile",element:t.jsx(wj,{})}),t.jsx(be,{path:"certificate",element:t.jsx(Sj,{})})]}),t.jsxs(be,{path:"/activities",element:t.jsx(p2,{}),children:[t.jsx(be,{index:!0,element:t.jsx(Nj,{})}),t.jsx(be,{path:"create",element:t.jsx(Qn,{requiredRole:"STAFF",children:t.jsx(Lc,{})})}),t.jsx(be,{path:"my",element:t.jsx(Qn,{children:t.jsx(dj,{})})}),t.jsx(be,{path:":id",element:t.jsx("div",{children:"Activity Details"})}),t.jsx(be,{path:":id/edit",element:t.jsx(Qn,{children:t.jsx("div",{children:"Edit Activity"})})})]})]})})}yb.createRoot(document.getElementById("root")).render(t.jsx(uo.StrictMode,{children:t.jsx(vy,{children:t.jsx(g2,{})})}));
